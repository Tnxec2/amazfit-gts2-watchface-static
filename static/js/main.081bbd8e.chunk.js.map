{"version":3,"sources":["app/components/main/previewComponent.module.css","app/components/main/JsonComponent.module.css","app/context/index.ts","app/shared/color.tsx","app/model/types.model.ts","app/model/json.model.tsx","app/model/watchFace.model.tsx","app/shared/constant.tsx","app/model/blocks.model.tsx","app/components/main/fileLoader.component.tsx","app/shared/draganddroplist.component.tsx","app/shared/selectFileList.component.tsx","app/blocks/checkboxBlock.component.tsx","app/blocks/colorBlock.component.tsx","app/blocks/numberBlock.component.tsx","app/blocks/selectBlock.component.tsx","app/blocks/row.component.tsx","app/blocks/blocksArray.component.tsx","app/components/watchface/imageDigit.component.tsx","app/components/watchface/systemFont.component.tsx","app/components/watchface/systemFontCircle.component.tsx","app/components/watchface/activityDigit.component.tsx","app/components/watchface/clockHand.component.tsx","app/components/watchface/imageCoords.component.tsx","app/components/watchface/imageProgress.component.tsx","app/components/watchface/progressbarCircle.component.tsx","app/components/watchface/progressbarLinear.component.tsx","app/components/watchface/activity.component.tsx","app/components/watchface/activitylist.component.tsx","app/components/watchface/background.component.tsx","app/components/watchface/date.component.tsx","app/components/watchface/status.component.tsx","app/components/watchface/timeAnalog.component.tsx","app/components/watchface/multiLangImageCoords.component.tsx","app/components/watchface/timeDigital.component.tsx","app/components/watchface/screennormal.component.tsx","app/model/weather.states.tsx","app/components/main/previewstates.component.tsx","app/components/watchface/backgroundaod.component.tsx","app/components/watchface/timeAnalogAOD.component.tsx","app/components/watchface/timeDigitalAOD.component.tsx","app/components/watchface/aod.component.tsx","app/components/watchface/widgetElement.component.tsx","app/components/watchface/widget.component.tsx","app/components/watchface/widgets.component.tsx","app/components/main/leftside.component.tsx","app/components/main/json.component.tsx","app/components/main/canvas.function.tsx","app/shared/helper.tsx","app/preview/imageCoords.element.tsx","app/preview/digitImage.element.tsx","app/preview/systemfont.element.tsx","app/preview/digit.element.tsx","app/preview/progressBarCircle.element.tsx","app/preview/progressBarLinear.element.tsx","app/preview/clockHand.element.tsx","app/preview/activity.element.tsx","app/preview/imageProgress.element.tsx","app/preview/date.element.tsx","app/preview/timeAnalog.element.tsx","app/preview/multiLangImageCoords.element.tsx","app/preview/timeDigital.element.tsx","app/preview/widgets.element.ts","app/components/main/preview.component.tsx","app/preview/background.element.ts","app/preview/status.element.tsx","app/preview/backgroundaod.element.ts","app/components/main/uploadedImages.component.tsx","app/components/main/rightside.component.tsx","app/model/watchState.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","WatchfaceContext","createContext","colorRegex","Color","hex","result","exec","r","parseInt","g","b","toString","padStart","color","length","substring","firstByteS","secondByteS","firstByte","secondByte","this","rgbToHex","h","hexToRgb","toUpperCase","test","DEFAULT_COLOR","JsonType","index","json","LangCodeType","undefined","Zh","Object","values","find","val","ZhHant","All","AlignmentType","Left","Center","Right","FollowType","Follow","Single","CommonType","Default","Min","Max","ImageProgressDisplayType","Continuous","DateType","Year","Month","Day","TimeType","Hour","Minute","Second","ActivityType","Date","Battery","Steps","Calories","HeartRate","Pai","Distance","StandUp","Weather","UVindex","AirQuality","Humidity","Sunrise","WindForce","Altitude","AirPressure","Stress","ActivityGoal","FatBurning","Coordinates","X","Y","ImageSetGTR2","ImageIndex","ImagesCount","ImageCoord","ImageIndex2","ImageIndex3","ImageProgress","ImageSet","DisplayType","ProgressBar","AngleSettings","LinearSettings","ForegroundImageIndex","Width","Flatness","PointerImageIndex","BackgroundImageIndex","StartX","StartY","EndX","EndY","Unknown5","StartAngle","EndAngle","Radius","ClockHand","Scale","Pointer","Cover","Unknown16","MultilangImageCoord","LangCode","Text","Image","SystemFont","Alignment","Spacing","PaddingZero","DisplayFormAnalog","NoDataImageIndex","MultilangImage","DecimalPointImageIndex","MultilangImageUnit","DelimiterImageIndex","MultilangImageUnitMile","FontRotate","Angle","Size","colorWrite","ShowUnitCheck","RotateDirection","DigitalDigit","Type","CombingMode","Digit","Separator","oneCoordinates","coordinates","x","y","forEach","coordinate","TypeOfDigit","digitTypes","hour","type","count","numberLenght","displayAnalog","imageProgressTotal","unit","separator","timeDelimiter","title","min","sec","year","month","monthasword","day","weekday","battery","steps","titleMin","calories","heartRate","pai","distance","decimalDelimiter","standUp","uvIndex","airQuality","humidity","sunrise","titleDefault","titleMax","windForce","airPressure","stress","activityGoal","fatBurning","weather","Background","imageIndex","previewIndex","collapsed","WatchImageCoords","j","enabled","WatchMultilangImageCoords","WatchImageProgress","WatchCommonDigit","d","con","enabledImage","enabledSystemFont","enabledSystemFontCircle","DATE","toJson","TIME","COMMON","WatchClockHand","WatchDialFace","collapsedDigital","collapsedAnalog","hoursDigital","minutesDigital","secondsDigital","hoursClockhand","minutesClockhand","secondsClockhand","am","pm","ElementOrderItem","jsonType","WatchDate","monthAsWord","weekDay","orderElements","WatchStatus","s","bluetooth","dnd","alarm","lock","Bluetooth","Lock","DoNotDisturb","Alarm","WatchProgressBar","enabledLinear","enabledCircle","jsonObj","WatchActivity","dt","key","digit","digitMin","digitMax","imageProgress","pointerProgress","progressBar","icon","shortcut","getTime","WatchAOD","dialFace","date","activitylistCollapsed","activitylist","backgroundImageIndex","backgroundCollapsed","newOrderElementsTime","DialFace","DigitalDialFace","Digits","push","AM","PM","AnalogDialFace","Hours","Minutes","newOrderElementsDate","DateDigits","el","WeeksDigits","getActivityListFromJson","Activity","getActivityFromJson","a","atype","_activity","_dt","PointerProgress","Icon","Shortcut","ar","_a","findByJson","WatchWidgetElement","previewImageIndex","activitys","orderElementsDate","Preview","findIndex","item","WatchWidget","width","height","widgetElementsCollapsed","widgetElements","borderActivImageIndex","borderInactivImageIndex","descriptionImageBackground","descriptionWidthCheck","Height","WidgetElement","BorderActivImageIndex","BorderInactivImageIndex","DescriptionImageBackground","DescriptionWidthCheck","WatchWidgets","topMaskImageIndex","underMaskImageIndex","showTimeOnEditScreen","widgets","TopMaskImageIndex","UnderMaskImageIndex","Unknown4","Widget","map","wi","WatchFace","background","activity","status","aod","colorBackgroundRead","ix","Seconds","System","Status","Widgets","ScreenIdle","Constant","max","resultIndex","startImageIndex","alert","NONE","deviceId","BlockType","FileLoaderComponent","useContext","images","setImages","setWatchface","setJsonName","onLoadJson","e","target","JSON","parse","w","getImages","files","clearInput","filename","name","base","lastIndexOf","id","isNaN","img","addEventListener","checkImagesCount","src","URL","createObjectURL","alt","image","sortedAr","sort","console","log","window","document","getElementById","value","className","multiple","accept","onChange","event","file","fr","FileReader","onload","readAsText","Button","onClick","initialDnDState","draggedFrom","draggedTo","isDragging","originalOrder","updatedOrder","DnDListComponent","_list","updateOrder","useState","dragAndDrop","setDragAndDrop","onDragStart","initialPosition","Number","currentTarget","dataset","position","dataTransfer","setData","onDragOver","preventDefault","newList","itemDragged","remainingItems","filter","slice","onDrop","onDragLeave","data-position","draggable","reactItem","OptionsAlignment","OptionsUnitSystemFont","OptionsSystemFontDirection","OptionsLineEndingLine","OptionsLineEndingCircle","SelectFileListComponent","setCollapsed","onFileSelected","options","i","disabled","CheckBoxBlockComponent","checked","ColorBlockComponent","style","NumberBlockComponent","SelectBlockComponent","RowComponent","row","showDelete","blocks","block","Empty","SelectFile","nvalue","Checkbox","Select","svalue","selectOptions","getBlock","onDelete","BlocksArrayComponent","ImageDigitComponent","onUpdate","showNoData","showDecimalPointer","showDelimiter","paddingZeroFix","followDisabled","imageSetIndex","onCopyFromNormal","useMemo","findImageIndex","unitImageSetIndex","onChangeImageIndex","onChangeX","onChangeY","onChangeUnit","onChangeNoData","onChangeDelimiter","onChangeDecimalPointer","onChangePaddingZero","onChangeSpacing","onChangeFollow","fromJson","onChangeAlignment","onChangeSeparator","onChangeSeparatorX","onChangeSeparatorY","Card","Header","digitimage","Body","SystemFontComponent","colorRead","onChangeColor","onChangeSize","onChangeAngle","onChangeUnitCheck","clear","float","SystemFontCircleComponent","onChangeRadius","onChangeDirection","ActivityDigitComponent","ClockHandComponent","clockHand","showAngle","scaleImageSetIndex","changePointerImageIndex","changeX","changeY","changePointerX","changePointerY","changeCoverImageIndex","changeCoverX","changeCoverY","changeScaleImageIndex","changeScaleX","changeScaleY","changeStartAngle","changeEndAngle","ch","ImageCoordsComponent","imageCoords","ip","ic","ImageProgressComponent","changeImageIndex","changeCount","coords","splice","ProgressbarCircleCodmponent","changeRadius","changeWidth","changeForegroundImageIndex","changeColor","changeLineEnding","changeBackgroundImageIndex","pBar","Math","abs","pb","ProgressbarLinearCodmponent","changeLength","start","ActivityComponent","onUpdateActivity","showProgress","onCopy","stopPropagation","role","ActivityListComponent","activityToAdd","setActivityToAdd","keys","findByIndex","al","updateActivity","confirm","deleteActivity","list","BackgroundComponent","watchface","onChangeBackgroundPreviewImage","onChangeBackgroundImageIndex","onChangeBackgroundColor","DateComponent","collapsedOrderElement","setCollapsedOrderelement","updateDay","_date","updateMonth","updateYear","StatusComponent","updateStatus","TimeAnalogComponent","MultilangImageCoordsComponent","TimeDigitalComponent","updateHoursDigit","t","updateTimeDigital","updateMinutesDigit","m","updateSecondsDigit","wdf","ScreenNormalcomponent","c","wf","WeatherStates","PreviewStatesComponent","watchState","setWatchState","useEffect","ws","time","hours","minutes","seconds","getFullYear","getMonth","getDate","getDay","step","split","v","stepsGoal","hearthrateGoal","hearthrate","paiGoal","standupGoal","standup","weatherIcon","temperature","temperatureMin","temperatureMax","airPressureGoal","activeWidget","BackgroundAODComponent","TimeAnalogAODComponent","TimeDigitalAODComponent","AodComponent","WidgetElementComponent","element","defaultCount","we","_we","WidgetComponent","widget","onChangeWidth","onChangeHeight","onChangeBorderActiv","onChangeBorderInactiv","onChangeDescriptionWidth","_wi","updateElement","deleteElement","WidgetsComponent","updateWidgets","_wf","updateWidget","deleteWidget","tabs","LeftSideComponent","setPreviewScreenNormal","selectedTab","setSelectedTab","tab","tabid","JsonComponent","jsonName","setJson","timeDigitalEnabled","timeDigitalAodEnabled","timeClockHandEnabled","timeClockHandAodEnabled","dateEnabled","dateAodEnabled","statusEnabled","dialFaceEnabled","dialFaceAodEnabled","timeDigits","getTimeDigital","timeDigitsAod","dateDigits","dateDigitsAod","activitysToJson","activitysAod","Info","DeviceId","colorBackgroundWrite","ProgressDialFace","DateProgressBar","DateClockHand","getWidgets","stringify","generateJson","Blob","href","download","saveJson","cl","alist","digits","getWidgetElement","getWidget","Canvas","props","draw","rest","canvasRef","useRef","canvas","current","context","getContext","ref","findImageById","error","drawImageCoords","ctx","imageCoord","drawImage","drawDigitImage","number","followXY","drawBorder","weatherIconCenterX","strNumber","concat","decimalPointer","chr","charAt","n","widthZero","widthUnit","startx","starty","spacing","alignment","strLenght","drawborder","imageWidth","maxWidth","beginPath","strokeStyle","rect","stroke","drawImages","drawSeparator","addUnitsAndSeparator","text","systemFont","getSystemFontText","systemFontText","drawDigit","fontSize","radius","font","tx","ty","fillStyle","save","translate","rotate","PI","measureText","fillText","spacingAngle","restore","drawSystemFontFontRotated","radians","drawSystemFont","drawProgressBarCircle","total","angleSettings","ax","ay","startAngle","sector_angle","dX","dY","backimg","flatness","endAngle","radianStart","radianEnd","clockwise","x1","cos","y1","sin","x2","y2","x3","y3","x5","y5","x6","y6","arc","moveTo","lineTo","x4","y4","xc1","yc1","xc2","yc2","drawArcPath","clip","GFG_Fun","lineWidth","closePath","fill","_x","_y","drawColorEndings","drawProgressBarLinear","lineB","endx","endy","fillRect","drawclockhand","offsetX","offsetY","_startAngle","angle","drawActivityList","digitBorder","mainScreen","weatherTemperatureActivityIndex","imageIndexWeather","_image_x","batteryGoal","drawActivity","cur","caloriesGoal","uvIndexGoal","airQualityGoal","humidityGoal","sunset","stressGoal","fatBurningGoal","coors","ceil","initial","drawImageProgress","drawDate","_temp","_follow","drawTimeAnalog","drawClockHand","drawMultilangImageCoords","drawTimeDigital","timeDigital","s_hours","s_minutes","s_seconds","drawWidgets","borderWidget","showWidgetPreview","topMask","bottomMask","imgBack","imgTop","imgFrame","strokeRect","drawWidget","storage_items","PreviewComponent","previewScreenNormal","setBorderWidget","setShowWidgetPreview","setX","setY","localStorage","getItem","whiteGrid","setWhiteGrid","blackGrid","setBlackGrid","setDigitBorder","drawLine","begin","end","canvasCcontainer","clearRect","drawBackground","drawStatus","drawNormal","drawAodBackground","drawAod","drawGrid","canvasPreview","getBoundingClientRect","clientX","left","clientY","top","round","wg","setItem","bg","db","UploadedImagesomponent","RightSideComponent","WatchState","getHours","getMinutes","getSeconds","random","App","Provider","Container","Row","Col","xs","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"4FACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,cAAgB,0C,mBCAhGD,EAAOC,QAAU,CAAC,KAAO,8B,+NCIZC,EAAmBC,wBAAc,M,sBCLxCC,EAAqB,kBAGNC,E,6FAInB,SAAgBC,GACd,IAAIC,EAAS,4CAA4CC,KAAKF,GAC9D,OAAOC,EACH,CACEE,EAAGC,SAASH,EAAO,GAAI,IACvBI,EAAGD,SAASH,EAAO,GAAI,IACvBK,EAAGF,SAASH,EAAO,GAAI,KAEzB,O,sBAGN,SAAgBE,EAAWE,EAAWC,GACpC,MACE,IACAH,EAAEI,SAAS,IAAIC,SAAS,EAAG,KAC3BH,EAAEE,SAAS,IAAIC,SAAS,EAAG,KAC3BF,EAAEC,SAAS,IAAIC,SAAS,EAAG,O,uBAO/B,SAAiBC,GACf,OAAKA,GACgB,KAAjBA,EAAMC,SACRD,EAAQA,EAAME,UAAU,EAAG,GAAKF,EAAME,UAAU,GAAI,KACjC,KAAjBF,EAAMC,SAAeD,EAAQ,IAAMA,EAAME,UAAU,IAGhDF,GANY,O,iCAYrB,SAA2BA,GACzB,IAAKA,EAAO,OAAO,KACE,KAAjBA,EAAMC,SACRD,EAAQA,EAAME,UAAU,EAAG,GAAKF,EAAME,UAAU,EAAG,KACrD,IAKIR,EACAE,EACAC,EAPAM,EAAaH,EAAME,UAAU,EAAG,IAChCE,EAAcJ,EAAME,UAAU,GAAI,IAClCG,EAAYV,SAASQ,EAAY,IACjCG,EAAaX,SAASS,EAAa,IAYvC,OANAV,GAAMW,GAAa,EAAK,KAAS,EACjCT,GAAOU,GAAc,EAAK,GAAqB,EAAZD,IAAqB,IAAO,EAC/DR,GAAkB,GAAbS,IAAsB,EAEXC,KAAKC,SAASd,EAAGE,EAAGC,K,kCAQtC,SAA4BN,GAC1B,IAAIkB,EAAIF,KAAKG,SAASnB,GAElBG,EAAIe,EAAEf,EACNE,EAAIa,EAAEb,EAKNU,EAJIG,EAAEZ,GAES,EAAK,IACTD,GAAK,EAAK,IAAQ,EAUjC,MADgB,UANDA,GAAK,EAAK,GACVF,GAAK,EAAK,KAAS,GAEPI,SAAS,IAAIC,SAAS,EAAG,KAAKY,cACvCL,EAAWR,SAAS,IAAIC,SAAS,EAAG,KAAKY,gB,wBAS7D,SAAkBpB,GAChB,IAAIkB,EAAIF,KAAKG,SAASnB,GAElBG,EAAIe,EAAEf,EACNE,EAAIa,EAAEb,EACNC,EAAIY,EAAEZ,EAOV,MAJE,OACAH,EAAEI,SAAS,IAAIC,SAAS,EAAG,KAC3BH,EAAEE,SAAS,IAAIC,SAAS,EAAG,KAC3BF,EAAEC,SAAS,IAAIC,SAAS,EAAG,O,qBAI/B,SAAeC,GACb,OAAOX,EAAWuB,KAAKZ,O,KAzGNV,EAEHuB,cAAgB,UCL3B,IAAMC,EACT,WAAmBC,EAAsBC,GAAe,yBAArCD,QAAoC,KAAdC,QAG9BC,EAAb,2FAKE,SAAcF,GACZ,YAAcG,IAAVH,EAA4BR,KAAKY,GAAGH,KACjCI,OAAOC,OAAOJ,GAAcK,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OAP1E,sBASE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKY,GAAGJ,MAChCK,OAAOC,OAAOJ,GAAcK,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAXxE,KAAaE,EACJE,GAAK,IAAIL,EAAS,EAAG,MADjBG,EAEJO,OAAS,IAAIV,EAAS,EAAG,UAFrBG,EAGJQ,IAAM,IAAIX,EAAS,EAAG,OAYxB,IAAMY,EAAb,2FAKE,SAAcX,GACZ,YAAcG,IAAVH,EAA4BR,KAAKoB,KAAKX,KACnCI,OAAOC,OAAOK,GAAeJ,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OAP3E,sBASE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKoB,KAAKZ,MAClCK,OAAOC,OAAOK,GAAeJ,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAXzE,KAAaW,EACJC,KAAO,IAAIb,EAAS,EAAG,QADnBY,EAEJE,OAAS,IAAId,EAAS,EAAG,UAFrBY,EAGJG,MAAQ,IAAIf,EAAS,EAAG,SAY1B,IAAMgB,EAAb,2FAIE,SAAcf,GACZ,YAAcG,IAAVH,EAA4BR,KAAKwB,OAAOf,KACrCI,OAAOC,OAAOS,GAAYR,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OANxE,sBAQE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKwB,OAAOhB,MACpCK,OAAOC,OAAOS,GAAYR,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAVtE,KAAae,EACJC,OAAS,IAAIjB,EAAS,EAAG,UADrBgB,EAEJE,OAAS,IAAIlB,EAAS,EAAG,UAY3B,IAAMmB,EAAb,2FAKE,SAAclB,GACZ,YAAcG,IAAVH,EAA4BR,KAAK2B,QAAQlB,KACtCI,OAAOC,OAAOY,GAAYX,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OAPxE,sBASE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAK2B,QAAQnB,MACrCK,OAAOC,OAAOY,GAAYX,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAXtE,KAAakB,EACJC,QAAU,IAAIpB,EAAS,EAAG,MADtBmB,EAEJE,IAAM,IAAIrB,EAAS,EAAG,OAFlBmB,EAGJG,IAAM,IAAItB,EAAS,EAAG,OAYxB,IAAMuB,EAAb,2FAIE,SAActB,GACZ,YAAcG,IAAVH,EAA4BR,KAAKyB,OAAOhB,KACrCI,OAAOC,OAAOgB,GAA0Bf,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OANtF,sBAQE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKyB,OAAOjB,MACpCK,OAAOC,OAAOgB,GAA0Bf,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAVpF,KAAasB,EACJL,OAAS,IAAIlB,EAAS,EAAG,UADrBuB,EAEJC,WAAa,IAAIxB,EAAS,EAAG,cAY/B,IAAMyB,EAAb,2FAKE,SAAcxB,GACZ,YAAcG,IAAVH,EAA4BR,KAAKiC,KAAKxB,KACnCI,OAAOC,OAAOkB,GAAUjB,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OAPtE,sBASE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKiC,KAAKzB,MAClCK,OAAOC,OAAOkB,GAAUjB,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAXpE,KAAawB,EACJC,KAAO,IAAI1B,EAAS,EAAG,QADnByB,EAEJE,MAAQ,IAAI3B,EAAS,EAAG,SAFpByB,EAGJG,IAAM,IAAI5B,EAAS,EAAG,OAYxB,IAAM6B,EAAb,2FAKE,SAAc5B,GACZ,YAAcG,IAAVH,EAA4BR,KAAKqC,KAAK5B,KACnCI,OAAOC,OAAOsB,GAAUrB,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OAPtE,sBASE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKqC,KAAK7B,MAClCK,OAAOC,OAAOsB,GAAUrB,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAXpE,KAAa4B,EACJC,KAAO,IAAI9B,EAAS,EAAG,QADnB6B,EAEJE,OAAS,IAAI/B,EAAS,EAAG,UAFrB6B,EAGJG,OAAS,IAAIhC,EAAS,EAAG,UAY3B,IAAMiC,EAAb,gGAqBE,SAAmBhC,GACjB,YAAcG,IAAVH,EAA4BR,KAAKyC,KAC9B5B,OAAOC,OAAO0B,GAAczB,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,OAvBnE,oBAyBE,SAAcA,GACZ,YAAcG,IAAVH,EAA4BR,KAAKyC,KAAKhC,KACnCI,OAAOC,OAAO0B,GAAczB,MAAK,SAACC,GAAD,OAASA,EAAIR,QAAUA,KAAOC,OA3B1E,wBA6BE,SAAkBA,GAChB,YAAaE,IAATF,EAA2BT,KAAKyC,KAC7B5B,OAAOC,OAAO0B,GAAczB,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,OA/BlE,sBAiCE,SAAgBA,GACd,YAAaE,IAATF,EAA2BT,KAAKyC,KAAKjC,MAClCK,OAAOC,OAAO0B,GAAczB,MAAK,SAACC,GAAD,OAASA,EAAIP,OAASA,KAAMD,UAnCxE,KAAagC,EACJC,KAAO,IAAIlC,EAAS,EAAG,QADnBiC,EAEJE,QAAU,IAAInC,EAAS,EAAG,WAFtBiC,EAGJG,MAAQ,IAAIpC,EAAS,EAAG,SAHpBiC,EAIJI,SAAW,IAAIrC,EAAS,EAAG,YAJvBiC,EAKJK,UAAY,IAAItC,EAAS,EAAG,aALxBiC,EAMJM,IAAM,IAAIvC,EAAS,EAAG,OANlBiC,EAOJO,SAAW,IAAIxC,EAAS,EAAG,YAPvBiC,EAQJQ,QAAU,IAAIzC,EAAS,EAAG,WARtBiC,EASJS,QAAU,IAAI1C,EAAS,EAAG,WATtBiC,EAUJU,QAAU,IAAI3C,EAAS,EAAG,WAVtBiC,EAWJW,WAAa,IAAI5C,EAAS,GAAI,cAX1BiC,EAYJY,SAAW,IAAI7C,EAAS,GAAI,YAZxBiC,EAaJa,QAAU,IAAI9C,EAAS,GAAI,WAbvBiC,EAcJc,UAAY,IAAI/C,EAAS,GAAI,aAdzBiC,EAeJe,SAAW,IAAIhD,EAAS,GAAI,YAfxBiC,EAgBJgB,YAAc,IAAIjD,EAAS,GAAI,eAhB3BiC,EAiBJiB,OAAS,IAAIlD,EAAS,GAAI,UAjBtBiC,EAkBJkB,aAAe,IAAInD,EAAS,GAAI,gBAlB5BiC,EAmBJmB,WAAa,IAAIpD,EAAS,GAAI,cC1HlC,IAUMqD,EAAb,sCACEC,EAAY,EADd,KAEEC,EAAY,GAGDC,EAAb,sCACEC,WAAqB,KADvB,KAEEC,YAAsB,GA6BXC,EAAb,sCACEN,YAA2B,IAAIA,EADjC,KAEEI,WAAqB,KAFvB,KAGEG,YAAsB,KAHxB,KAIEC,YAAsB,MA+DXC,EAAb,sCACET,YAA6B,GAD/B,KAEEU,SAAW,IAAIP,EAFjB,KAGEQ,YAAsBzC,EAAyBL,OAAOhB,MAS3C+D,EAAb,sCACEC,mBADF,OAEEC,oBAFF,OAGEC,0BAHF,OAIE5F,WAJF,OAKE6F,WALF,OAMEC,cANF,OAOEC,uBAPF,OAQEC,0BARF,GAWaL,EAAb,sCACEM,OAAiB,EADnB,KAEEC,OAAiB,EAFnB,KAGEC,KAAe,EAHjB,KAIEC,KAAe,EAJjB,KAKEC,cALF,GAQaX,EAAb,sCACEZ,EAAY,EADd,KAEEC,EAAY,EAFd,KAGEuB,WAAqB,EAHvB,KAIEC,SAAmB,IAJrB,KAKEC,OAAiB,GAeNC,EAAb,sCACE3B,OADF,OAEEC,OAFF,OAGE2B,WAHF,OAIEC,aAJF,OAKEC,WALF,OAMEN,gBANF,OAOEC,cAPF,OAQEM,eARF,GAiBaC,EAAb,sCACEjC,YAA2B,IAAIA,EADjC,KAEEU,SAA6B,CAC3B,CACEwB,SAAUpF,EAAaQ,IAAIT,KAC3B6D,SAAU,CACRN,WAAY,KACZC,YAAa,MAMR8B,EAAb,sCACEC,WADF,OAEEC,gBAFF,OAGEC,UAAoB/E,EAAcC,KAAKX,KAHzC,KAIE0F,QAAkB,EAJpB,KAKEC,aAAuB,EALzB,KAMEC,mBAA6B,GAGlBL,EAAb,sCACEnC,EAAY,EADd,KAEEC,EAAY,EAFd,KAGEwC,iBAA2B,KAH7B,KAIEC,eAAmC,CACjC,CACET,SAAUpF,EAAaQ,IAAIT,KAC3B6D,SAAU,CACRN,WAAY,KACZC,YAAa,KATrB,KAaEuC,uBAAiC,KAbnC,KAcEC,wBAdF,OAeEC,oBAA8B,KAfhC,KAgBEC,4BAhBF,GAmBaV,EAAb,sCACEW,gBADF,OAEEhD,iBAFF,OAGEiD,MAAgB,EAHlB,KAIEC,KAAe,GAJjB,KAKE/H,MAAiBA,EAAMgI,WAAW,WALpC,KAMEC,eAAyB,GAIdJ,EAAb,sCACE/C,EAAY,EADd,KAEEC,EAAY,EAFd,KAGEyB,OAAiB,EAHnB,KAIE0B,gBAA0B,GAGfC,EAAb,sCACEC,UADF,OAEE/E,cAFF,OAGEJ,cAHF,OAIEoF,iBAJF,OAKEC,MAAc,IAAItB,EALpB,KAMEuB,eANF,GASaf,EAAb,sCACET,SAAmBpF,EAAaQ,IAAIT,KADtC,KAEE6D,SAAyB,IAAIP,GAYxB,SAASwD,EAAeC,GAC3B,GAA2B,IAAvBA,EAAY9H,OAAc,OAAO,EACrC,IAAIT,GAAS,EACTwI,EAAID,EAAY,GAAG3D,EACnB6D,EAAIF,EAAY,GAAG1D,EAIvB,OAHA0D,EAAYG,SAAS,SAACC,GACdH,IAAMG,EAAW/D,GAAK6D,IAAME,EAAW9D,IAAG7E,GAAS,MAEpDA,EC3PX,IAsUY4I,EAtUNC,EAAa,CACjBC,KAAM,CACJC,KAAM5F,EAASC,KAAK7B,MACpByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,IAAK,KAChBC,UAAW,IACXC,eAAe,EACfC,MAAO,SAETC,IAAK,CACHT,KAAM5F,EAASE,OAAO9B,MACtByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,IAAK,KAChBC,UAAW,IACXC,eAAe,EACfC,MAAO,WAETE,IAAK,CACHV,KAAM5F,EAASG,OAAO/B,MACtByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,IAAK,KAChBC,UAAW,IACXC,eAAe,EACfC,MAAO,WAETG,KAAM,CACJX,KAAMhG,EAASC,KAAKzB,MACpByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,IAAK,KAChBC,UAAW,IACXE,MAAO,QAETI,MAAO,CACLZ,KAAMhG,EAASE,MAAM1B,MACrByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,IAAK,KAChBC,UAAW,IACXE,MAAO,SAETK,YAAa,CACXb,KAAMhG,EAASE,MAAM1B,MACrByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,iBAETM,IAAK,CACHd,KAAMhG,EAASG,IAAI3B,MACnByH,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,IAAK,KAChBC,UAAW,IACXE,MAAO,OAETO,QAAS,CACPf,KAAM,EACNC,MAAO,EACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,WAETQ,QAAS,CACPhB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,IAAK,IAAK,KACjBC,UAAW,IACXE,MAAO,WAETS,MAAO,CACLjB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,QAAS,SACpBC,UAAW,IACXE,MAAO,QACPU,SAAU,iBAEZC,SAAU,CACRnB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,OAAQ,OACnBC,UAAW,IACXE,MAAO,WACPU,SAAU,oBAEZE,UAAW,CACTpB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,EACpBC,KAAM,CAAC,GAAI,MAAO,OAClBC,UAAW,IACXE,MAAO,cAETa,IAAK,CACHrB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,OAETc,SAAU,CACRtB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,KAAM,MACjBC,UAAW,IACXiB,kBAAkB,EAClBf,MAAO,YAETgB,QAAS,CACPxB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,UACPU,SAAU,oBAEZO,QAAS,CACPzB,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,WAETkB,WAAY,CACV1B,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,eAETmB,SAAU,CACR3B,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,IAAK,IAAK,KACjBC,UAAW,IACXE,MAAO,YAEToB,QAAS,CACP5B,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXC,eAAe,EACfC,MAAO,UACPqB,aAAc,4BACdX,SAAU,UACVY,SAAU,UAEZC,UAAW,CACT/B,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,MAAO,OAClBC,UAAW,IACXE,MAAO,cAETwB,YAAa,CACXhC,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,gBAETyB,OAAQ,CACNjC,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,UAET0B,aAAc,CACZlC,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,eACPU,SAAU,oBAEZiB,WAAY,CACVnC,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,KACpBC,KAAM,CAAC,GAAI,GAAI,IACfC,UAAW,IACXE,MAAO,aACPU,SAAU,sBAEZkB,QAAS,CACPpC,KAAM,EACNC,MAAO,GACPC,aAAc,EACdC,eAAe,EACfC,mBAAoB,GACpBC,KAAM,CAAC,QAAM,QAAM,SACnBC,UAAW,IACXE,MAAO,UACPqB,aAAc,UACdX,SAAU,UACVY,SAAU,YAIDO,EAAb,sCACEC,WAAa,KADf,KAEEC,aAAe,KAFjB,KAGE9K,MAAQV,EAAMuB,cAHhB,KAIEkK,WAAY,GAaDC,EAIX,WAAYC,GAAiB,yBAH7BjK,KAAO,IAAIyD,EAGiB,KAF5ByG,SAAU,EAGJD,IACF1K,KAAK2K,SAAU,EACf3K,KAAKS,KAAOiK,IAILE,EAKX,WAAYF,EAAyBzC,GAAiB,yBAJtDxH,KAAO,IAAIoF,EAI0C,KAHrD8E,SAAU,EAG2C,KAFrD1C,MAAQ,EAGG,MAALyC,QAAmB/J,IAAN+J,IACf1K,KAAK2K,SAAU,EACf3K,KAAKS,KAAOiK,GAEVzC,IACFjI,KAAKiI,MAAQA,IAKN4C,EAIX,WAAYH,GAAoB,yBAHhCC,SAAU,EAGqB,KAF/BlK,KAAO,IAAI4D,EAGA,MAALqG,QAAmB/J,IAAN+J,IACf1K,KAAK2K,SAAU,EACf3K,KAAKS,KAAOiK,K,SAMN7C,O,eAAAA,I,eAAAA,I,oBAAAA,M,KAKL,IAAMiD,EACX,WAAY9C,EAAmB+C,EAAkBC,GAE/B,IAAD,IAGY,KAL8C,yBAqB3EvK,KAAqB,IAAIyG,EArBiD,KAsB1E8D,SAtB0E,OAuB1EL,SAAU,EAvBgE,KAwB1EM,cAAe,EAxB2D,KAyB1EC,mBAAoB,EAzBsD,KA0B1EC,yBAA0B,EAzBxBnL,KAAKS,KAAOsK,EACH,MAALA,KACF/K,KAAK2K,SAAU,GACf,UAAII,EAAE1D,aAAN,aAAI,EAASrB,SAAOhG,KAAKiL,cAAe,IACxC,UAAIF,EAAE1D,aAAN,aAAI,EAASpB,eACX,UAAI8E,EAAE1D,aAAN,iBAAI,EAASpB,kBAAb,aAAI,EAAqBW,YAAY5G,KAAKmL,yBAA0B,EAC/DnL,KAAKkL,mBAAoB,IAGvB,MAAPF,IACGD,IACH/K,KAAKS,KAAO,IAAIyG,EAChBlH,KAAKS,KAAK4G,MAAQ,IAAItB,GAExB/F,KAAKgL,IAAMA,GAEbhL,KAAKS,KAAKuB,SAAWgG,IAASH,EAAYuD,KAAOpJ,EAASqJ,OAAOL,EAAIhD,MAAQ,KAC7EhI,KAAKS,KAAK2B,SAAW4F,IAASH,EAAYyD,KAAOlJ,EAASiJ,OAAOL,EAAIhD,MAAQ,KAC7EhI,KAAKS,KAAK0G,KAAOa,IAASH,EAAY0D,OAAS7J,EAAW2J,OAAOL,EAAIhD,MAAQ,MAUpEwD,EAKX,WAAY/K,GAAmB,yBAJ/BkK,aAI8B,OAF9BlK,KAAkB,IAAI+E,EAGpBxF,KAAKS,KAAOA,EACRA,IAAMT,KAAK2K,SAAU,IAIhBc,EAAb,sCACEC,kBAAmB,EADrB,KAEEC,iBAAkB,EAFpB,KAGEC,aAAe,IAAId,EAAiBjD,EAAYyD,KAAM,KAAMxD,EAAWC,MAHzE,KAIE8D,eAAiB,IAAIf,EAAiBjD,EAAYyD,KAAM,KAAMxD,EAAWW,KAJ3E,KAKEqD,eAAiB,IAAIhB,EAAiBjD,EAAYyD,KAAM,KAAMxD,EAAWY,KAL3E,KAMEqD,eAAiB,IAAIP,EANvB,KAOEQ,iBAAmB,IAAIR,EAPzB,KAQES,iBAAmB,IAAIT,EARzB,KASEU,GAAK,IAAItB,EATX,KAUEuB,GAAK,IAAIvB,GAGEwB,EAGX,WAAYC,GAAqB,yBAF1BrE,UAEyB,OADzBQ,WACyB,EAC9BxI,KAAKgI,KAAOqE,EAAS7L,MACrBR,KAAKwI,MAAQ6D,EAAS5L,MAIb6L,EAAb,sCACE9B,WAAY,EADd,KAEEG,SAAU,EAFZ,KAGEhC,KAAO,IAAImC,EAAiBjD,EAAYuD,KAAM,KAAMtD,EAAWa,MAHjE,KAIEC,MAAQ,IAAIkC,EAAiBjD,EAAYuD,KAAM,KAAMtD,EAAWc,OAJlE,KAKEE,IAAM,IAAIgC,EAAiBjD,EAAYuD,KAAM,KAAMtD,EAAWgB,KALhE,KAMEyD,YAAc,IAAIzB,EAAiBjD,EAAYuD,KAAM,KAAMtD,EAAWe,aANxE,KAOE2D,QAAU,IAAI1B,EAAiBjD,EAAY0D,OAAQ,KAAMzD,EAAWiB,SAPtE,KASE0D,cAAgB,CACd,IAAIL,EAAiBpK,EAASC,MAC9B,IAAImK,EAAiBpK,EAASE,OAC9B,IAAIkK,EAAiBpK,EAASG,OAIrBuK,GAEX,WAAYC,GACF,IAAD,SADgB,yBADzBnC,WAAY,EACY,KAoBxBoC,UAAY,IAAInC,EAAiB,MApBT,KAqBxBoC,IAAM,IAAIpC,EAAiB,MArBH,KAsBxBqC,MAAQ,IAAIrC,EAAiB,MAtBL,KAuBxBsC,KAAO,IAAItC,EAAiB,MAtBtBkC,MACF,UAAIA,EAAEK,iBAAN,aAAI,EAAahJ,cACfhE,KAAK4M,UAAY,IAAInC,EAAiBkC,EAAEK,WACxChN,KAAK4M,UAAUjC,SAAU,IAE3B,UAAIgC,EAAEM,YAAN,aAAI,EAAQjJ,cACVhE,KAAK+M,KAAO,IAAItC,EAAiBkC,EAAEM,MACnCjN,KAAK+M,KAAKpC,SAAU,IAEtB,UAAIgC,EAAEO,oBAAN,aAAI,EAAgBlJ,cAClBhE,KAAK6M,IAAM,IAAIpC,EAAiBkC,EAAEO,cAClClN,KAAK6M,IAAIlC,SAAU,IAErB,UAAIgC,EAAEQ,aAAN,aAAI,EAASnJ,cACXhE,KAAK8M,MAAQ,IAAIrC,EAAiBkC,EAAEQ,OACpCnN,KAAK8M,MAAMnC,SAAU,KAUhByC,GAKX,WAAY3M,GAAqB,yBAJjC4M,mBAIgC,OAHhCC,mBAGgC,OAFhCC,aAEgC,EAC9BvN,KAAKuN,QAAU9M,EACXA,IACEA,EAAKiE,eACP1E,KAAKqN,eAAgB,EACd5M,EAAKgE,gBACZzE,KAAKsN,eAAgB,KAIhBE,GAcX,WAAYxF,EAAgByF,GAAwB,yBAbpDjD,WAAY,EAauC,KAZnDkD,SAYmD,OAXnD1F,UAWmD,OAVnDyF,QAUmD,OATnDE,WASmD,OARnDC,cAQmD,OAPnDC,cAOmD,OANnDC,cAAgB,IAAIjD,EAM+B,KALnDkD,gBAAkB,IAAIvC,EAK6B,KAJnDwC,YAAc,IAAIZ,GAIiC,KAHnDa,KAAO,IAAIxD,EAGwC,KAFnDyD,SAAqB,KAGnBlO,KAAK0N,IAAM1F,EAAKxH,MAAQ,KAAM,IAAIiC,MAAO0L,UACzCnO,KAAKgI,KAAOA,EACZhI,KAAKyN,GAAKA,EACVzN,KAAK8N,cAAcrN,KAAK6D,SAASL,YAAcwJ,EAAGrF,oBAMzCgG,GASX,WAAY1D,GAAgB,IAAD,+BAMzB,GANyB,yBAR3B2D,SAAW,IAAI5C,EAQY,KAP3B6C,KAAO,IAAIhC,EAOgB,KAN3BiC,uBAAwB,EAMG,KAL3BC,aAAgC,GAKL,KAJ3BC,0BAI2B,OAH3BC,qBAAsB,EAGK,KAF3BjO,UAE2B,EACzBT,KAAKqO,SAAW,IAAI5C,EACpBzL,KAAKsO,KAAO,IAAIhC,EAChBtM,KAAKwO,aAAe,GACpBxO,KAAKyO,qBAAuB,KAC5BzO,KAAKS,KAAOiK,EACH,MAALA,EAAJ,CACA1K,KAAKyO,qBAAuB/D,EAAE3F,qBAE9B/E,KAAKqO,SAAW,IAAI5C,EACpBzL,KAAKqO,SAASvC,eAAiB,KAC/B,IAAI6C,EAA2C,IAC/C,UAAIjE,EAAEkE,gBAAN,iBAAI,EAAYC,uBAAhB,aAAI,EAA6BC,SAC/BpE,EAAEkE,SAASC,gBAAgBC,OAAOnH,SAAQ,SAACoD,GACzC,OAAQA,EAAE3I,UACR,KAAKA,EAASE,OAAO7B,KACnB,EAAK4N,SAASxC,eAAiB,IAAIf,EAAiBjD,EAAYyD,KAAMP,EAAGjD,EAAWW,KACpFkG,EAAqBI,KAAK,IAAI3C,EAAiBhK,EAASE,SACxD,MACF,QACE,EAAK+L,SAASzC,aAAe,IAAId,EAAiBjD,EAAYyD,KAAMP,EAAGjD,EAAWC,MAClF4G,EAAqBI,KAAK,IAAI3C,EAAiBhK,EAASC,WAMhErC,KAAKqO,SAASnC,GAAK,IAAItB,EAAJ,UAA8BF,EAAEkE,gBAAhC,iBAA8B,EAAYC,uBAA1C,aAA8B,EAA6BG,IAC9EhP,KAAKqO,SAASlC,GAAK,IAAIvB,EAAJ,UAA8BF,EAAEkE,gBAAhC,iBAA8B,EAAYC,uBAA1C,aAA8B,EAA6BI,IAE9EjP,KAAKqO,SAAStC,eAAiB,IAAIP,EAAJ,UAC7Bd,EAAEkE,gBAD2B,iBAC7B,EAAYM,sBADiB,aAC7B,EAA4BC,OAE9BnP,KAAKqO,SAASrC,iBAAmB,IAAIR,EAAJ,UAC/Bd,EAAEkE,gBAD6B,iBAC/B,EAAYM,sBADmB,aAC/B,EAA4BE,SAE9BpP,KAAKqO,SAASpC,iBAAmB,KAEjCjM,KAAKsO,KAAO,IAAIhC,EAChB,IAAI+C,EAA2C,IAC/C,UAAI3E,EAAEjI,YAAN,aAAI,EAAQ6M,aACV5E,EAAEjI,KAAK6M,WAAW3H,SAAQ,SAACoD,GACzB,OAAQA,EAAE/I,UACR,KAAKA,EAASE,MAAMzB,KACdsK,EAAE1D,MAAMhB,mBACV,EAAKiI,KAAK/B,YAAc,IAAIzB,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWe,aAC7EwG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASE,UAExD,EAAKoM,KAAK1F,MAAQ,IAAIkC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWc,OACvEyG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASE,SAE1D,MACF,KAAKF,EAASG,IAAI1B,KAChB,EAAK6N,KAAKxF,IAAM,IAAIgC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWgB,KACrEuG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASG,MACxD,MACF,QACE,EAAKmM,KAAK3F,KAAO,IAAImC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWa,MACtE0G,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASC,WAKhEjC,KAAKsO,KAAK7B,cAAc9E,SAAQ,SAAC4H,GAC1BF,EAAqBtO,MAAK,SAAC4L,GAAD,OAAOA,EAAE3E,OAASuH,EAAGvH,SAClDqH,EAAqBN,KAAKQ,MAE9BvP,KAAKsO,KAAK7B,cAAgB4C,EAE1BrP,KAAKsO,KAAK9B,QAAU,IAAI1B,EAAiBjD,EAAY0D,OAAjC,UAClBb,EAAEjI,YADgB,aAClB,EAAQ+M,YACR1H,EAAWiB,SAGb/I,KAAKwO,aAAeiB,GAAwB/E,EAAEgF,YAI3C,SAASC,GAAoBC,EAAaC,GAC/C,IAAIC,EAA2B,KAC3BC,EAAyB,KAC7B,OAAQF,GACN,KAAKrN,EAAaE,QAChBqN,EAAMjI,EAAWkB,QACjB,MACF,KAAKxG,EAAaG,MAChBoN,EAAMjI,EAAWmB,MACjB,MACF,KAAKzG,EAAaI,SAChBmN,EAAMjI,EAAWqB,SACjB,MACF,KAAK3G,EAAaK,UAChBkN,EAAMjI,EAAWsB,UACjB,MACF,KAAK5G,EAAaM,IAChBiN,EAAMjI,EAAWuB,IACjB,MACF,KAAK7G,EAAaO,SAChBgN,EAAMjI,EAAWwB,SACjB,MACF,KAAK9G,EAAaQ,QAChB+M,EAAMjI,EAAW0B,QACjB,MACF,KAAKhH,EAAaU,QAChB6M,EAAMjI,EAAW2B,QACjB,MACF,KAAKjH,EAAaW,WAChB4M,EAAMjI,EAAW4B,WACjB,MACF,KAAKlH,EAAaY,SAChB2M,EAAMjI,EAAW6B,SACjB,MACF,KAAKnH,EAAaa,QAChB0M,EAAMjI,EAAW8B,QACjB,MACF,KAAKpH,EAAac,UAChByM,EAAMjI,EAAWiC,UACjB,MACF,KAAKvH,EAAagB,YAChBuM,EAAMjI,EAAWkC,YACjB,MACF,KAAKxH,EAAaS,QAChB8M,EAAMjI,EAAWsC,QACjB,MACF,KAAK5H,EAAakB,aAChBqM,EAAMjI,EAAWoC,aA6BrB,OAvBI6F,KACFD,EAAY,IAAItC,GAAcqC,EAAOE,IAC3BpC,MAAQ,IAAI7C,EAAiBjD,EAAY0D,OAAQ,KAAMwE,GACjED,EAAUlC,SAAW,IAAI9C,EAAiBjD,EAAY0D,OAAQ,KAAzC,2BAAmDwE,GAAnD,IAAwD/H,KAAMtG,EAAWE,IAAIpB,SAClGsP,EAAUjC,SAAW,IAAI/C,EAAiBjD,EAAY0D,OAAQ,KAAzC,2BAAmDwE,GAAnD,IAAwD/H,KAAMtG,EAAWG,IAAIrB,UAEhGsP,KACF,OAAIF,QAAJ,IAAIA,OAAJ,EAAIA,EAAGd,SACLc,EAAEd,OAAOnH,SAAQ,SAACgG,GACXA,EAAMxG,OAASzF,EAAWE,IAAInB,KACjCqP,EAAUlC,SAAW,IAAI9C,EAAiBjD,EAAY0D,OAAQoC,EAAzC,2BAAoDoC,GAApD,IAAyD/H,KAAMtG,EAAWE,IAAIpB,SAC3FmN,EAAMxG,OAASzF,EAAWG,IAAIpB,KACtCqP,EAAUjC,SAAW,IAAI/C,EAAiBjD,EAAY0D,OAAQoC,EAAzC,2BAAoDoC,GAApD,IAAyD/H,KAAMtG,EAAWG,IAAIrB,SAEnGsP,EAAUnC,MAAQ,IAAI7C,EAAiBjD,EAAY0D,OAAQoC,EAAzC,2BAAoDoC,GAApD,IAAyD/H,KAAMtG,EAAWC,QAAQnB,YAG1GsP,EAAUhC,cAAgB,IAAIjD,EAAJ,OAAuB+E,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAGvL,eACpDyL,EAAU/B,gBAAkB,IAAIvC,EAAJ,OAAmBoE,QAAnB,IAAmBA,OAAnB,EAAmBA,EAAGI,iBAClDF,EAAU9B,YAAc,IAAIZ,GAAJ,OAAqBwC,QAArB,IAAqBA,OAArB,EAAqBA,EAAGpL,aAChDsL,EAAU7B,KAAO,IAAIxD,EAAJ,OAAqBmF,QAArB,IAAqBA,OAArB,EAAqBA,EAAGK,MACzCH,EAAU5B,SAAV,OAAqB0B,QAArB,IAAqBA,OAArB,EAAqBA,EAAGM,UAEnBJ,EAGF,SAASL,GAAwBU,GACtC,GAAIA,EAAI,CACN,IAAI3B,EAAgC,GAKpC,OAJA2B,EAAGxI,SAAQ,SAACiI,GACV,IAAIQ,EAAKT,GAAoBC,EAAGpN,EAAa6N,WAAWT,EAAEzI,OACtDiJ,GAAI5B,EAAaO,KAAKqB,MAErB5B,EAEP,MAAO,GAKJ,IAAM8B,GAcX,WAAY5F,GAAoB,IAAD,OAC7B,GAD6B,yBAb/BF,WAAY,EAamB,KAZ/B+F,uBAY+B,OAX/BjC,UAW+B,OAV/BC,uBAAwB,EAUO,KAT/BiC,UAA6B,GASE,KAR/B/D,cAAgB,CACdgE,kBAAmB,CACjB,IAAIrE,EAAiBpK,EAASC,MAC9B,IAAImK,EAAiBpK,EAASE,OAC9B,IAAIkK,EAAiBpK,EAASG,OAK5BuI,EAAG,CAAC,IAAD,IACL,IAAKA,EAAEgG,QAAS,OAAO,KACvB,IAAIlQ,EAAQkK,EAAEgG,QAAQC,WAAU,SAACC,GAAD,OAAUA,EAAK9K,WAAapF,EAAaQ,IAAIT,QAC7ET,KAAKuQ,kBAAoB/P,GAAS,EAAIkK,EAAEgG,QAAQlQ,GAAO8D,SAASN,WAAa,EAC7EhE,KAAKwQ,UAAYf,GAAwB/E,EAAEgF,UAE3C1P,KAAKsO,KAAO,IAAIhC,EAChB,IAAI+C,EAA2C,IAC/C,UAAI3E,EAAEjI,YAAN,aAAI,EAAQ6M,aACV5E,EAAEjI,KAAK6M,WAAW3H,SAAQ,SAACoD,GACzB,OAAQA,EAAE/I,UACR,KAAKA,EAASE,MAAMzB,KACdsK,EAAE1D,MAAMhB,mBACV,EAAKiI,KAAK/B,YAAc,IAAIzB,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWe,aAC7EwG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASE,UAExD,EAAKoM,KAAK1F,MAAQ,IAAIkC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWc,OACvEyG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASE,SAE1D,MACF,KAAKF,EAASG,IAAI1B,KAChB,EAAK6N,KAAKxF,IAAM,IAAIgC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWgB,KACrEuG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASG,MACxD,MACF,QACE,EAAKmM,KAAK3F,KAAO,IAAImC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWa,MACtE0G,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASC,WAKhEjC,KAAKyM,cAAcgE,kBAAkB9I,SAAQ,SAAC4H,GACvCF,EAAqBtO,MAAK,SAAC4L,GAAD,OAAOA,EAAE3E,OAASuH,EAAGvH,SAClDqH,EAAqBN,KAAKQ,MAE9BvP,KAAKyM,cAAcgE,kBAAoBpB,EAEvCrP,KAAKsO,KAAK9B,QAAU,IAAI1B,EAAiBjD,EAAY0D,OAAjC,UAClBb,EAAEjI,YADgB,aAClB,EAAQ+M,YACR1H,EAAWiB,WAMN8H,GAaX,WAAYnG,GAAa,IAAD,gCAZxBF,WAAY,EAYY,KAXxB/C,EAAY,EAWY,KAVxBC,EAAY,EAUY,KATxBoJ,MAAgB,EASQ,KARxBC,OAAiB,EAQO,KAPxBC,yBAA0B,EAOF,KANxBC,eAAuC,GAMf,KALxBC,2BAKwB,OAJxBC,6BAIwB,OAHxBC,2BAA+C,IAAI3G,EAG3B,KAFxB4G,sBAAgC,EAGzB3G,IACH1K,KAAKyH,EAAIiD,EAAE7G,EAAI6G,EAAE7G,EAAI,EACrB7D,KAAK0H,EAAIgD,EAAE5G,EAAI4G,EAAE5G,EAAI,EACrB9D,KAAK8Q,MAAQpG,EAAE9F,MACf5E,KAAK+Q,OAASrG,EAAE4G,OAChBtR,KAAKiR,eAAiB,GAClBvG,EAAE6G,eACJ7G,EAAE6G,cAAc5J,SAAQ,SAACiJ,GACvB,EAAKK,eAAelC,KAAK,IAAIuB,GAAmBM,OAGpD5Q,KAAKkR,sBAAwBxG,EAAE8G,sBAC/BxR,KAAKmR,wBAA0BzG,EAAE+G,wBACjCzR,KAAKoR,2BAA6B,IAAI3G,EAAiBC,EAAEgH,4BACzD1R,KAAKqR,sBAAwB3G,EAAEiH,wBAKxBC,GAQX,WAAYnR,GAAiB,yBAP7BkK,aAO4B,OAN5BH,WAAY,EAMgB,KAL5BqH,uBAK4B,OAJ5BC,yBAI4B,OAH5BC,0BAG4B,OAF5BC,QAAyB,GAGnBvR,IACFT,KAAK2K,SAAU,EACf3K,KAAK6R,kBAAoBpR,EAAKwR,kBAC9BjS,KAAK8R,oBAAsBrR,EAAKyR,oBAChClS,KAAK+R,qBAAuBtR,EAAK0R,SACjCnS,KAAKgS,QAAU,GACXvR,EAAK2R,SACPpS,KAAKgS,QAAUvR,EAAK2R,OAAOC,KAAI,SAACC,GAAD,OAAQ,IAAIzB,GAAYyB,SAM1CC,GAUnB,WAAY7H,GAAgB,IAAD,2CACzB,GADyB,yBAT3B8H,WAAyB,IAAInI,EASF,KAR3BgE,SAA0B,IAAI5C,EAQH,KAP3B6C,KAAkB,IAAIhC,EAOK,KAN3BiC,uBAAwB,EAMG,KAL3BkE,SAA4B,GAKD,KAJ3BC,OAAS,IAAIhG,GAIc,KAH3BsF,QAAU,IAAIJ,GAAa,MAGA,KAF3Be,IAAM,IAAIvE,GAAS,MAGZ1D,EAAL,CAWA,GATA1K,KAAKwS,WAAa,IAAInI,EACtBrK,KAAKqO,SAAW,IAAI5C,EACpBzL,KAAKsO,KAAO,IAAIhC,EAChBtM,KAAKyS,SAAW,GAChBzS,KAAK0S,OAAS,IAAIhG,GAClB1M,KAAK2S,IAAM,IAAIvE,GAAS,MAExBpO,KAAKwS,WAAW/S,MAAQV,EAAM6T,oBAAoBlI,EAAEL,WAAWtL,OAC/DiB,KAAKwS,WAAWlI,WAAaI,EAAEL,WAAWtF,qBACtC2F,EAAEL,WAAWqG,QAAS,CAAC,IAAD,QACpBmC,EAAK,EACT,UAAAnI,EAAEL,kBAAF,mBAAcqG,eAAd,SAAuB/I,SAAQ,SAACiJ,EAAMpQ,GAChCoQ,EAAK9K,WAAapF,EAAaQ,IAAIT,OACrCoS,EAAKrS,MAGTR,KAAKwS,WAAWjI,aAAhB,UAA+BG,EAAEL,WAAWqG,QAAQmC,UAApD,iBAA+B,EAA0BvO,gBAAzD,aAA+B,EAAoCN,WAGrEhE,KAAKqO,SAAW,IAAI5C,EACpB,IAAIkD,EAA2C,IAC/C,UAAIjE,EAAEkE,gBAAN,iBAAI,EAAYC,uBAAhB,aAAI,EAA6BC,SAC/BpE,EAAEkE,SAASC,gBAAgBC,OAAOnH,SAAQ,SAACoD,GACzC,OAAQA,EAAE3I,UACR,KAAKA,EAASE,OAAO7B,KACnB,EAAK4N,SAASxC,eAAiB,IAAIf,EAAiBjD,EAAYyD,KAAMP,EAAGjD,EAAWW,KACpFkG,EAAqBI,KAAK,IAAI3C,EAAiBhK,EAASE,SACxD,MACF,KAAKF,EAASG,OAAO9B,KACnB,EAAK4N,SAASvC,eAAiB,IAAIhB,EAAiBjD,EAAYyD,KAAMP,EAAGjD,EAAWY,KACpFiG,EAAqBI,KAAK,IAAI3C,EAAiBhK,EAASG,SACxD,MACF,QACE,EAAK8L,SAASzC,aAAe,IAAId,EAAiBjD,EAAYyD,KAAMP,EAAGjD,EAAWC,MAClF4G,EAAqBI,KAAK,IAAI3C,EAAiBhK,EAASC,WAMhErC,KAAKqO,SAASnC,GAAK,IAAItB,EAAJ,UAA8BF,EAAEkE,gBAAhC,iBAA8B,EAAYC,uBAA1C,aAA8B,EAA6BG,IAC9EhP,KAAKqO,SAASlC,GAAK,IAAIvB,EAAJ,UAA8BF,EAAEkE,gBAAhC,iBAA8B,EAAYC,uBAA1C,aAA8B,EAA6BI,IAE9EjP,KAAKqO,SAAStC,eAAiB,IAAIP,EAAJ,UAC7Bd,EAAEkE,gBAD2B,iBAC7B,EAAYM,sBADiB,aAC7B,EAA4BC,OAE9BnP,KAAKqO,SAASrC,iBAAmB,IAAIR,EAAJ,UAC/Bd,EAAEkE,gBAD6B,iBAC/B,EAAYM,sBADmB,aAC/B,EAA4BE,SAE9BpP,KAAKqO,SAASpC,iBAAmB,IAAIT,EAAJ,UAC/Bd,EAAEkE,gBAD6B,iBAC/B,EAAYM,sBADmB,aAC/B,EAA4B4D,SAG9B9S,KAAKsO,KAAO,IAAIhC,EAChB,IAAI+C,EAA2C,IAC/C,UAAI3E,EAAEqI,cAAN,iBAAI,EAAUtQ,YAAd,aAAI,EAAgB6M,aAClB5E,EAAEqI,OAAOtQ,KAAK6M,WAAW3H,SAAQ,SAACoD,GAChC,OAAQA,EAAE/I,UACR,KAAKA,EAASE,MAAMzB,KACdsK,EAAE1D,MAAMhB,mBACV,EAAKiI,KAAK/B,YAAc,IAAIzB,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWe,aAC7EwG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASE,UAExD,EAAKoM,KAAK1F,MAAQ,IAAIkC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWc,OACvEyG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASE,SAE1D,MACF,KAAKF,EAASG,IAAI1B,KAChB,EAAK6N,KAAKxF,IAAM,IAAIgC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWgB,KACrEuG,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASG,MACxD,MACF,QACE,EAAKmM,KAAK3F,KAAO,IAAImC,EAAiBjD,EAAYuD,KAAML,EAAGjD,EAAWa,MACtE0G,EAAqBN,KAAK,IAAI3C,EAAiBpK,EAASC,WAKhEjC,KAAKsO,KAAK7B,cAAc9E,SAAQ,SAAC4H,GAC1BF,EAAqBtO,MAAK,SAAC4L,GAAD,OAAOA,EAAE3E,OAASuH,EAAGvH,SAClDqH,EAAqBN,KAAKQ,MAE9BvP,KAAKsO,KAAK7B,cAAgB4C,EAE1BrP,KAAKsO,KAAK9B,QAAU,IAAI1B,EAAiBjD,EAAY0D,OAAjC,UAClBb,EAAEqI,cADgB,iBAClB,EAAUtQ,YADQ,aAClB,EAAgB+M,YAChB1H,EAAWiB,SAGb/I,KAAK0S,OAAS,IAAIhG,GAAJ,UAAgBhC,EAAEqI,cAAlB,aAAgB,EAAUC,QAExChT,KAAKyS,SAAWhD,GAAuB,UAAC/E,EAAEqI,cAAH,aAAC,EAAUrD,UAElD1P,KAAKgS,QAAU,IAAIJ,GAAalH,EAAEuI,SAClCjT,KAAK2S,IAAM,IAAIvE,GAAS1D,EAAEwI,cCt4BjBC,GAAb,kGAOE,SAAqB3S,EAAe4S,GAClC,IAAMC,EAAc7S,EAAQ2S,EAASG,gBACrC,OAAID,GAAeD,GACjBG,MAAM,mBAAqBF,GACpB,GAEF7S,MAbX,KAAa2S,GACKK,KAAO,OADZL,GAEKG,gBAAkB,EAFvBH,GAGKrC,MAAgB,IAHrBqC,GAIKpC,OAAiB,IAJtBoC,GAKKM,SAAmB,G,ICLzBC,G,QCsHGC,GA9GiB,WAAO,IAAD,EAElCC,qBAA0BhV,GADpBiV,EAD4B,EAC5BA,OAAQC,EADoB,EACpBA,UAAWC,EADS,EACTA,aAAcC,EADL,EACKA,YAGzC,SAASC,EAAWC,GAClB,IAAIzT,EAAOyT,EAAEC,OAAOlV,OAChByL,EAAe0J,KAAKC,MAAM5T,EAAKlB,YAC/B+U,EAAI,IAAI/B,GAAU7H,GACtBqJ,EAAaO,GAiBf,SAASC,EAAUC,EAAiBrE,GAA0B,IAAZ3P,EAAW,uDAAH,EAGxD,GAFAiU,IACAT,EAAY,MACRxT,EAAQgU,EAAM9U,OAAQ,CACxB,IAAMgV,EAAWF,EAAMhU,GAAOmU,KAC1BC,EAAOF,GACoB,IAA3BE,EAAKC,YAAY,OACnBD,EAAOA,EAAKjV,UAAU,EAAGiV,EAAKC,YAAY,OAE5C,IAAMC,EAAK1V,SAASwV,GACpB,GAAK,QAAQvU,KAAKuU,KAAUG,MAAMD,GAAK,CACrC,IAAME,EAAM,IAAIhP,MAChBgP,EAAIC,iBAAiB,QAAQ,YAC3BzU,GAAS,GACGgU,EAAM9U,OAChB6U,EAAUC,EAAOrE,EAAI3P,GAErB0U,EAAiB/E,MAGrB6E,EAAIG,IAAMC,IAAIC,gBAAgBb,EAAMhU,IACpCwU,EAAIM,IAAMZ,EACVvE,EAAGpB,KAAK,CACN+F,GAAIA,EACJH,KAAMD,EACNa,MAAOP,SAGTxU,GAAS,GACGgU,EAAM9U,OAAQ6U,EAAUC,EAAOrE,EAAI3P,GAC1C0U,EAAiB/E,IAK5B,SAAS+E,EAAiB/E,GAExB,IAAIqF,EAAWrF,EAAGsF,MAAK,SAAC7F,EAAGtQ,GAAJ,OAAUsQ,EAAEkF,GAAKxV,EAAEwV,MAErCU,EAASA,EAAS9V,OAAO,GAAGoV,KAAOU,EAAS9V,OAAS,EAAIyT,GAASG,kBACrEoC,QAAQC,IAAIH,EAAS9V,OAAQ,EAAIyT,GAASG,gBAAiBkC,EAASA,EAAS9V,OAAO,GAAGoV,IAEvFc,OAAOrC,MAAM,0GAEViC,EAAS,GAAGV,KAAO3B,GAASG,iBAC/BsC,OAAOrC,MAAP,8CAAoDJ,GAASG,gBAA7D,MAEFQ,EAAU0B,GAGZ,SAASf,IACHoB,SAASC,eAAe,cAAcD,SAASC,eAAe,YAAiCC,MAAQ,MAC3GhC,EAAa,IAAIxB,IAGnB,OACE,+BACE,wBAAMyD,UAAU,kCAAhB,UACE,uBAAMA,UAAU,mBAAhB,yBACA,wBACEhO,KAAK,OACLiO,UAAQ,EACRnB,GAAG,aACHoB,OAAO,UACPC,SApER,SAA6BC,GAC3B7B,EAAU6B,EAAMjC,OAAOK,MAAO,OAqEzBX,EAAOnU,OAAS,EACf,uCACE,uBAAMsW,UAAU,mBAAhB,4BACA,wBACEhO,KAAK,OACLkO,OAAO,mBACPpB,GAAG,WACHqB,SAvFZ,SAAwBjC,GACtB,IAAImC,EAAOnC,EAAEC,OAAOK,MAAM5D,KAAK,GAC/B,GAAIyF,EAAM,CACR,IAAIC,EAAK,IAAIC,WACbD,EAAGE,OAASvC,EACZqC,EAAGG,WAAWJ,GACdrC,EAAYE,EAAEC,OAAOK,MAAM5D,KAAK,GAAG+D,UAmF7B,eAAC+B,EAAA,EAAD,CAAQC,QAASlC,EAAjB,sBAGF,S,kBCjGJmC,I,MAAkB,CACtBC,YAAa,KACbC,UAAW,KACXC,YAAY,EACZC,cAAe,GACfC,aAAc,KA6GDC,GA1GsB,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,MAAOC,EAAkB,EAAlBA,YAAkB,EACzBC,mBAAST,IADgB,mBACxDU,EADwD,KAC3CC,EAD2C,KAK/D,SAASC,EAAYpB,GACnB,IAAMqB,EAAkBC,OAAOtB,EAAMuB,cAAcC,QAAQC,UAE3DN,EAAe,2BACVD,GADS,IAEZT,YAAaY,EACbV,YAAY,EACZC,cAAeG,KAMjBf,EAAM0B,aAAaC,QAAQ,YAAa,IAM1C,SAASC,EAAW5B,GAIlBA,EAAM6B,iBAEN,IAAIC,EAAUZ,EAAYN,cAGpBH,EAAcS,EAAYT,YAG1BC,EAAYY,OAAOtB,EAAMuB,cAAcC,QAAQC,UAE/CM,EAAcD,EAAQrB,GACtBuB,EAAiBF,EAAQG,QAC7B,SAACzH,EAAMpQ,GAAP,OAAiBA,IAAUqW,KAG7BqB,EAAO,uBACFE,EAAeE,MAAM,EAAGxB,IADtB,CAELqB,GAFK,aAGFC,EAAeE,MAAMxB,KAGtBA,IAAcQ,EAAYR,YAC5BS,EAAe,2BACVD,GADS,IAEZL,aAAciB,EACdpB,UAAWA,KAEbM,EAAYc,IAIhB,SAASK,EAAOnC,GACdgB,EAAYE,EAAYL,cAExBM,EAAe,2BACVD,GADS,IAEZT,YAAa,KACbC,UAAW,KACXC,YAAY,KAIhB,SAASyB,IACPjB,EAAe,2BACVD,GADS,IAEZR,UAAW,QAIf,OACE,qCACE,qBAAId,UAAU,sBAAd,SACGmB,EAAM9E,KAAI,SAACzB,EAAMpQ,GAChB,OACE,qBAEEiY,gBAAejY,EACfkY,WAAS,EACTlB,YAAaA,EACbQ,WAAYA,EACZO,OAAQA,EACRC,YAAaA,EACbxC,UAAS,0BACPsB,GAAeA,EAAYR,YAAcY,OAAOlX,GAC5C,WACA,IAENgI,MAAM,gCAbR,SAeKoI,EAAK+H,WAdHnY,Y,SFzGPkT,O,iBAAAA,I,mBAAAA,I,eAAAA,I,eAAAA,I,uBAAAA,I,mBAAAA,I,iBAAAA,I,4BAAAA,Q,KAuBL,IAAMkF,GAA+B,CAAE,CAAC7C,MAAM,IAAKvN,MAAO,QAAS,CAACuN,MAAO,IAAKvN,MAAO,UAAW,CAACuN,MAAM,IAAKvN,MAAO,UAC/GqQ,GAAoC,CAAE,CAAC9C,MAAM,KAAMvN,MAAO,WAAY,CAACuN,MAAO,IAAKvN,MAAO,UAAW,CAACuN,MAAM,IAAKvN,MAAO,QACxHsQ,GAAyC,CAAE,CAAC/C,MAAM,IAAKvN,MAAO,aAAc,CAACuN,MAAO,IAAKvN,MAAO,kBAChGuQ,GAAoC,CAAE,CAAChD,MAAM,IAAKvN,MAAO,UAAW,CAACuN,MAAM,MAAOvN,MAAO,SACzFwQ,GAAsC,CAAE,CAACjD,MAAM,IAAKvN,MAAO,UAAW,CAACuN,MAAO,KAAMvN,MAAO,YAAa,CAACuN,MAAM,MAAOvN,MAAO,SGkE3HyQ,I,MAnF6B,SAAC,GAItC,IAHLzQ,EAGI,EAHJA,MACAuN,EAEI,EAFJA,MACAI,EACI,EADJA,SAEQtC,EAAWD,qBAA0BhV,GAArCiV,OADJ,EAG8BwD,oBAAkB,GAHhD,mBAGG7M,EAHH,KAGc0O,EAHd,KAKJ,SAASC,EAAerE,GACtBqB,EAASrB,GACToE,GAAa,GAOf,IAAME,EAA0B,GAQhC,GANAA,EAAQrK,KACN,yBAAqBgH,MAAO,OAA5B,SACG,KADU,SAKXlC,EACF,IADW,IAAD,aAER,IAAImB,EAAMnB,EAAOwF,GAEjBD,EAAQrK,KACN,sBAEEgH,MAAOf,EAAIF,GACXkB,UAAU,2BACVW,QAAS,kBAAMwC,EAAenE,EAAIF,KAJpC,UAMG,sBAAKK,IAAKH,EAAIO,MAAMJ,IAAKG,IAAKN,EAAIL,KAAM7D,MAAO,KAC/CkE,EAAIL,OANAK,EAAIF,MALNuE,EAAI,EAAGA,EAAIxF,EAAOnU,OAAQ2Z,IAAM,IAiB3C,OACE,uCACE,uBAAMrD,UAAU,mBAAhB,SAAoCxN,IACpC,uBAAKwN,UAAU,4BAAf,UACE,+BACa,OAAVD,QACSpV,IAAVoV,GACAlC,EAAOkC,EAAQ5C,GAASG,iBACpBO,EAAOkC,EAAQ5C,GAASG,iBAAiBqB,KACzC,SAELnK,EACC,GAEA,qBAAIwL,UAAU,8BAAd,SAA6CoD,OAGjD,yBACEpD,UAAU,4BACVhO,KAAK,SACL2O,QAAS,WACPuC,GAAc1O,IAEhB8O,UAAWzF,GAA4B,IAAlBA,EAAOnU,OAN9B,eAUA,yBACEsW,UAAU,4BACVhO,KAAK,SACL2O,QA5DN,WACEwC,EAAe,OA4DXG,UAAWvD,EAJb,oBCrDSwD,GAnB4B,SAAC,GAA4C,IAA1C/Q,EAAyC,EAAzCA,MAAOgR,EAAkC,EAAlCA,QAASrD,EAAyB,EAAzBA,SAAUmD,EAAe,EAAfA,SACpE,OACI,uCACI,uBAAMtD,UAAU,mBAAmBlB,GAAG,iBAAtC,SACKtM,IAEL,sBAAKwN,UAAU,mBAAf,SACI,wBACIA,UAAU,uCACVhO,KAAK,WACLsR,SAAUA,EACVE,UAASA,EACTrD,SAAQ,8GAAE,kBAAMA,GAAUqD,cCO/BC,GArByB,SAAC,GAAgC,IAA9BjR,EAA6B,EAA7BA,MAAOuN,EAAsB,EAAtBA,MAAOI,EAAe,EAAfA,SAGrD,OACI,uCACI,uBAAMH,UAAU,mBAAhB,SAAoCxN,IACpC,wBACER,KAAK,QACLgO,UAAU,+BACV0D,MAAO,CAAE5I,MAAO,IAChBqF,SAAQ,+GAAE,SAACjC,GACTiC,EAASjC,EAAEC,OAAO4B,UAEpBjB,GAAG,kBACHiB,MAAOA,EACPvN,MAAM,qBCULmR,GAtB0B,SAAC,GAAoD,IAAlDnR,EAAiD,EAAjDA,MAAOuN,EAA0C,EAA1CA,MAAOI,EAAmC,EAAnCA,SAAUmD,EAAyB,EAAzBA,SAAU7Q,EAAe,EAAfA,IAAK2K,EAAU,EAAVA,IAC/E,OACI,uCACI,uBAAM4C,UAAU,mBAAmBlB,GAAG,iBAAtC,SACKtM,IAEL,wBACIR,KAAK,SACLgO,UAAU,+BACVD,MAAOA,GAAS,EAChBtN,IAAKA,EACL2K,IAAKA,EACL+C,SAAQ,+GAAE,SAACjC,GACP,IAAIlT,EAAM5B,SAAS8U,EAAEC,OAAO4B,OAC5BI,EAASpB,MAAM/T,GAAO,EAAIA,MAE9BsY,SAAUA,QCQXM,GAvB0B,SAAC,GAAmD,IAAjDpR,EAAgD,EAAhDA,MAAOuN,EAAyC,EAAzCA,MAAOI,EAAkC,EAAlCA,SAAUmD,EAAwB,EAAxBA,SAAUF,EAAc,EAAdA,QAC1E,OACI,uCACI,uBAAMpD,UAAU,mBAAhB,SACKxN,IAEL,yBACI8Q,SAAUA,EACVvD,MAAOA,EACPC,UAAU,6BACVG,SAAQ,+GAAE,SAACjC,GAAD,OAAOiC,EAASjC,EAAEC,OAAO4B,UAJvC,SAMMqD,EAAQ/G,KACN,SAACzB,GAAD,OACA,yBAAyBmF,MAAOnF,EAAKmF,MAArC,SACKnF,EAAKpI,OADGoI,EAAKmF,gBC6DvB8D,GA3EkB,SAAC,GAAa,IAAXC,EAAU,EAAVA,IA8DhC,OACI,qCACI,uBAAK9D,UAAS,4CAAwC8D,EAAIC,WAAa,0BAA4B,IAAnG,UACKD,EAAIE,OAAO3H,KAAI,SAAC4H,EAAOzZ,GAAR,OA/D5B,SAAkByZ,EAAezZ,GAC7B,IAAIvB,EAAc,GAClB,OAAQgb,EAAMjS,MACV,KAAK0L,GAAUwG,MACXjb,EAAS,uBAAkB+W,UAAU,mBAA5B,SAAgDiE,EAAMzR,OAA3ChI,GACpB,MACJ,KAAKkT,GAAUyG,WACXlb,EACI,eAAC,GAAD,CAEIuJ,MAAOyR,EAAMzR,MACb2N,SAAU8D,EAAM9D,SAChBJ,MAAOkE,EAAMG,QAHR5Z,GAKb,MACJ,KAAKkT,GAAUgE,OACXzY,EACI,eAAC,GAAD,CAEIuJ,MAAOyR,EAAMzR,MACb2N,SAAU8D,EAAM9D,SAChBJ,MAAOkE,EAAMG,OACbd,SAAUW,EAAMX,UAJX9Y,GAMb,MACJ,KAAKkT,GAAU2G,SACXpb,EACI,eAAC,GAAD,CAEIuJ,MAAOyR,EAAMzR,MACb2N,SAAU8D,EAAM9D,SAChBqD,QAASS,EAAMT,QACfF,SAAUW,EAAMX,UAJX9Y,GAMb,MACJ,KAAKkT,GAAU4G,OACXrb,EACI,eAAC,GAAD,CAEIuJ,MAAOyR,EAAMzR,MACb2N,SAAU8D,EAAM9D,SAChBJ,MAAOkE,EAAMM,OACbjB,SAAUW,EAAMX,SAChBF,QAASa,EAAMO,eALVha,GAOb,MACJ,KAAKkT,GAAU3U,MACXE,EACI,eAAC,GAAD,CAEIuJ,MAAOyR,EAAMzR,MACb2N,SAAU8D,EAAM9D,SAChBJ,MAAOkE,EAAMM,QAHR/Z,GASrB,OAAOvB,EAMKwb,CAASR,EAAOzZ,MAElBsZ,EAAIC,WACF,yBAAQ/D,UAAU,yBAAyBhO,KAAK,SAAS2O,QAASmD,EAAIY,SAAUpB,UAAWQ,EAAIY,SAA/F,oBAA2H,SC9DhIC,GAX0B,SAAC,GAAU,IAATxK,EAAQ,EAARA,GACvC,OACI,qCACMA,EAAGkC,KAAI,SAACyH,EAAKtZ,GAAN,OACHsZ,EAAIR,SACuC,GAAzC,eAAC,GAAD,CAA0BQ,IAAKA,GAAZtZ,SC6OxBoa,GArOyB,SAAC,GAUlC,IATLpS,EASI,EATJA,MACAmF,EAQI,EARJA,MACAkN,EAOI,EAPJA,SACAC,EAMI,EANJA,WACAC,EAKI,EALJA,mBACAC,EAII,EAJJA,cACAC,EAGI,EAHJA,eACAC,EAEI,EAFJA,eAIMC,GAFF,EADJC,iBAGsBC,mBAAgB,4BAAMC,EAAc,UAAC3N,EAAMlN,YAAP,iBAAC,EAAY4G,aAAb,iBAAC,EAAmBrB,aAApB,aAAC,EAA0BO,kBAAiB,CAACoH,KACjG4N,EAAoBF,mBAAgB,4BAAMC,EAAc,UAAC3N,EAAMlN,YAAP,iBAAC,EAAY4G,aAAb,iBAAC,EAAmBrB,aAApB,aAAC,EAA0BS,sBAAqB,CAACkH,IAEzGwC,EAAKkL,mBAAgB,wHAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEzM,EAAMlN,YAAR,iBAAE,EAAY4G,aAAd,iBAAE,EAAmBrB,aAArB,iBAAE,EAA0BO,eAAe4U,UAA3C,iBAAE,EAAyD7W,gBAA3D,aAAE,EAAmEN,WAAYmS,SAAUqF,GAC/I,CAAEhT,MAAM,UAAD,iBAAYmF,EAAMlN,YAAlB,iBAAY,EAAY4G,aAAxB,iBAAY,EAAmBrB,aAA/B,iBAAY,EAA0BO,eAAe4U,UAArD,iBAAY,EAAyD7W,gBAArE,aAAY,EAAmEL,aAAe+D,KAAM0L,GAAUwG,SAGzH,CACEF,OAAQ,CACN,CAAExR,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBrB,aAAlB,eAAyBnC,GAAI8J,EAAMlN,KAAK4G,MAAMrB,MAAMnC,EAAI,EAAGsS,SAAUsF,GACnH,CAAEjT,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBrB,aAAlB,eAAyBlC,GAAI6J,EAAMlN,KAAK4G,MAAMrB,MAAMlC,EAAI,EAAGqS,SAAUuF,KAGvH,CACE1B,OAAQ,CACN,CAAExR,MAAO,OAAQR,KAAM0L,GAAUyG,WAAYC,QAAQ,UAAAzM,EAAMlN,YAAN,mBAAY4G,aAAZ,mBAAmBrB,aAAnB,eAA0BS,oBAA1B,UAA+CkH,EAAMlN,YAArD,iBAA+C,EAAY4G,aAA3D,iBAA+C,EAAmBrB,aAAlE,iBAA+C,EAA0BS,mBAAmB8U,GAAmBjX,gBAA/G,aAA+C,EAA0EN,WAAa,KAAMmS,SAAUwF,KAG/M,CACErC,UAAWwB,EACXd,OAAQ,CACN,CAAExR,MAAO,UAAWR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEzM,EAAMlN,YAAR,iBAAE,EAAY4G,aAAd,iBAAE,EAAmBrB,aAArB,aAAE,EAA0BM,iBAAkB6P,SAAUyF,KAGlH,CACEtC,UAAW0B,EACXhB,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEzM,EAAMlN,YAAR,iBAAE,EAAY4G,aAAd,iBAAE,EAAmBrB,aAArB,aAAE,EAA0BU,oBAAqByP,SAAU0F,KAGnH,CACEvC,UAAWyB,EACXf,OAAQ,CACN,CAAExR,MAAO,kBAAmBR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEzM,EAAMlN,YAAR,iBAAE,EAAY4G,aAAd,iBAAE,EAAmBrB,aAArB,aAAE,EAA0BQ,uBAAwB2P,SAAU2F,KAGhI,CACExC,SAAU3L,EAAMlN,KAAK4G,MAAMhB,kBAC3B2T,OAAQ,CACN,CAAExR,MAAO,eAAgBR,KAAM0L,GAAU2G,SAAUb,SAAS,WAAA7L,EAAMlN,YAAN,sBAAY4G,aAAZ,iBAAmBjB,cAAe6U,EAAgB9E,SAAU4F,EAAqBzC,SAAU2B,GACvJ,CAAEzS,MAAO,UAAWR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,WAAAzM,EAAMlN,YAAN,sBAAY4G,aAAZ,iBAAmBlB,SAAUwH,EAAMlN,KAAK4G,MAAMlB,QAAU,EAAGgQ,SAAU6F,KAG7H,CACE1C,SAAU3L,EAAMlN,KAAK4G,MAAMhB,kBAC3B2T,OAAQ,CACN,CAAExR,MAAO,SAAUR,KAAM0L,GAAU2G,SAAUb,SAAS,WAAA7L,EAAMlN,YAAN,iBAAY2G,eAAgB7F,EAAWE,OAAOhB,KAAM0V,SAAU8F,EAAgB3C,SAAU4B,GAC9I,CAAE1S,MAAO,YAAaR,KAAM0L,GAAU4G,OAAQC,OAAQpZ,EAAc+a,SAAd,WAAuBvO,EAAMlN,YAA7B,mBAAuB,GAAY4G,aAAnC,cAAuB,GAAmBnB,WAAW3G,WAAYib,cAAe5B,GAAmBzC,SAAUgG,KAGvK,CACE7C,SAAU3L,EAAMlN,KAAK4G,MAAMhB,kBAC3B2T,OAAQ,CACN,CAAExR,MAAO,YAAaR,KAAM0L,GAAUyG,WAAYC,OAAM,WAAEzM,EAAMlN,YAAR,mBAAE,GAAY6G,iBAAd,cAAE,GAAuBtD,WAAYmS,SAAUiG,GACvG,CAAE5T,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,WAAAzM,EAAMlN,KAAK6G,iBAAX,sBAAsB1D,mBAAtB,iBAAmCC,GAAI8J,EAAMlN,KAAK6G,UAAU1D,YAAYC,EAAI,EAAGsS,SAAUkG,GACvI,CAAE7T,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,WAAAzM,EAAMlN,KAAK6G,iBAAX,sBAAsB1D,mBAAtB,iBAAmCE,GAAI6J,EAAMlN,KAAK6G,UAAU1D,YAAYE,EAAI,EAAGqS,SAAUmG,QAG1I,CAAC3O,IAEJ,SAAS2N,EAAenL,GACtB,IAAKA,EAAI,OAAO,KAChB,IAAI3P,EAAQ2P,EAAGQ,WAAU,SAACC,GAAD,OAAUA,EAAK9K,WAAapF,EAAaQ,IAAIT,QACtE,OAAOD,GAAS,EAAIA,EAAQ,EAG9B,SAASgb,EAAmBhb,GAC1B,IAAMuK,EAAC,eAAO4C,GAId,GAHK5C,EAAEtK,KAAK4G,MAAMrB,MAAMO,iBACtBwE,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAiB,IAEjCwE,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAe4U,GAMrCpQ,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAe4U,GAAe7W,SAASN,WAAaxD,MANlB,CACrD,IAAId,EAASqL,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAewI,KAAK,IAAIxI,GACxDwE,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAe7G,EAAO,GAAGoG,SAAWpF,EAAaQ,IAAIT,KACxEsK,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAe7G,EAAO,GAAG4E,SAASN,WAAaxD,EAClEuK,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAe7G,EAAO,GAAG4E,SAASL,YAAc8G,EAAEC,IAAI/C,MAI3E4S,EAAS9P,GAGX,SAAS4Q,EAAanb,GACpB,IAAMuK,EAAC,eAAO4C,GAId,GAHK5C,EAAEtK,KAAK4G,MAAMrB,MAAMS,qBACtBsE,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAqB,IAErCsE,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAmB0U,GAMzCpQ,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAmB0U,GAAe7W,SAASN,WAAaxD,MANlB,CACzD,IAAId,EAASqL,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAmBsI,KAAK,IAAIxI,GAC5DwE,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAmB/G,EAAO,GAAGoG,SAAWpF,EAAaQ,IAAIT,KAC5EsK,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAmB/G,EAAO,GAAG4E,SAASN,WAAaxD,EACtEuK,EAAEtK,KAAK4G,MAAMrB,MAAMS,mBAAmB/G,EAAO,GAAG4E,SAASL,YAAc,EAIzE4W,EAAS9P,GAGX,SAAS0Q,EAAUza,GACjB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMrB,MAAMnC,EAAI7C,EACvB6Z,EAAS9P,GAGX,SAAS2Q,EAAU1a,GACjB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMrB,MAAMlC,EAAI9C,EACvB6Z,EAAS9P,GAGX,SAASgR,EAAoBvC,GAC3B,IAAMzO,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMjB,YAAcoT,EAC3BqB,EAAS9P,GAGX,SAASoR,EAAkBnb,GACzB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMnB,UAAY/E,EAAckK,OAAOjM,SAAS4B,IACvD6Z,EAAS9P,GAGX,SAASkR,EAAezC,GACtB,IAAMzO,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK2G,YAAcoS,EAAUjY,EAAWC,OAAOf,KAAOc,EAAWE,OAAOhB,KAC1Eoa,EAAS9P,GAGX,SAASiR,EAAgBhb,GACvB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMlB,QAAUnF,EACvB6Z,EAAS9P,GAGX,SAAS6Q,EAAepb,GACtB,IAAMuK,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMrB,MAAMM,iBAAmB9F,EACtCqa,EAAS9P,GAGX,SAAS8Q,EAAkBrb,GACzB,IAAMuK,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMrB,MAAMU,oBAAsBlG,EACzCqa,EAAS9P,GAGX,SAAS+Q,EAAuBtb,GAC9B,IAAMuK,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMrB,MAAMQ,uBAAyBhG,EAC5Cqa,EAAS9P,GAGX,SAASqR,EAAkB5b,GACzB,IAAMuK,EAAC,eAAO4C,GACTnN,GAEGuK,EAAEtK,KAAK6G,YAAWyD,EAAEtK,KAAK6G,UAAY,IAAIpD,GAC/C6G,EAAEtK,KAAK6G,UAAUtD,WAAaxD,GAHpBuK,EAAEtK,KAAK6G,UAAY,KAK/BuT,EAAS9P,GAGX,SAASsR,EAAmBrb,GAC1B,IAAM+J,EAAC,eAAO4C,GACR5C,EAAEtK,KAAK6G,YAAWyD,EAAEtK,KAAK6G,UAAY,IAAIpD,GAC/C6G,EAAEtK,KAAK6G,UAAU1D,YAAYC,EAAI7C,EACjC6Z,EAAS9P,GAGX,SAASuR,EAAmBtb,GAC1B,IAAM+J,EAAC,eAAO4C,GACR5C,EAAEtK,KAAK6G,YAAWyD,EAAEtK,KAAK6G,UAAY,IAAIpD,GAC/C6G,EAAEtK,KAAK6G,UAAU1D,YAAYE,EAAI9C,EACjC6Z,EAAS9P,GAGX,OACE,gBAACwR,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,SAAoCxN,IACpC,sBAAKwN,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS7L,EAAM1C,aACfkL,SAAU,WACR,IAAMpL,EAAC,eAAQ4C,GAGf,GAFA5C,EAAEE,cAAgBF,EAAEE,aACpBF,EAAEJ,QAAUI,EAAEE,cAAgBF,EAAEG,mBAC1BH,EAAEtK,KAAK4G,MAAMrB,MAAO,CACxB+E,EAAEtK,KAAK4G,MAAMrB,MAAQ,IAAIA,EACzB,IAAIyW,EAAa,IAAIlW,EACrBkW,EAAWnY,SAASL,YAAc8G,EAAEC,IAAI/C,MACxC8C,EAAEtK,KAAK4G,MAAMhB,kBAAoB0E,EAAEC,IAAI7C,cACvC4C,EAAEtK,KAAK4G,MAAMrB,MAAMO,eAAe,GAAKkW,EAEzC5B,EAAS9P,aAMlB4C,EAAM1C,aACL,eAACsR,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,MAG5B,OClFOwM,GA5IyB,SAAC,GAOlC,IANLnU,EAMI,EANJA,MACAmF,EAKI,EALJA,MACAkN,EAII,EAJJA,SACAI,EAGI,EAHJA,eACAG,EAEI,EAFJA,iBACAF,EACI,EADJA,eAGM/K,EAAKkL,mBAAgB,qEAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,mBAA8BrC,mBAA9B,eAA2CC,GAAI8J,EAAMlN,KAAK4G,MAAMpB,WAAWrC,YAAYC,EAAI,EAAGsS,SAAUsF,GACtJ,CAAEjT,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,mBAA8BrC,mBAA9B,eAA2CE,GAAI6J,EAAMlN,KAAK4G,MAAMpB,WAAWrC,YAAYE,EAAI,EAAGqS,SAAUuF,GACtJ,CAAElT,MAAO,QAASR,KAAM0L,GAAU3U,MAAOwb,QAAQ,UAAA5M,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,eAA8BlH,OAAQA,EAAM6d,UAAUjP,EAAMlN,KAAK4G,MAAMpB,WAAWlH,OAASA,EAAMuB,cAAe6V,SAAU0G,KAG/K,CACE7C,OAAQ,CACN,CAAExR,MAAO,OAAQR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,eAA8Ba,MAAO6G,EAAMlN,KAAK4G,MAAMpB,WAAWa,KAAO,EAAGqP,SAAU2G,GACtI,CAAEtU,MAAO,QAASR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,eAA8BY,OAAQ8G,EAAMlN,KAAK4G,MAAMpB,WAAWY,MAAQ,EAAGsP,SAAU4G,KAG7I,CACE/C,OAAQ,CACN,CAAExR,MAAO,eAAgBR,KAAM0L,GAAU2G,SAAUb,SAAS,UAAA7L,EAAMlN,YAAN,mBAAY4G,aAAZ,eAAmBjB,cAAe6U,EAAgB9E,SAAU4F,EAAqBzC,SAAU2B,GACvJ,CAAEzS,MAAO,SAAUR,KAAM0L,GAAU2G,SAAUb,SAAS,UAAA7L,EAAMlN,YAAN,eAAY2G,eAAgB7F,EAAWE,OAAOhB,KAAM0V,SAAU8F,EAAgB3C,SAAU4B,GAC9I,CAAE1S,MAAO,UAAWR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,YAAN,mBAAY4G,aAAZ,eAAmBlB,SAAUwH,EAAMlN,KAAK4G,MAAMlB,QAAU,EAAGgQ,SAAU6F,KAG7H,CACEhC,OAAQ,CACN,CAAExR,MAAO,OAAQR,KAAM0L,GAAU4G,OAAQC,QAAQ,UAAA5M,EAAMlN,YAAN,mBAAY4G,aAAZ,mBAAmBpB,kBAAnB,eAA+Be,eAA/B,UAA+C2G,EAAMlN,YAArD,iBAA+C,EAAY4G,aAA3D,iBAA+C,EAAmBpB,WAAWe,qBAA7E,aAA+C,EAA6CzH,WAAa,KAAM4W,SAAU6G,EAAmBxC,cAAe3B,IAC5M,CAAErQ,MAAO,YAAaR,KAAM0L,GAAU2G,SAAUb,WAAS,UAAA7L,EAAMlN,YAAN,eAAY6G,WAA0B6O,SAAUiG,QAG5G,CAACzO,IAEJ,SAASkP,EAAcpd,GACnB,IAAMsL,EAAC,eAAQ4C,GACf5C,EAAEtK,KAAK4G,MAAMpB,WAAWlH,MAAQA,EAAMgI,WAAWtH,GACjDob,EAAS9P,GAGb,SAAS0Q,EAAUza,GACjB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWrC,YAAYC,EAAI7C,EACxC6Z,EAAS9P,GAGX,SAAS2Q,EAAU1a,GACjB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWrC,YAAYE,EAAI9C,EACxC6Z,EAAS9P,GAGX,SAASgR,EAAoB/a,GAC3B,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMjB,YAAcpF,EAC3B6Z,EAAS9P,GAEX,SAASkR,EAAezC,GACtB,IAAMzO,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK2G,YAAcoS,EAAUjY,EAAWC,OAAOf,KAAOc,EAAWE,OAAOhB,KAC1Eoa,EAAS9P,GAGX,SAASiR,EAAgBhb,GACvB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMlB,QAAUnF,EACvB6Z,EAAS9P,GAGX,SAAS+R,EAAa9b,GACpB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWa,KAAO9F,EAC/B6Z,EAAS9P,GAGX,SAASgS,EAAc/b,GACrB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWY,MAAQ7F,EAChC6Z,EAAS9P,GAGX,SAASqR,IACP,IAAMrR,EAAC,eAAO4C,GACT5C,EAAEtK,KAAK6G,UACVyD,EAAEtK,KAAK6G,UAAY,MAEnByD,EAAEtK,KAAK6G,UAAY,IAAIpD,EACvB6G,EAAEtK,KAAK6G,UAAU1D,YAAYC,GAAK,EAClCkH,EAAEtK,KAAK6G,UAAU1D,YAAYE,GAAK,GAEpC+W,EAAS9P,GAGX,SAASiS,EAAkBhc,GACzB,IAAM+J,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWe,cAAgB5H,SAAS4B,GACjD6Z,EAAS9P,GAIX,OACE,gBAACwR,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,SAAoCxN,IACpC,sBAAKwN,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS7L,EAAMzC,kBACfiL,SAAU,WACR,IAAMpL,EAAC,eAAQ4C,GACf5C,EAAEG,mBAAqBH,EAAEG,kBACzBH,EAAEJ,QAAUI,EAAEE,cAAgBF,EAAEG,kBAC1BH,EAAEtK,KAAK4G,MAAMpB,aACjB8E,EAAEtK,KAAK4G,MAAMpB,WAAa,IAAIA,EAC9B8E,EAAEtK,KAAK4G,MAAMpB,WAAWrC,YAAc,IAAIA,GAE5CiX,EAAS9P,aAMlB4C,EAAMzC,kBACL,gBAACqR,GAAA,EAAKG,KAAN,WACKtB,EAAwB,sBAAK1B,MAAO,CAACuD,MAAM,QAAnB,SAA4B,yBAAQjH,UAAU,gCAAgC0D,MAAO,CAACwD,MAAM,SAAUvG,QAASyE,EAAnF,uCAAjC,GACtB,eAAC,GAAD,CAAsBjL,GAAIA,OAG5B,OCwBOgN,GA9J+B,SAAC,GAOxC,IANL3U,EAMI,EANJA,MACAmF,EAKI,EALJA,MACAkN,EAII,EAJJA,SACAI,EAGI,EAHJA,eACAG,EAEI,EAFJA,iBACAF,EACI,EADJA,eAGM/K,EAAKkL,mBAAgB,mFAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,mBAA8BW,kBAA9B,eAA0C/C,GAAI8J,EAAMlN,KAAK4G,MAAMpB,WAAWW,WAAW/C,EAAI,EAAGsS,SAAUsF,GACpJ,CAAEjT,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,mBAA8BW,kBAA9B,eAA0C9C,GAAI6J,EAAMlN,KAAK4G,MAAMpB,WAAWW,WAAW9C,EAAI,EAAGqS,SAAUuF,GACpJ,CAAElT,MAAO,QAASR,KAAM0L,GAAU3U,MAAOwb,QAAQ,UAAA5M,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,eAA8BlH,OAAQA,EAAM6d,UAAUjP,EAAMlN,KAAK4G,MAAMpB,WAAWlH,OAASA,EAAMuB,cAAe6V,SAAU0G,KAG/K,CACE7C,OAAQ,CACN,CAAExR,MAAO,OAAQR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,eAA8Ba,MAAO6G,EAAMlN,KAAK4G,MAAMpB,WAAWa,KAAO,EAAGqP,SAAU2G,GACtI,CAAEtU,MAAO,SAAUR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,mBAA8BW,kBAA9B,eAA0CrB,QAASoI,EAAMlN,KAAK4G,MAAMpB,WAAWW,WAAWrB,OAAS,EAAG4Q,SAAUiH,KAGvK,CACEpD,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,KAAK4G,aAAX,mBAAkBpB,kBAAlB,eAA8BY,OAAQ8G,EAAMlN,KAAK4G,MAAMpB,WAAWY,MAAQ,EAAGsP,SAAU4G,GACzI,CAAEvU,MAAO,YAAaR,KAAM0L,GAAU4G,OAAQC,QAAQ,UAAA5M,EAAMlN,YAAN,mBAAY4G,aAAZ,mBAAmBpB,kBAAnB,mBAA+BW,kBAA/B,eAA2CK,iBAAkB0G,EAAMlN,KAAK4G,MAAMpB,WAAWW,WAAWK,gBAAgB1H,WAAa,IAAK4W,SAAUkH,EAAmB7C,cAAe1B,MAG5O,CACEkB,OAAQ,CACN,CAAExR,MAAO,eAAgBR,KAAM0L,GAAU2G,SAAUb,SAAS,UAAA7L,EAAMlN,YAAN,mBAAY4G,aAAZ,eAAmBjB,cAAe6U,EAAgB9E,SAAU4F,EAAqBzC,SAAU2B,GACvJ,CAAEzS,MAAO,SAAUR,KAAM0L,GAAU2G,SAAUb,SAAS,UAAA7L,EAAMlN,YAAN,eAAY2G,eAAgB7F,EAAWE,OAAOhB,KAAM0V,SAAU8F,EAAgB3C,SAAU4B,GAC9I,CAAE1S,MAAO,UAAWR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAzM,EAAMlN,YAAN,mBAAY4G,aAAZ,eAAmBlB,SAAUwH,EAAMlN,KAAK4G,MAAMlB,QAAU,EAAGgQ,SAAU6F,KAG7H,CACEhC,OAAQ,CACN,CAAExR,MAAO,OAAQR,KAAM0L,GAAU4G,OAAQC,QAAQ,UAAA5M,EAAMlN,YAAN,mBAAY4G,aAAZ,mBAAmBpB,kBAAnB,eAA+Be,eAA/B,UAA+C2G,EAAMlN,YAArD,iBAA+C,EAAY4G,aAA3D,iBAA+C,EAAmBpB,WAAWe,qBAA7E,aAA+C,EAA6CzH,WAAa,KAAM4W,SAAU6G,EAAmBxC,cAAe3B,IAC5M,CAAErQ,MAAO,YAAaR,KAAM0L,GAAU2G,SAAUb,WAAS,UAAA7L,EAAMlN,YAAN,eAAY6G,WAA0B6O,SAAUiG,QAG5G,CAACzO,IAEJ,SAAS8N,EAAU1F,GACjB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWW,WAAW/C,EAAIkS,EACvC8E,EAAS9P,GAGX,SAAS2Q,EAAU3F,GACjB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWW,WAAW9C,EAAIiS,EACvC8E,EAAS9P,GAGX,SAAS8R,EAAcpd,GACrB,IAAMsL,EAAC,eAAQ4C,GACf5C,EAAEtK,KAAK4G,MAAMpB,WAAWlH,MAAQA,EAAMgI,WAAWtH,GACjDob,EAAS9P,GAGX,SAASgR,EAAoBvC,GAC3B,IAAMzO,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMjB,YAAcoT,EAC3BqB,EAAS9P,GAGX,SAASkR,EAAezC,GACtB,IAAMzO,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK2G,YAAcoS,EAAUjY,EAAWC,OAAOf,KAAOc,EAAWE,OAAOhB,KAC1Eoa,EAAS9P,GAGX,SAASiR,EAAgBjG,GACvB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMlB,QAAU4P,EACvB8E,EAAS9P,GAGX,SAAS+R,EAAa/G,GACpB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWa,KAAOiP,EAC/B8E,EAAS9P,GAGX,SAASqS,EAAerH,GACtB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWW,WAAWrB,OAASwQ,EAC5C8E,EAAS9P,GAGX,SAASgS,EAAchH,GACrB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWY,MAAQkP,EAChC8E,EAAS9P,GAGX,SAASqR,IACP,IAAMrR,EAAC,eAAO4C,GACT5C,EAAEtK,KAAK6G,UACVyD,EAAEtK,KAAK6G,UAAY,MAEnByD,EAAEtK,KAAK6G,UAAY,IAAIpD,EACvB6G,EAAEtK,KAAK6G,UAAU1D,YAAYC,GAAK,EAClCkH,EAAEtK,KAAK6G,UAAU1D,YAAYE,GAAK,GAEpC+W,EAAS9P,GAGX,SAASiS,EAAkBjH,GACzB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWe,cAAgB5H,SAAS2W,GACjD8E,EAAS9P,GAGX,SAASsS,EAAkBtH,GACzB,IAAMhL,EAAC,eAAO4C,GACd5C,EAAEtK,KAAK4G,MAAMpB,WAAWW,WAAWK,gBAAkB7H,SAAS2W,GAC9D8E,EAAS9P,GAGX,OACE,gBAACwR,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,SAAoCxN,IACpC,sBAAKwN,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS7L,EAAMxC,wBACfgL,SAAU,WACR,IAAMpL,EAAC,eAAQ4C,GACf5C,EAAEI,yBAA2BJ,EAAEI,wBAC/BJ,EAAEJ,QAAUI,EAAEE,cAAgBF,EAAEG,mBAAqBH,EAAEI,wBACjDJ,EAAEtK,KAAK4G,MAAMpB,aAAY8E,EAAEtK,KAAK4G,MAAMpB,WAAa,IAAIA,GACvD8E,EAAEtK,KAAK4G,MAAMpB,WAAWW,aAC5BmE,EAAEtK,KAAK4G,MAAMpB,WAAWW,WAAa,IAAIA,GAE3CiU,EAAS9P,aAMlB4C,EAAMxC,wBACL,gBAACoR,GAAA,EAAKG,KAAN,WACKtB,EAAwB,sBAAK1B,MAAO,CAACuD,MAAM,QAAnB,SAA4B,yBAAQjH,UAAU,gCAAgC0D,MAAO,CAACwD,MAAM,SAAUvG,QAASyE,EAAnF,uCAAjC,GACtB,eAAC,GAAD,CAAsBjL,GAAIA,OAG5B,OCvHOmN,GAtC4B,SAAC,GAQnC,IAPL3P,EAOI,EAPJA,MACAnF,EAMI,EANJA,MACAqS,EAKI,EALJA,SACAE,EAII,EAJJA,mBACAC,EAGI,EAHJA,cACAF,EAEI,EAFJA,WACAG,EACI,EADJA,eAGA,OACI,iCACI,eAAC,GAAD,CACAzS,MAAK,qBAAgBA,EAAhB,KACLmF,MAAOA,EACPkN,SAAUA,EACVE,mBAAoBA,EACpBC,cAAeA,EACfF,WAAYA,EACZG,eAAgBA,IAGlB,eAAC,GAAD,CACEzS,MAAK,8BAAyBA,EAAzB,KACLmF,MAAOA,EACPkN,SAAUA,EACVI,eAAgBA,IAElB,eAAC,GAAD,CACEzS,MAAK,6BAAwBA,EAAxB,KACLmF,MAAOA,EACPkN,SAAUA,EACVI,eAAgBA,QC0JbsC,GA1LwB,SAAC,GAAiE,IAA/D/U,EAA8D,EAA9DA,MAAOgV,EAAuD,EAAvDA,UAAW3C,EAA4C,EAA5CA,SAAU4C,EAAkC,EAAlCA,UAAWrC,EAAuB,EAAvBA,iBAEzEsC,EAAqBrC,mBAAgB,0BA6C3C,SAAwBlL,GACtB,IAAKA,EAAI,OAAO,KAChB,IAAI3P,EAAQ2P,EAAGQ,WAAU,SAACC,GAAD,OAAUA,EAAK9K,WAAapF,EAAaQ,IAAIT,QACtE,OAAOD,GAAgB,EAhDwB8a,CAAc,UAACkC,EAAU/c,YAAX,iBAAC,EAAgBgF,aAAjB,aAAC,EAAuBnB,YAAW,CAACkZ,IAE7FrN,EAAKkL,mBAAgB,6GAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,UAAWR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEoD,EAAU/c,YAAZ,iBAAE,EAAgBiF,eAAlB,aAAE,EAAyB1B,WAAYmS,SAAUwH,KAG3G,CACE3D,OAAQ,CACN,CAAExR,MAAO,qBAAsBR,KAAM0L,GAAUwG,OAC/C,CAAE1R,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,eAAgBoD,GAAI2Z,EAAU/c,KAAKoD,EAAI,EAAGsS,SAAUyH,GAClG,CAAEpV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,eAAgBqD,GAAI0Z,EAAU/c,KAAKqD,EAAI,EAAGqS,SAAU0H,KAGtG,CACE7D,OAAQ,CACN,CAAExR,MAAO,iBAAkBR,KAAM0L,GAAUwG,OAC3C,CAAE1R,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,mBAAgBiF,eAAhB,mBAAyB9B,mBAAzB,eAAsCC,GAAI2Z,EAAU/c,KAAKiF,QAAQ9B,YAAYC,EAAI,EAAGsS,SAAU2H,GAC5I,CAAEtV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,mBAAgBiF,eAAhB,mBAAyB9B,mBAAzB,eAAsCE,GAAI0Z,EAAU/c,KAAKiF,QAAQ9B,YAAYE,EAAI,EAAGqS,SAAU4H,KAGhJ,CACE/D,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEoD,EAAU/c,YAAZ,iBAAE,EAAgBkF,aAAlB,aAAE,EAAuB3B,WAAYmS,SAAU6H,GACnG,CAAExV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,mBAAgBkF,aAAhB,mBAAuB/B,mBAAvB,eAAoCC,GAApC,UAAwC2Z,EAAU/c,YAAlD,iBAAwC,EAAgBkF,aAAxD,iBAAwC,EAAuB/B,mBAA/D,aAAwC,EAAoCC,EAAI,EAAGsS,SAAU8H,GAC3I,CAAEzV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,mBAAgBkF,aAAhB,mBAAuB/B,mBAAvB,eAAoCE,GAApC,UAAwC0Z,EAAU/c,YAAlD,iBAAwC,EAAgBkF,aAAxD,iBAAwC,EAAuB/B,mBAA/D,aAAwC,EAAoCE,EAAI,EAAGqS,SAAU+H,KAG/I,CACElE,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEoD,EAAU/c,YAAZ,iBAAE,EAAgBgF,aAAlB,iBAAE,EAAuBnB,SAASoZ,UAAlC,iBAAE,EAAqDpZ,gBAAvD,aAAE,EAA+DN,WAAYmS,SAAUgI,GAC3I,CAAE3V,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,mBAAgBgF,aAAhB,mBAAuB7B,mBAAvB,eAAoCC,GAApC,UAAwC2Z,EAAU/c,YAAlD,iBAAwC,EAAgBgF,aAAxD,iBAAwC,EAAuB7B,mBAA/D,aAAwC,EAAoCC,EAAI,EAAGsS,SAAUiI,GAC3I,CAAE5V,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAoD,EAAU/c,YAAV,mBAAgBgF,aAAhB,mBAAuB7B,mBAAvB,eAAoCE,GAApC,UAAwC0Z,EAAU/c,YAAlD,kBAAwC,EAAgBgF,aAAxD,mBAAwC,GAAuB7B,mBAA/D,cAAwC,GAAoCE,EAAI,EAAGqS,SAAUkI,KAG/I,CACE/E,UAAWmE,EACXzD,OAAQ,CACN,CAAExR,MAAO,cAAeR,KAAM0L,GAAUgE,OAAQ0C,OAAM,WAAEoD,EAAU/c,YAAZ,cAAE,GAAgB4E,WAAY8Q,SAAUmI,GAC9F,CAAE9V,MAAO,YAAaR,KAAM0L,GAAUgE,OAAQ0C,OAAM,WAAEoD,EAAU/c,YAAZ,cAAE,GAAgB6E,SAAU6Q,SAAUoI,QAG7F,CAACf,IAeJ,SAASe,EAAevd,GACtB,IAAMwd,EAAE,eAAOhB,GACfgB,EAAG/d,KAAK6E,SAAWtE,EACnB6Z,EAAS2D,GAGX,SAASF,EAAiBtd,GACxB,IAAMwd,EAAE,eAAOhB,GACfgB,EAAG/d,KAAK4E,WAAarE,EACrB6Z,EAAS2D,GAGX,SAASb,EAAwBtE,GAC/B,IAAImF,EAAE,eAAOhB,GACRgB,EAAG/d,KAAKiF,UAAS8Y,EAAG/d,KAAKiF,QAAU,IAAIxB,GAC5Csa,EAAG/d,KAAKiF,QAAQ1B,WAAaqV,EAC7BwB,EAAS2D,GAGX,SAASZ,EAAQ5c,GACf,IAAMwd,EAAE,eAAOhB,GACfgB,EAAG/d,KAAKoD,EAAI7C,EACZ6Z,EAAS2D,GAGX,SAASX,EAAQ7c,GACf,IAAMwd,EAAE,eAAOhB,GACfgB,EAAG/d,KAAKqD,EAAI9C,EACZ6Z,EAAS2D,GAGX,SAASV,EAAe9c,GACtB,IAAMwd,EAAE,eAAOhB,GACVgB,EAAG/d,KAAKiF,UAAS8Y,EAAG/d,KAAKiF,QAAU,IAAIxB,GACvCsa,EAAG/d,KAAKiF,QAAQ9B,cAAa4a,EAAG/d,KAAKiF,QAAQ9B,YAAc,IAAIA,GACpE4a,EAAG/d,KAAKiF,QAAQ9B,YAAYC,EAAI7C,EAChC6Z,EAAS2D,GAGX,SAAST,EAAe/c,GACtB,IAAMwd,EAAE,eAAOhB,GACVgB,EAAG/d,KAAKiF,UAAS8Y,EAAG/d,KAAKiF,QAAU,IAAIxB,GACvCsa,EAAG/d,KAAKiF,QAAQ9B,cAAa4a,EAAG/d,KAAKiF,QAAQ9B,YAAc,IAAIA,GACpE4a,EAAG/d,KAAKiF,QAAQ9B,YAAYE,EAAI9C,EAChC6Z,EAAS2D,GAGX,SAASR,EAAsB3E,GAC7B,IAAImF,EAAE,eAAOhB,GACRgB,EAAG/d,KAAKkF,QAAO6Y,EAAG/d,KAAKkF,MAAQ,IAAIzB,GACxCsa,EAAG/d,KAAKkF,MAAM3B,WAAaqV,EAC3BwB,EAAS2D,GAGX,SAASP,EAAajd,GACpB,IAAMwd,EAAE,eAAOhB,GACVgB,EAAG/d,KAAKkF,QAAO6Y,EAAG/d,KAAKkF,MAAQ,IAAIzB,GACnCsa,EAAG/d,KAAKkF,MAAM/B,cAAa4a,EAAG/d,KAAKkF,MAAM/B,YAAc,IAAIA,GAChE4a,EAAG/d,KAAKkF,MAAM/B,YAAYC,EAAI7C,EAC9B6Z,EAAS2D,GAGX,SAASN,EAAald,GACpB,IAAMwd,EAAE,eAAOhB,GACVgB,EAAG/d,KAAKkF,QAAO6Y,EAAG/d,KAAKkF,MAAQ,IAAIzB,GACnCsa,EAAG/d,KAAKkF,MAAM/B,cAAa4a,EAAG/d,KAAKkF,MAAM/B,YAAc,IAAIA,GAChE4a,EAAG/d,KAAKkF,MAAM/B,YAAYE,EAAI9C,EAC9B6Z,EAAS2D,GAGX,SAASL,EAAsB9E,GAC7B,IAAImF,EAAE,eAAOhB,GACRgB,EAAG/d,KAAKgF,MAIX+Y,EAAG/d,KAAKgF,MAAMnB,SAASoZ,GAAoBpZ,SAASN,WAAaqV,GAHjEmF,EAAG/d,KAAKgF,MAAQ,IAAII,EACpB2Y,EAAG/d,KAAKgF,MAAMnB,SAAS,GAAGA,SAASN,WAAaqV,GAIlDwB,EAAS2D,GAGX,SAASJ,EAAapd,GACpB,IAAMwd,EAAE,eAAOhB,GACVgB,EAAG/d,KAAKgF,QAAO+Y,EAAG/d,KAAKgF,MAAQ,IAAII,GACnC2Y,EAAG/d,KAAKgF,MAAM7B,cAAa4a,EAAG/d,KAAKgF,MAAM7B,YAAc,IAAIA,GAChE4a,EAAG/d,KAAKgF,MAAM7B,YAAYC,EAAI7C,EAC9B6Z,EAAS2D,GAGX,SAASH,EAAard,GACpB,IAAMwd,EAAE,eAAOhB,GACVgB,EAAG/d,KAAKgF,QAAO+Y,EAAG/d,KAAKgF,MAAQ,IAAII,GACnC2Y,EAAG/d,KAAKgF,MAAM7B,cAAa4a,EAAG/d,KAAKgF,MAAM7B,YAAc,IAAIA,GAChE4a,EAAG/d,KAAKgF,MAAM7B,YAAYE,EAAI9C,EAC9B6Z,EAAS2D,GAGX,OACE,gBAACjC,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,SAAoCxN,IACpC,sBAAKwN,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASgE,EAAU7S,QACnBwL,SAlHZ,SAAyBjC,GACvB,IAAMsK,EAAE,eAAQhB,GAChBgB,EAAG7T,SAAW6T,EAAG7T,QACb6T,EAAG7T,UAAY6T,EAAG/d,OAAQ+d,EAAG/d,KAAO,IAAI+E,EAAagZ,EAAG/d,KAAK4E,WAAa,EAAGmZ,EAAG/d,KAAK6E,SAAW,KACpGuV,EAAS2D,aAmHNhB,EAAU7S,QACT,gBAAC4R,GAAA,EAAKG,KAAN,WACItB,EAAwB,sBAAK1B,MAAO,CAAEuD,MAAO,QAArB,SAA+B,yBAAQjH,UAAU,gCAAgC0D,MAAO,CAAEwD,MAAO,SAAWvG,QAASyE,EAAtF,uCAApC,GACrB,eAAC,GAAD,CAAsBjL,GAAIA,OAG5B,OC1HOsO,GA5D0B,SAAC,GAAsC,IAApCjW,EAAmC,EAAnCA,MAAOkW,EAA4B,EAA5BA,YAAa7D,EAAe,EAAfA,SAExD1K,EAAKkL,mBAAgB,iBAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAQsE,EAAYje,KAAKuD,WAAYmS,SAAUqF,GAC7F,CAAEhT,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,OAAQsE,EAAYje,KAAKmD,YAAYC,EAAGsS,SAAUsF,GACxF,CAAEjT,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,OAAQsE,EAAYje,KAAKmD,YAAYE,EAAGqS,SAAUuF,QAG3F,CAACgD,IAEJ,SAASlD,EAAmBhb,GAC1B,IAAMme,EAAE,eAAQD,GAChBC,EAAGle,KAAKuD,WAAaxD,EACrBqa,EAAS8D,GAGX,SAASlD,EAAUza,GACjB,IAAM2d,EAAE,eAAQD,GAChBC,EAAGle,KAAKmD,YAAYC,EAAI7C,EACxB6Z,EAAS8D,GAGX,SAASjD,EAAU1a,GACjB,IAAM2d,EAAE,eAAQD,GAChBC,EAAGle,KAAKmD,YAAYE,EAAI9C,EACxB6Z,EAAS8D,GAGX,OACE,gBAACpC,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,SAAoCxN,IACpC,sBAAKwN,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASkF,EAAY/T,QACrBwL,SAAU,WACR,IAAMyI,EAAoB,eAAQF,GAClCE,EAAGjU,SAAWiU,EAAGjU,QACjBkQ,EAAS+D,aAMlBF,EAAY/T,QACX,eAAC4R,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,MAG5B,OCgDO0O,GAtG4B,SAAC,GAAiC,IAA/B/Q,EAA8B,EAA9BA,cAAe+M,EAAe,EAAfA,SAErD1K,EAAKkL,mBAAgB,6BAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEtM,EAAcrN,YAAhB,iBAAE,EAAoB6D,gBAAtB,aAAE,EAA8BN,WAAYmS,SAAU2I,GAC1G,CAAEtW,MAAO,QAASR,KAAM0L,GAAUgE,OAAQ0C,OAAM,UAAEtM,EAAcrN,YAAhB,iBAAE,EAAoB6D,gBAAtB,aAAE,EAA8BL,YAAakS,SAAU4I,QAGxG,CAACjR,IAQN,SAASgR,EAAiBzF,GACxB,IAAIsF,EAAE,eAAQ7Q,GACd6Q,EAAGle,KAAK6D,SAASN,WAAaqV,EAC9BwB,EAAS8D,GAGX,SAASI,EAAY/d,GACnB,IAAM+J,EAAC,eAAQ+C,GACf/C,EAAEtK,KAAK6D,SAASL,YAAcjD,EAC9B6Z,EAAS9P,GA8BX,OACE,gBAACwR,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,4BACA,sBAAKA,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS1L,EAAcnD,QACvBwL,SAvDZ,WACE,IAAMwI,EAAE,eAAQ7Q,GAChB6Q,EAAGhU,SAAWgU,EAAGhU,QACjBkQ,EAAS8D,aAyDN7Q,EAAcnD,QACb,gBAAC4R,GAAA,EAAKG,KAAN,WACE,eAAC,GAAD,CAAsBvM,GAAIA,IAC1B,gBAACoM,GAAA,EAAD,CAAMvG,UAAU,OAAhB,UACE,gBAACuG,GAAA,EAAKC,OAAN,CACExG,UAAU,4DADZ,UAEA,gDACA,yBAAQA,UAAU,0BAA0BhO,KAAK,SAASQ,MAAM,kBAAkBmO,QArC5F,WACE,IAAM5L,EAAC,eAAO+C,GACVkR,EAAS,IAAIpb,EACjBob,EAAOnb,EAAIkH,EAAEtK,KAAKmD,YAAYlE,OAAS,EAAIqL,EAAEtK,KAAKmD,YAAYmH,EAAEtK,KAAKmD,YAAYlE,OAAO,GAAGmE,EAAI,EAC/Fmb,EAAOlb,EAAIiH,EAAEtK,KAAKmD,YAAYlE,OAAS,EAAIqL,EAAEtK,KAAKmD,YAAYmH,EAAEtK,KAAKmD,YAAYlE,OAAO,GAAGoE,EAAI,EAC/FiH,EAAEtK,KAAKmD,YAAYmL,KAAKiQ,GACxBnE,EAAS9P,IA+BD,oBAEF,eAAC,GAAD,CAAsBoF,GACpBrC,EAAcrN,KAAKmD,YAAYyO,KAAI,SAAC2M,EAAQxe,GAAT,MAClC,CACCwZ,OAAQ,CACN,CAAExR,MAAM,GAAD,OAAKhI,GAASwH,KAAM0L,GAAUwG,OACrC,CAAE1R,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,OAAQ4E,EAAOnb,EAAImb,EAAOnb,EAAI,EAAGsS,SAAU,SAACjC,GAAD,OAxD/F,SAAiBlT,EAAaR,GAC5B,IAAMuK,EAAC,eAAO+C,GACd/C,EAAEtK,KAAKmD,YAAYpD,GAAOqD,EAAI7C,EAC9B6Z,EAAS9P,GAqD2F6S,CAAQ1J,EAAG1T,KACnG,CAAEgI,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,OAAQ4E,EAAOlb,EAAIkb,EAAOlb,EAAI,EAAGqS,SAAU,SAACjC,GAAD,OAnD/F,SAAiBlT,EAAaR,GAC5B,IAAMuK,EAAC,eAAO+C,GACd/C,EAAEtK,KAAKmD,YAAYpD,GAAOsD,EAAI9C,EAC9B6Z,EAAS9P,GAgD2F8S,CAAQ3J,EAAG1T,MAErGka,SAAUla,EAAQ,EAAI,kBAtClC,SAAkBA,GAChB,IAAMuK,EAAC,eAAO+C,GACd/C,EAAEtK,KAAKmD,YAAYqb,OAAOze,EAAO,GACjCqa,EAAS9P,GAmC6B2P,CAASla,IAAS,KAC9CuZ,YAAY,cAOlB,OCgDOmF,GA/IiC,SAAC,GAA+B,IAA7BlR,EAA4B,EAA5BA,YAAa6M,EAAe,EAAfA,SAExD1K,EAAKkL,mBAAgB,qDAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,SAAUR,KAAM0L,GAAUwG,OACnC,CAAE1R,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB9I,qBAArB,eAAoCZ,GAAImK,EAAYT,QAAQ9I,cAAcZ,EAAI,EAAGsS,SAAUyH,GACzI,CAAEpV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB9I,qBAArB,eAAoCX,GAAIkK,EAAYT,QAAQ9I,cAAcX,EAAI,EAAGqS,SAAU0H,KAG7I,CACE7D,OAAQ,CACN,CAAExR,MAAO,SAAUR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB9I,qBAArB,eAAoCc,QAASyI,EAAYT,QAAQ9I,cAAcc,OAAS,EAAG4Q,SAAUgJ,GACxJ,CAAE3W,MAAO,QAASR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,eAAqB3I,OAAQoJ,EAAYT,QAAQ3I,MAAQ,EAAGuR,SAAUiJ,EAAa3W,IAAK,EAAG2K,IAAK,OAGtJ,CACE4G,OAAQ,CACN,CAAExR,MAAO,cAAeR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB9I,qBAArB,eAAoCY,YAAa2I,EAAYT,QAAQ9I,cAAcY,WAAa,EAAG8Q,SAAUmI,GACrK,CAAE9V,MAAO,YAAaR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB9I,qBAArB,eAAoCa,UAAW0I,EAAYT,QAAQ9I,cAAca,SAAW,EAAG6Q,SAAUoI,KAGnK,CACEvE,OAAQ,CACN,CAAExR,MAAO,aAAcR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEpM,EAAYT,eAAd,aAAE,EAAqB5I,qBAAsBwR,SAAUkJ,GAChH,CAAE7W,MAAO,QAASR,KAAM0L,GAAU3U,MAAOwb,QAAQ,UAAAvM,EAAYT,eAAZ,eAAqBxO,OAAQA,EAAM6d,UAAU5O,EAAYT,QAAQxO,OAASA,EAAMuB,cAAe6V,SAAUmJ,KAG9J,CACEtF,OAAQ,CACN,CAAExR,MAAO,cAAeR,KAAM0L,GAAU4G,OAAQC,QAAQ,UAAAvM,EAAYT,eAAZ,eAAqB1I,UAAWmJ,EAAYT,QAAQ1I,SAAStF,WAAa,IAAK4W,SAAUoJ,EAAkB/E,cAAexB,MAGtL,CACEgB,OAAQ,CACN,CAAExR,MAAO,UAAWR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEpM,EAAYT,eAAd,aAAE,EAAqBzI,kBAAmBqR,SAAUwH,GAC1G,CAAEnV,MAAO,mBAAoBR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEpM,EAAYT,eAAd,aAAE,EAAqBxI,qBAAsBoR,SAAUqJ,QAGxH,CAACxR,IAEL,SAASuR,EAAiBve,GACxB,IAAMye,EAAI,eAAQzR,GAClByR,EAAKlS,QAAQ1I,SAAWzF,SAAS4B,GACjC6Z,EAAS4E,GAaX,SAAS7B,EAAQ5c,GACf,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ9I,cAAcZ,EAAI7C,EAC5B6Z,EAAS9P,GAGX,SAAS8S,EAAQ7c,GACf,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ9I,cAAcX,EAAI9C,EAC5B6Z,EAAS9P,GAGX,SAASoU,EAAane,GACpB,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ9I,cAAcc,OAASma,KAAKC,IAAI3e,GAC1C6Z,EAAS9P,GAGX,SAASqU,EAAYpe,GACnB,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ3I,MAAQ8a,KAAKtM,IAAI,EAAGsM,KAAKjX,IAAIzH,EAAK,MAC5C6Z,EAAS9P,GAGX,SAASuT,EAAiBtd,GACxB,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ9I,cAAcY,WAAarE,EACrC6Z,EAAS9P,GAGX,SAASwT,EAAevd,GACtB,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ9I,cAAca,SAAWtE,EACnC6Z,EAAS9P,GAGX,SAASsU,EAA2BhG,GAClC,IAAMsF,EAAE,eAAQ3Q,GAChB2Q,EAAGpR,QAAQ5I,qBAAuB0U,EAClCwB,EAAS8D,GAGX,SAASW,EAAY7f,GACnB,IAAMsL,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQxO,MAAQA,EAAMgI,WAAWtH,GACnCob,EAAS9P,GAGX,SAAS4S,EAAwBtE,GAC/B,IAAMsF,EAAE,eAAQ3Q,GAChB2Q,EAAGpR,QAAQzI,kBAAoBuU,EAC/BwB,EAAS8D,GAGX,SAASa,EAA2BnG,GAClC,IAAMsF,EAAE,eAAQ3Q,GAChB2Q,EAAGpR,QAAQxI,qBAAuBsU,EAClCwB,EAAS8D,GAGX,OACE,gBAACpC,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,6BACA,sBAAKA,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASxL,EAAYV,cACrB6I,SAhFZ,WACE,IAAMyJ,EAAE,eAAQ5R,GAChB4R,EAAGtS,eAAiBsS,EAAGtS,cAClBsS,EAAGrS,UACNqS,EAAGrS,QAAU,IAAI/I,GACdob,EAAGrS,QAAQ9I,gBACdmb,EAAGrS,QAAQ9I,cAAgB,IAAIA,GACjCoW,EAAS+E,aA8EN5R,EAAYV,cACX,eAACiP,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,MAG5B,OCRO0P,GAjIiC,SAAC,GAA+B,IAA7B7R,EAA4B,EAA5BA,YAAa6M,EAAe,EAAfA,SAExD1K,EAAKkL,mBAAgB,6CAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB7I,sBAArB,eAAqCM,QAASgJ,EAAYT,QAAQ7I,eAAeM,OAAS,EAAGmR,SAAUyH,GACrJ,CAAEpV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB7I,sBAArB,eAAqCO,QAAS+I,EAAYT,QAAQ7I,eAAeO,OAAS,EAAGkR,SAAU0H,KAGzJ,CACE7D,OAAQ,CACN,CAAExR,MAAO,SAAUR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,mBAAqB7I,sBAArB,eAAqCQ,MAAQ8I,EAAYT,QAAQ7I,eAAeQ,KAAO8I,EAAYT,QAAQ7I,eAAeM,OAAU,EAAGmR,SAAU2J,GACpM,CAAEtX,MAAO,QAASR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAApM,EAAYT,eAAZ,eAAqB3I,OAAQoJ,EAAYT,QAAQ3I,MAAQ,EAAGuR,SAAUiJ,EAAa3W,IAAK,KAG9I,CACEuR,OAAQ,CACN,CAAExR,MAAO,aAAcR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEpM,EAAYT,eAAd,aAAE,EAAqB5I,qBAAsBwR,SAAUkJ,GAChH,CAAE7W,MAAO,QAASR,KAAM0L,GAAU3U,MAAOwb,QAAQ,UAAAvM,EAAYT,eAAZ,eAAqBxO,OAAQA,EAAM6d,UAAU5O,EAAYT,QAAQxO,OAASA,EAAMuB,cAAe6V,SAAUmJ,KAG9J,CACEtF,OAAQ,CACN,CAAExR,MAAO,cAAeR,KAAM0L,GAAU4G,OAAQC,QAAQ,UAAAvM,EAAYT,eAAZ,eAAqB1I,UAAWmJ,EAAYT,QAAQ1I,SAAStF,WAAa,IAAK4W,SAAUoJ,EAAkB/E,cAAezB,MAGtL,CACEiB,OAAQ,CACN,CAAExR,MAAO,UAAWR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEpM,EAAYT,eAAd,aAAE,EAAqBzI,kBAAmBqR,SAAUwH,GAC1G,CAAEnV,MAAO,mBAAoBR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEpM,EAAYT,eAAd,aAAE,EAAqBxI,qBAAsBoR,SAAUqJ,QAGxH,CAACxR,IAaL,SAAS4P,EAAQ5c,GACf,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ7I,eAAeM,OAAShE,EAClC6Z,EAAS9P,GAGX,SAAS8S,EAAQ7c,GACf,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ7I,eAAeO,OAASjE,EAClC+J,EAAEwC,QAAQ7I,eAAeS,KAAOnE,EAChC6Z,EAAS9P,GAGX,SAAS+U,EAAa9e,GAAc,IAAD,IAC3B+J,EAAC,eAAQiD,GACX+R,GAAQ,UAAAhV,EAAEwC,eAAF,mBAAW7I,sBAAX,eAA2BM,QAAS+F,EAAEwC,QAAQ7I,eAAeM,OAAS,EAClF+F,EAAEwC,QAAQ7I,eAAeQ,KAAO6a,EAAQL,KAAKC,IAAI3e,GACjD6Z,EAAS9P,GAGX,SAASqU,EAAYpe,GACnB,IAAM+J,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQ3I,MAAQ8a,KAAKtM,IAAI,EAAGpS,GAC9B6Z,EAAS9P,GAGX,SAASsU,EAA2BhG,GAClC,IAAMsF,EAAE,eAAQ3Q,GAChB2Q,EAAGpR,QAAQ5I,qBAAuB0U,EAClCwB,EAAS8D,GAGX,SAASW,EAAY7f,GACnB,IAAMsL,EAAC,eAAQiD,GACfjD,EAAEwC,QAAQxO,MAAQA,EAAMgI,WAAWtH,GACnCob,EAAS9P,GAGX,SAAS4S,EAAwBtE,GAC/B,IAAMsF,EAAE,eAAQ3Q,GAChB2Q,EAAGpR,QAAQzI,kBAAoBuU,EAC/BwB,EAAS8D,GAGX,SAASa,EAA2BnG,GAClC,IAAMsF,EAAE,eAAQ3Q,GAChB2Q,EAAGpR,QAAQxI,qBAAuBsU,EAClCwB,EAAS8D,GAIX,SAASY,EAAiBve,GACxB,IAAMye,EAAI,eAAQzR,GACZ+H,EAAQ3W,SAAS4B,GAClB+T,MAAMgB,GACN0J,EAAKlS,QAAQ1I,SAAW,EADV4a,EAAKlS,QAAQ1I,SAAWkR,EAE3C8E,EAAS4E,GAEX,OACE,gBAAClD,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,6BACA,sBAAKA,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASxL,EAAYX,cACrB8I,SA9EX,WACC,IAAMyJ,EAAE,eAAQ5R,GAChB4R,EAAGvS,eAAiBuS,EAAGvS,cAClBuS,EAAGrS,UACNqS,EAAGrS,QAAU,IAAI/I,GACdob,EAAGrS,QAAQ7I,iBACdkb,EAAGrS,QAAQ7I,eAAiB,IAAIA,GAClCmW,EAAS+E,aA4EN5R,EAAYX,cACX,eAACkP,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,MAG5B,OCuCO6P,GAnJuB,SAAC,GAchC,IAbLvN,EAaI,EAbJA,SACAjK,EAYI,EAZJA,MACAyX,EAWI,EAXJA,iBACAlF,EAUI,EAVJA,mBACAC,EASI,EATJA,cACAF,EAQI,EARJA,WACAG,EAOI,EAPJA,eACAiF,EAMI,EANJA,aACAC,EAKI,EALJA,OACAzF,EAII,EAJJA,SACA7Q,EAGI,EAHJA,aACAX,EAEI,EAFJA,SACAY,EACI,EADJA,SAqBA,OACE,gBAACyS,GAAA,EAAD,CAAMvG,UAAU,iBAAhB,UACE,gBAACuG,GAAA,EAAKC,OAAN,CACExG,UAAU,oDACVW,QAAS,WACP,IAAI/G,EAAC,eAAQ6C,GACb7C,EAAEpF,WAAaoF,EAAEpF,UACjByV,EAAiBrQ,IALrB,UAOE,uBAAMoG,UAAU,mBAAhB,SAAoCxN,IACpC,yBAAQwN,UAAU,yBAAyBhO,KAAK,SAAS2O,QAAS,SAACzC,GAAQA,EAAEkM,kBAAmB1F,EAASxG,IAAzG,uBAEAzB,EAASjI,UA+FT,GA9FA,gBAAC+R,GAAA,EAAKG,KAAN,WACIyD,EAAc,yBAAQnK,UAAU,mCAAmCW,QAASwJ,EAA9D,qCAAL,GAEV1N,EAASzK,OAASxF,EAAaS,QAC9B,sBAAK+S,UAAU,mBAAmBqK,KAAK,QAAvC,uOAKS,GACX,eAAC,GAAD,CACE1S,MAAO8E,EAAS9E,MAChBnF,MAAOqB,GAA8BrB,EACrCqS,SA5CV,SAAuB9P,GACrB,IAAI6E,EAAC,eAAQ6C,GACb7C,EAAEjC,MAAF,eAAe5C,GACfkV,EAAiBrQ,IA0CTmL,mBAAoBA,EACpBC,cAAeA,EACfF,WAAYA,EACZG,eAAgBA,IAGjB/R,EACC,eAAC,GAAD,CACEyE,MAAO8E,EAAS7E,SAChBpF,MAAOU,EACP2R,SAjDZ,SAA0B9P,GACxB,IAAI6E,EAAC,eAAQ6C,GACb7C,EAAEhC,SAAF,eAAkB7C,GAClBkV,EAAiBrQ,IA+CPmL,mBAAoBA,EACpBC,cAAeA,EACfF,WAAYA,EACZG,eAAgBA,IACb,GAENnR,EACC,eAAC,GAAD,CACE6D,MAAO8E,EAAS5E,SAChBrF,MAAOsB,EACP+Q,SAtDZ,SAA0B9P,GACxB,IAAI6E,EAAC,eAAQ6C,GACb7C,EAAE/B,SAAF,eAAkB9C,GAClBkV,EAAiBrQ,IAoDPmL,mBAAoBA,EACpBC,cAAeA,EACfF,WAAYA,EACZG,eAAgBA,IACb,QAEWta,IAAjBuf,IAA+C,IAAjBA,EAC7B,uCACE,eAAC,GAAD,CACEpS,cAAe2E,EAAS3E,cACxB+M,SAAU,SAAC9P,GACT,IAAM6E,EAAC,eAAQ6C,GACf7C,EAAE9B,cAAgB/C,EAClBkV,EAAiBrQ,MAGrB,eAAC,GAAD,CACE5B,YAAayE,EAASzE,YACtB6M,SAAU,SAAC9P,GACT,IAAM6E,EAAC,eAAQ6C,GACf7C,EAAE5B,YAAcjD,EAChBkV,EAAiBrQ,MAGrB,eAAC,GAAD,CACE5B,YAAayE,EAASzE,YACtB6M,SAAU,SAAC9P,GACT,IAAM6E,EAAC,eAAQ6C,GACf7C,EAAE5B,YAAcjD,EAChBkV,EAAiBrQ,MAGrB,eAAC,GAAD,CACEpH,MAAM,mBACNgV,UAAW/K,EAAS1E,gBACpB8M,SAAU,SAAC2D,GACT,IAAM5O,EAAC,eAAQ6C,GACf7C,EAAE7B,gBAAkByQ,EACpByB,EAAiBrQ,IAEnB6N,WAAW,OAET,GACPhL,EAASxE,KACR,eAAC,GAAD,CACEzF,MAAM,OACNkW,YAAajM,EAASxE,KACtB4M,SAAU,SAAC8D,GACT,IAAM/O,EAAC,eAAQ6C,GACf7C,EAAE3B,KAAO0Q,EACTsB,EAAiBrQ,MAIrB,UCzDG0Q,GA7F2B,SAAC,GAAoD,IAAnD9P,EAAkD,EAAlDA,UAAWqK,EAAuC,EAAvCA,SAAUrQ,EAA6B,EAA7BA,UAAW0O,EAAkB,EAAlBA,aAAkB,EAElD7B,mBAAiB7U,EAAaE,QAAQlC,OAFY,mBAErF+f,EAFqF,KAEtEC,EAFsE,KAoC5F,OACE,gBAACjE,GAAA,EAAD,WACE,gBAACA,GAAA,EAAKC,OAAN,CAAaxG,UAAU,oDACrBxN,MAAM,wBACNmO,QAAS,WACPuC,GAAc1O,IAHlB,8BAMagG,QANb,IAMaA,OANb,EAMaA,EAAW9Q,OANxB,IAOE,wBAAMsW,UAAU,qBAAhB,UACE,yBAAQA,UAAU,cAChBG,SAAU,SAACjC,GAAD,OAAOsM,EAAiBphB,SAAS8U,EAAEC,OAAO4B,SACpDY,QAAS,SAACzC,GAAD,OAAOA,EAAEkM,mBAClBrK,MAAOwK,EAHT,SAMM1f,OAAO4f,KAAKje,GAAc6P,KAAI,SAAC3E,GAAD,OAC5BlL,EAAakL,aAAgBnN,EAC3B,yBAAsCwV,MAAOvT,EAAakL,GAAKlN,MAA/D,SAAuEgC,EAAakL,GAAKjN,MAA5E+B,EAAakL,GAAKlN,OAC7B,QAIZ,yBAAQwV,UAAU,0BAA0BhO,KAAK,SAAS2O,QA5ClE,SAAqBzC,GAEnB,GADAA,EAAEkM,kBACEG,EAAe,CACjB,IAAInQ,EAAKT,GAAoB,KAAMnN,EAAake,YAAYH,IAC5D,GAAInQ,EAAI,CACN,IAAIuQ,EAAE,aAAOnQ,GACbmQ,EAAG5R,KAAKqB,GACRyK,EAAS8F,MAqCP,uBAGDnW,EAyBD,GAxBA,eAAC+R,GAAA,EAAKG,KAAN,WACY,OAATlM,QAAS,IAATA,OAAA,EAAAA,EAAW9Q,QAAS,EACjB,eAAC,GAAD,CACAyX,MAAO3G,EAAU6B,KAAI,SAACzB,EAAMpQ,GAAP,MAAmB,CAAEoQ,KAAMA,EAAM+H,UACpD,eAAC,GAAD,CAEElG,SAAU7B,EACVqP,iBAAkB,SAACrQ,GAAD,OA7DlC,SAAwBpP,EAAeoP,GACrC,IAAI+Q,EAAE,aAAOnQ,GACbmQ,EAAGngB,GAAH,eAAgBoP,GAChBiL,EAAS8F,GA0D8BC,CAAepgB,EAAOoP,IAC/C8K,SAAU,SAACxG,GAAD,OA5C1B,SAAwBA,EAAG1T,GAEzB,GADA0T,EAAEkM,kBACGxK,OAAOiL,QAAP,iCAAyCrQ,EAAUhQ,GAAOmN,MAAM3C,IAAIxC,MAApE,gBAAyF,CAC5F,IAAImY,EAAE,aAAOnQ,GACbmQ,EAAG1B,OAAOze,EAAO,GACjBqa,EAAS8F,IAuCoBG,CAAe5M,EAAG1T,IACnCsa,YAAY,EACZC,mBAAoBnK,EAAK5I,OAASxF,EAAaO,SAC/Cmd,aAActP,EAAK5I,OAASxF,EAAaO,SACzCiY,cAAepK,EAAK5I,OAASxF,EAAaS,QAC1CuF,MAAOoI,EAAKjD,MAAQiD,EAAKjD,MAAM3C,IAAIxC,MAAQ,KAC3CqB,aAAc+G,EAAKjD,MAAQiD,EAAKjD,MAAM3C,IAAInB,aAAe,KACzDX,SAAU0H,EAAKhD,SAAWgD,EAAKhD,SAAS5C,IAAI9B,SAAW,KACvDY,SAAU8G,EAAK/C,SAAW+C,EAAK/C,SAAS7C,IAAIlB,SAAW,MAXlD8G,EAAKlD,SAcd0J,YA9EZ,SAAqB2J,GACnB,IAAIJ,EAAKI,EAAK1O,KAAI,SAAC0D,GAAD,OAAWA,EAAMnF,QACnCiK,EAAS8F,MA8ED,2BChCGK,GA7DiB,WAAO,IAAD,EACApN,qBAA0BhV,GAAtDqiB,EAD4B,EAC5BA,UAAWlN,EADiB,EACjBA,aAEb5D,EAAKkL,mBAAgB,iBAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,UAAWR,KAAM0L,GAAUyG,WAAYC,OAAQ6G,EAAUzO,WAAWjI,aAAc4L,SAAU+K,GACrG,CAAE1Y,MAAO,aAAcR,KAAM0L,GAAUyG,WAAYC,OAAQ6G,EAAUzO,WAAWlI,WAAY6L,SAAUgL,KAG1G,CACEnH,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAU3U,MAAOwb,OAAQ0G,EAAUzO,WAAW/S,MAAO0W,SAAUiL,QAG1F,CAACH,EAAUzO,aAEd,SAAS0O,EAA+B1gB,GACtCuT,EAAa,2BACRkN,GADO,IAEVzO,WAAW,2BAAMyO,EAAUzO,YAAjB,IAA6BjI,aAAc/J,OAIzD,SAAS2gB,EAA6B3gB,GACpCuT,EAAa,2BACRkN,GADO,IAEVzO,WAAW,2BAAMyO,EAAUzO,YAAjB,IAA6BlI,WAAY9J,OAIvD,SAAS4gB,EAAwBrL,GAC/BhC,EAAa,2BACRkN,GADO,IAEVzO,WAAW,2BAAMyO,EAAUzO,YAAjB,IAA6B/S,MAAOsW,OAIlD,OACE,gBAACwG,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACExG,UAAU,YACVW,QAAS,WACP,IAAIrC,EAAC,eAAQ2M,GACb3M,EAAE9B,WAAWhI,WAAa8J,EAAE9B,WAAWhI,UACvCuJ,EAAaO,IALjB,wBAUE2M,EAAUzO,WAAWhI,UAKrB,GAJA,eAAC+R,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,UCqFrBkR,GAhImB,SAAC,GAAiD,IAA/C/S,EAA8C,EAA9CA,KAAMuM,EAAwC,EAAxCA,SAAUrQ,EAA8B,EAA9BA,UAAW0O,EAAmB,EAAnBA,aAAmB,EAEvB7B,oBAAkB,GAFK,mBAE1EiK,EAF0E,KAEnDC,EAFmD,KAIjF,SAASC,EAAUzW,GACjB,IAAM0W,EAAK,eAAQnT,GACnBmT,EAAM3Y,IAAMiC,EACZ8P,EAAS4G,GAEX,SAASC,EAAY3W,GACnB,IAAM0W,EAAK,eAAQnT,GACnBmT,EAAM7Y,MAAQmC,EACd8P,EAAS4G,GAOX,SAASE,EAAW5W,GAClB,IAAM0W,EAAK,eAAQnT,GACnBmT,EAAM9Y,KAAOoC,EACb8P,EAAS4G,GAcX,OACE,qCACE,gBAAClF,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACE7F,QAAS,WACPuC,GAAc1O,IAFlB,kBAOA,gBAAC+R,GAAA,EAAKG,KAAN,CAAW1G,UAAS,UAAKxL,EAAY,WAAa,IAAlD,UAEE,gBAAC+R,GAAA,EAAD,CAAMvG,UAAU,OAAhB,UACE,eAACuG,GAAA,EAAKC,OAAN,CACU7F,QAAS,WACP4K,GAA0BD,IAFtC,oCAMKA,EAMA,GALL,eAAC/E,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CACEvF,MAAO7I,EAAK7B,cAAc4F,KAAI,SAAC0D,GAAD,MAAY,CAAEnF,KAAMmF,EAAO4C,UAAW5C,EAAMvN,UAC1E4O,YA7Bd,SAAyB2J,GACvB,IAAMU,EAAK,eAAQnT,GACnBmT,EAAMhV,cAAgBsU,EAAK1O,KAAI,SAACzB,GAAD,OAAUA,EAAKA,QAC9CiK,EAAS4G,WA+BH,eAAC,GAAD,CACEjZ,MAAM,YACNmF,MAAOW,EAAKxF,IACZ+R,SAAU2G,IAEZ,eAAC,GAAD,CACEhZ,MAAM,yBACNmF,MAAOW,EAAKxF,IACZ+R,SAAU2G,IAEZ,eAAC,GAAD,CACEhZ,MAAM,wBACNmF,MAAOW,EAAKxF,IACZ+R,SAAU2G,IAGZ,eAAC,GAAD,CACEhZ,MAAM,QACNmF,MAAOW,EAAK1F,MACZiS,SAAU6G,IAEZ,eAAC,GAAD,CACElZ,MAAM,2BACNmF,MAAOW,EAAK1F,MACZiS,SAAU6G,IAEZ,eAAC,GAAD,CACElZ,MAAM,0BACNmF,MAAOW,EAAK1F,MACZiS,SAAU6G,IAEZ,eAAC,GAAD,CACElZ,MAAM,gBACNmF,MAAOW,EAAK/B,YACZsO,SApFV,SAA2B9P,GACzB,IAAM0W,EAAK,eAAQnT,GACnBmT,EAAMlV,YAAcxB,EACpB8P,EAAS4G,IAkFDxG,gBAAgB,IAElB,eAAC,GAAD,CACEzS,MAAM,OACNmF,MAAOW,EAAK3F,KACZkS,SAAU8G,IAEZ,eAAC,GAAD,CACEnZ,MAAM,0BACNmF,MAAOW,EAAK3F,KACZkS,SAAU8G,IAEZ,eAAC,GAAD,CACEnZ,MAAM,yBACNmF,MAAOW,EAAK3F,KACZkS,SAAU8G,IAEZ,eAAC,GAAD,CACEnZ,MAAM,UACNmF,MAAOW,EAAK9B,QACZqO,SA/FV,SAAuB9P,GACrB,IAAM0W,EAAK,eAAQnT,GACnBmT,EAAMjV,QAAUzB,EAChB8P,EAAS4G,IA6FDxG,gBAAgB,aCzEb2G,GAxDa,WAAO,IAAD,EAE9BhO,qBAA0BhV,GADpBqiB,EADwB,EACxBA,UAAWlN,EADa,EACbA,aADa,EAIEsD,oBAAkB,GAJpB,mBAIzB7M,EAJyB,KAId0O,EAJc,KAMhC,SAAS2I,EAAanP,GACpBqB,EAAa,2BAAKkN,GAAN,IAAiBvO,OAAQA,KAGvC,OACE,gBAAC6J,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACE7F,QAAS,WACPuC,GAAc1O,IAFlB,oBAOA,gBAAC+R,GAAA,EAAKG,KAAN,CAAW1G,UAAS,UAAKxL,EAAY,WAAa,IAAlD,UACE,eAAC,GAAD,CACEhC,MAAM,YACNkW,YAAauC,EAAUvO,OAAO9F,UAC9BiO,SAAU,SAAC+D,GAETiD,EADyB,2BAAOZ,EAAUvO,QAAjB,IAAyB9F,UAAWgS,QAIjE,eAAC,GAAD,CACEpW,MAAM,iBACNkW,YAAauC,EAAUvO,OAAO7F,IAC9BgO,SAAU,SAAC+D,GAETiD,EADyB,2BAAOZ,EAAUvO,QAAjB,IAAyB7F,IAAK+R,QAI3D,eAAC,GAAD,CACEpW,MAAM,QACNkW,YAAauC,EAAUvO,OAAO5F,MAC9B+N,SAAU,SAAC+D,GAETiD,EADyB,2BAAOZ,EAAUvO,QAAjB,IAAyB5F,MAAO8R,QAI7D,eAAC,GAAD,CACEpW,MAAM,OACNkW,YAAauC,EAAUvO,OAAO3F,KAC9B8N,SAAU,SAAC+D,GAETiD,EADyB,2BAAOZ,EAAUvO,QAAjB,IAAyB3F,KAAM6R,eCOrDkD,GAnDyB,SAAC,GAAsC,IAAD,IAApCtX,iBAAoC,SAAlB0O,EAAkB,EAAlBA,aAAkB,EAE1EtF,qBAA0BhV,GADpBqiB,EADoE,EACpEA,UAAWlN,EADyD,EACzDA,aAGnB,OACE,gBAACwI,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACE7F,QAAS,WACPuC,GAAc1O,IAFlB,yBAOA,gBAAC+R,GAAA,EAAKG,KAAN,CAAW1G,UAAS,UAAKxL,EAAY,WAAa,IAAlD,UACE,eAAC,GAAD,CACEhC,MAAM,QACNgV,UAAWyD,EAAU5S,SAAStC,eAC9B0R,WAAW,EACX5C,SAAU,SAAC2D,GACT,IAAMlK,EAAC,eAAQ2M,GACf3M,EAAEjG,SAAStC,eAAiByS,EAC5BzK,EAAaO,MAIjB,eAAC,GAAD,CACE9L,MAAM,UACNgV,UAAWyD,EAAU5S,SAASrC,iBAC9B6O,SAAU,SAAC2D,GACT,IAAMzT,EAAC,eAAQkW,GACflW,EAAEsD,SAASrC,iBAAmBwS,EAC9BzK,EAAahJ,IAEf0S,WAAW,IAGb,eAAC,GAAD,CACEjV,MAAM,UACNgV,UAAWyD,EAAU5S,SAASpC,iBAC9B4O,SAAU,SAAC2D,GACT,IAAMlK,EAAC,eAAQ2M,GACf3M,EAAEjG,SAASpC,iBAAmBuS,EAC9BzK,EAAaO,IAEfmJ,WAAW,WCuCNsE,GA9EmC,SAAC,GAAsC,IAApCvZ,EAAmC,EAAnCA,MAAOkW,EAA4B,EAA5BA,YAAa7D,EAAe,EAAfA,SAEjEM,EAAgBE,mBAAgB,kBAYtC,SAAwBlL,GACtB,IAAKA,EAAI,OAAO,KAChB,IAAI3P,EAAQ2P,EAAGQ,WAAU,SAACC,GAAD,OAAUA,EAAK9K,WAAapF,EAAaQ,IAAIT,QACtE,OAAOD,GAAS,EAAIA,EAAQ,EAfc8a,CAAeoD,EAAYje,KAAK6D,YAAW,CAACoa,IAElFvO,EAAKkL,mBAAgB,iCAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAEsE,EAAYje,YAAd,iBAAE,EAAkB6D,SAAS6W,UAA7B,aAAE,EAA2C7W,SAASN,WAAYmS,SAAU2I,GAChI,CAAEtW,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAsE,EAAYje,KAAKmD,mBAAjB,eAA8BC,GAA9B,UAAkC6a,EAAYje,KAAKmD,mBAAnD,aAAkC,EAA8BC,EAAI,EAAGsS,SAAUyH,GAC/H,CAAEpV,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAQ,UAAAsE,EAAYje,KAAKmD,mBAAjB,eAA8BE,GAA9B,UAAkC4a,EAAYje,KAAKmD,mBAAnD,aAAkC,EAA8BE,EAAI,EAAGqS,SAAU0H,QAGlI,CAACa,IAoBJ,SAASI,EAAiBjM,GACxB,IAAM8L,EAAE,eAAQD,GAChBC,EAAGle,KAAK6D,SAAS6W,GAAe7W,SAASN,WAAa6O,EACtDgI,EAAS8D,GAGX,SAASf,EAAQ5c,GACf,IAAM2d,EAAE,eAAQD,GACXC,EAAGle,KAAKmD,cAAa+a,EAAGle,KAAKmD,YAAc,IAAIA,GACpD+a,EAAGle,KAAKmD,YAAYC,EAAI7C,EACxB6Z,EAAS8D,GAGX,SAASd,EAAQ7c,GACf,IAAM2d,EAAE,eAAQD,GACXC,EAAGle,KAAKmD,cAAa+a,EAAGle,KAAKmD,YAAc,IAAIA,GACpD+a,EAAGle,KAAKmD,YAAYE,EAAI9C,EACxB6Z,EAAS8D,GAGX,OACE,gBAACpC,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,UACE,uBAAKxG,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAhB,SAAoCxN,IACpC,sBAAKwN,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASkF,EAAY/T,QACrBwL,SA1CZ,WACE,IAAMpL,EAAC,eAAQ2T,GAEf,GADA3T,EAAEJ,SAAWI,EAAEJ,SACTI,EAAEtK,KAAK6D,SAAU,CACrByG,EAAEtK,KAAK6D,SAAW,GAClB,IAAImY,EAAa,IAAIlW,EACrBkW,EAAWnY,SAASL,YAAc8G,EAAE9C,MACpC8C,EAAEtK,KAAK6D,SAAS,GAAKmY,EAEvB5B,EAAS9P,aAsCN2T,EAAY/T,QACX,eAAC4R,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,MAG5B,OCqCO6R,GA9G0B,SAAC,GAAsC,IAAD,IAApCxX,iBAAoC,SAAlB0O,EAAkB,EAAlBA,aAAkB,EAE3EtF,qBAA0BhV,GADpBqiB,EADqE,EACrEA,UAAWlN,EAD0D,EAC1DA,aAInB,SAASkO,EAAiB/hB,GACxB,IAAMgiB,EAAC,eAAOjB,EAAU5S,UACxB6T,EAAEtW,aAAe1L,EACjBiiB,EAAkBD,GAGpB,SAASE,EAAmBC,GAC1B,IAAMH,EAAC,eAAOjB,EAAU5S,UACxB6T,EAAErW,eAAiBwW,EACnBF,EAAkBD,GAGpB,SAASI,EAAmB3V,GAC1B,IAAMuV,EAAC,eAAOjB,EAAU5S,UACxB6T,EAAEpW,eAAiBa,EACnBwV,EAAkBD,GAcpB,SAASC,EAAkBI,GACzBxO,EAAa,2BAAKkN,GAAN,IAAiB5S,SAAUkU,KAGzC,OACE,gBAAChG,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACE7F,QAAS,WACPuC,GAAc1O,IAFlB,0BAOA,gBAAC+R,GAAA,EAAKG,KAAN,CAAW1G,UAAS,UAAKxL,EAAY,WAAa,IAAlD,UACE,eAAC,GAAD,CACEhC,MAAM,eACNmF,MAAOsT,EAAU5S,SAASzC,aAC1BiP,SAAUoH,EACV/G,gBAAgB,IAElB,eAAC,GAAD,CACI1S,MAAM,2BACNmF,MAAOsT,EAAU5S,SAASzC,aAC1BiP,SAAUoH,EACV/G,gBAAgB,IAEpB,eAAC,GAAD,CACI1S,MAAM,0BACNmF,MAAOsT,EAAU5S,SAASzC,aAC1BiP,SAAUoH,EACV/G,gBAAgB,IAEpB,eAAC,GAAD,CACE1S,MAAM,UACNmF,MAAOsT,EAAU5S,SAASxC,eAC1BgP,SAAUuH,EACVnH,gBAAgB,IAElB,eAAC,GAAD,CACIzS,MAAM,6BACNmF,MAAOsT,EAAU5S,SAASxC,eAC1BgP,SAAUuH,IAEd,eAAC,GAAD,CACI5Z,MAAM,4BACNmF,MAAOsT,EAAU5S,SAASxC,eAC1BgP,SAAUuH,IAEd,eAAC,GAAD,CACE5Z,MAAM,UACNmF,MAAOsT,EAAU5S,SAASvC,eAC1B+O,SAAUyH,EACVrH,gBAAgB,IAElB,eAAC,GAAD,CACIzS,MAAM,6BACNmF,MAAOsT,EAAU5S,SAASvC,eAC1B+O,SAAUyH,IAEd,eAAC,GAAD,CACI9Z,MAAM,4BACNmF,MAAOsT,EAAU5S,SAASvC,eAC1B+O,SAAUyH,IAEd,eAAC,GAAD,CACE9Z,MAAM,KACNkW,YAAauC,EAAU5S,SAASnC,GAChC2O,SA9ER,SAAkBlO,GAChB,IAAMuV,EAAC,eAAOjB,EAAU5S,UACxB6T,EAAEhW,GAAKS,EACPwV,EAAkBD,MA4Ed,eAAC,GAAD,CACE1Z,MAAM,KACNkW,YAAauC,EAAU5S,SAASlC,GAChC0O,SA7ER,SAAkBlO,GAChB,IAAMuV,EAAC,eAAOjB,EAAU5S,UACxB6T,EAAE/V,GAAKQ,EACPwV,EAAkBD,aC2BPM,GA9DmB,WAAO,IAAD,EAEF5O,qBAA0BhV,GAAtDqiB,EAF8B,EAE9BA,UAAWlN,EAFmB,EAEnBA,aAenB,OACE,uCACE,eAAC,GAAD,IACA,eAAC,GAAD,CACEvJ,UAAWyW,EAAU5S,SAAS3C,iBAC9BwN,aAAc,SAACuJ,GACb,IAAIC,EAAE,eAAQzB,GACdyB,EAAGrU,SAAS3C,iBAAmB+W,EAC/B1O,EAAa2O,MAGjB,eAAC,GAAD,CACElY,UAAWyW,EAAU5S,SAAS1C,gBAC9BuN,aAAc,SAACuJ,GACb,IAAIC,EAAE,eAAQzB,GACdyB,EAAGrU,SAAS1C,gBAAkB8W,EAC9B1O,EAAa2O,MAGjB,eAAC,GAAD,CACEpU,KAAM2S,EAAU3S,KAChBuM,SAlCN,SAAoB9P,GAClB,IAAIuJ,EAAC,eAAQ2M,GACb3M,EAAEhG,KAAOvD,EACTgJ,EAAaO,IAgCT9J,UAAWyW,EAAU3S,KAAK9D,UAC1B0O,aAAc,SAACuJ,GACb,IAAIC,EAAE,eAAQzB,GACdyB,EAAGpU,KAAK9D,UAAYiY,EACpB1O,EAAa2O,MAIjB,eAAC,GAAD,CACElS,UAAWyQ,EAAUxO,SACrBoI,SAvCN,SAAyB8F,GACvB,IAAIrM,EAAC,eAAQ2M,GACb3M,EAAE7B,SAAWkO,EACbrM,EAAE/F,uBAAwB,EAC1BwF,EAAaO,IAoCT9J,UAAWyW,EAAU1S,sBACrB2K,aAAc,SAAC1O,GACb,IAAI8J,EAAC,eAAQ2M,GACb3M,EAAE/F,sBAAwB/D,EAC1BuJ,EAAaO,MAGjB,eAAC,GAAD,QCnEOqO,GAAb,kCAAaA,GACExS,GAAe,CAC1B,SACA,iBACA,iBACA,QACA,WACA,aACA,aACA,gBACA,gBACA,iBACA,aACA,YACA,QACA,MACA,OACA,eACA,YACA,QACA,eACA,iBACA,uBACA,YACA,aACA,mBACA,kBACA,kBACA,eACA,cACA,eCzBJ,IAgeeyS,GAheoB,WAAO,IAAD,QAErChP,qBAA0BhV,GADpBqiB,EAD+B,EAC/BA,UAAW4B,EADoB,EACpBA,WAAYC,EADQ,EACRA,cAG/BC,qBAAU,WAAO,IAAD,EACRC,EAAE,eAAQH,GAChB,IAAK,UAAA5B,EAAUjP,eAAV,eAAmBA,UAAWiP,EAAUjP,QAAQA,QAAQtS,OAAS,GACpE,GAAKmjB,EAAW7Q,QAAQtS,OAASuhB,EAAUjP,QAAQA,QAAQtS,OACzDsjB,EAAGhR,QAAQiN,OAAOgC,EAAUjP,QAAQA,QAAQtS,OAAO,GACnDojB,EAAcE,QACT,GAAKH,EAAW7Q,QAAQtS,OAASuhB,EAAUjP,QAAQA,QAAQtS,OAAQ,CACxE,IAAI,IAAI2Z,EAAIwJ,EAAW7Q,QAAQtS,OAAQ2Z,EAAI4H,EAAUjP,QAAQA,QAAQtS,OAAQ2Z,IAC3E2J,EAAGhR,QAAQjD,KAAK,GAElB+T,EAAcE,SAGhBA,EAAGhR,QAAU,GACb8Q,EAAcE,KAEf,CAAC/B,IAEJ,IAAM3S,EAAO+M,mBACX,2BACKwH,EAAWla,KAAKpJ,WAAWC,SAAS,EAAG,KAD5C,YACoDqjB,EAAWja,MAC1DrJ,WACAC,SAAS,EAAG,KAHjB,YAGyBqjB,EAAW/Z,IAAIvJ,WAAWC,SAAS,EAAG,QAC/D,CAACqjB,IAGGI,EAAO5H,mBACX,2BACKwH,EAAWK,MAAM3jB,WAAWC,SAAS,EAAG,KAD7C,YACqDqjB,EAAWM,QAC3D5jB,WACAC,SAAS,EAAG,KAHjB,YAGyBqjB,EAAWO,QAAQ7jB,WAAWC,SAAS,EAAG,QACnE,CAACqjB,IAsBH,OACE,+BACE,uCACE,uBAAK7M,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,kBACA,wBACEhO,KAAK,OACLgO,UAAU,+BACVD,MAAOzH,EACP6H,SA5BV,SAAoBjC,GAClB,IAAI5F,EAAO,IAAI7L,KAAKyR,EAAEC,OAAO4B,OACvBiN,EAAE,eAAQH,GAChBG,EAAGra,KAAO2F,EAAK+U,cACfL,EAAGpa,MAAQ0F,EAAKgV,WAAa,EAC7BN,EAAGna,YAAcyF,EAAKgV,WACtBN,EAAGla,IAAMwF,EAAKiV,UACdP,EAAGja,QAAUuF,EAAKkV,SAAW,EAAIlV,EAAKkV,SAAW,EAAI,EACrDV,EAAcE,MAsBR,uBAAMhN,UAAU,mBAAhB,kBACA,wBACEhO,KAAK,OACLgO,UAAU,+BACVyN,KAAK,IACL1N,MAAOkN,EACP9M,SAzBV,SAAoBjC,GAAyC,IAAD,EAC1CA,EAAEC,OAAO4B,MAAM2N,MAAM,KADqB,mBACrDxjB,EADqD,KAClDmiB,EADkD,KAC/C1V,EAD+C,KAEpDqW,EAAE,eAAQH,GACX9N,MAAM3V,SAASc,MAAK8iB,EAAGE,MAAQ9jB,SAASc,IACxC6U,MAAM3V,SAASijB,MAAKW,EAAGG,QAAU/jB,SAASijB,IAC1CtN,MAAM3V,SAASuN,MAAKqW,EAAGI,QAAUhkB,SAASuN,IAC/CmW,EAAcE,SAuBV,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,qBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,MACJ2C,MAAO8M,EAAW7Z,QAClBmN,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGha,QAAW+L,MAAM4O,GAAwB,EAAnBjE,KAAKjX,IAAIkb,EAAG,KACrCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,sBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,MACJ2C,MAAO8M,EAAW1Z,SAClBgN,SAAU,SAACjC,GACT,IAAI8O,EAAE,eAAQH,GACRc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAG7Z,SAAY4L,MAAM4O,GAAwB,EAAnBjE,KAAKjX,IAAIkb,EAAG,KACtCb,EAAcE,SAKpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,mBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,QACJ2C,MAAO8M,EAAW5Z,MAClBkN,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAG/Z,MAAS8L,MAAM4O,GAA0B,EAArBjE,KAAKjX,IAAIkb,EAAG,OACnCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,wBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,QACJ2C,MAAO8M,EAAWe,UAClBzN,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGY,UAAa7O,MAAM4O,GAA0B,EAArBjE,KAAKjX,IAAIkb,EAAG,OACvCb,EAAcE,SAKpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,wBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAKyP,EAAWgB,eAChB9N,MAAO8M,EAAWiB,WAClB3N,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGc,WAAc/O,MAAM4O,GAA8C,EAAzCjE,KAAKjX,IAAIkb,EAAGd,EAAWgB,gBACnDf,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,sBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,OACJ2C,MAAO8M,EAAWvZ,SAClB6M,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAG1Z,SAAYyL,MAAM4O,GAAyB,EAApBjE,KAAKjX,IAAIkb,EAAG,MACtCb,EAAcE,SAKpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,iBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAKyP,EAAWkB,QAChBhO,MAAO8M,EAAWxZ,IAClB8M,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAG3Z,IAAO0L,MAAM4O,GAAuC,EAAlCjE,KAAKjX,IAAIkb,EAAGd,EAAWkB,SAC5CjB,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,qBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAKyP,EAAWmB,YAChBjO,MAAO8M,EAAWoB,QAClB9N,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGiB,QAAWlP,MAAM4O,GAA2C,EAAtCjE,KAAKjX,IAAIkb,EAAGd,EAAWmB,aAChDlB,EAAcE,SAIpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,oBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,MACJ2C,MAAO8M,EAAW5Y,OAClBkM,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAG/Y,OAAU8K,MAAM4O,GAAwB,EAAnBjE,KAAKjX,IAAIkb,EAAG,KACpCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,yBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,KACJ2C,MAAO8M,EAAW1Y,WAClBgM,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAG7Y,WAAc4K,MAAM4O,GAAuB,EAAlBjE,KAAKjX,IAAIkb,EAAG,IACxCb,EAAcE,SAKpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,0BACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,KACJ2C,MAAO8M,EAAWqB,YAClB/N,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGkB,YAAenP,MAAM4O,GAAuB,EAAlBjE,KAAKjX,IAAIkb,EAAG,IACzCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,SAAoC2M,GAAcxS,GAAG0S,EAAWqB,kBAElE,uBAAKlO,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,qBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,MACJ2K,IAAI,KACJ2C,MAAO8M,EAAWsB,YAClBhO,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGmB,YAAepP,MAAM4O,GAAsC,EAAjCjE,KAAKtM,IAAIsM,KAAKjX,IAAIkb,EAAG,KAAM,IACxDb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,iBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,MACJ2K,IAAI,KACJ2C,MAAO8M,EAAWuB,eAClBjO,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGoB,eAAkBrP,MAAM4O,GAAsC,EAAjCjE,KAAKtM,IAAIsM,KAAKjX,IAAIkb,EAAG,KAAM,IAC3Db,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,iBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,MACJ2K,IAAI,KACJ2C,MAAO8M,EAAWwB,eAClBlO,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGqB,eAAkBtP,MAAM4O,GAAsC,EAAjCjE,KAAKtM,IAAIsM,KAAKjX,IAAIkb,EAAG,KAAM,IAC3Db,EAAcE,SAKpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,sBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,KACJ2C,MAAO8M,EAAWpZ,QAClB0M,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGvZ,QAAWsL,MAAM4O,GAAuB,EAAlBjE,KAAKjX,IAAIkb,EAAG,IACrCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,yBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,MACJ2C,MAAO8M,EAAWnZ,WAClByM,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGtZ,WAAcqL,MAAM4O,GAAwB,EAAnBjE,KAAKjX,IAAIkb,EAAG,KACxCb,EAAcE,SAIpB,uBAAKhN,UAAU,kCAAf,UACE,uBAAMA,UAAU,mBAAhB,sBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,MACJ2C,MAAO8M,EAAWlZ,SAClBwM,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGrZ,SAAYoL,MAAM4O,GAAwB,EAAnBjE,KAAKjX,IAAIkb,EAAG,KACtCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,uBACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAI,KACJ2C,MAAO8M,EAAW9Y,UAClBoM,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGjZ,UAAagL,MAAM4O,GAAuB,EAAlBjE,KAAKjX,IAAIkb,EAAG,IACvCb,EAAcE,MAGlB,uBAAMhN,UAAU,mBAAhB,0BACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVvN,IAAI,IACJ2K,IAAKyP,EAAWyB,gBAChBvO,MAAO8M,EAAW7Y,YAClBmM,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGhZ,YAAe+K,MAAM4O,GAA+C,EAA1CjE,KAAKjX,IAAIkb,EAAGd,EAAWyB,iBACpDxB,EAAcE,SAKpB,uBAAKhN,UAAU,6BAAf,UACE,uBAAMA,UAAU,mBAAmBlB,GAAG,iBAAtC,sBAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASqJ,EAAWjW,UACpBuJ,SAAU,WACR,IAAI6M,EAAE,eAAQH,GACdG,EAAGpW,WAAaoW,EAAGpW,UACnBkW,EAAcE,QAIpB,uBAAMhN,UAAU,mBAAmBlB,GAAG,iBAAtC,iBAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASqJ,EAAWhW,IACpBsJ,SAAU,WACR,IAAI6M,EAAE,eAAQH,GACdG,EAAGnW,KAAOmW,EAAGnW,IACbiW,EAAcE,QAIpB,uBAAMhN,UAAU,mBAAmBlB,GAAG,iBAAtC,mBAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASqJ,EAAW/V,MACpBqJ,SAAU,WACR,IAAI6M,EAAE,eAAQH,GACdG,EAAGlW,OAASkW,EAAGlW,MACfgW,EAAcE,QAIpB,uBAAMhN,UAAU,mBAAmBlB,GAAG,iBAAtC,kBAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASqJ,EAAW9V,KACpBoJ,SAAU,WACR,IAAI6M,EAAE,eAAQH,GACdG,EAAGjW,MAAQiW,EAAGjW,KACd+V,EAAcE,WAMtB,gBAACzG,GAAA,EAAD,CAAMvG,UAAU,OAAhB,UACE,eAACuG,GAAA,EAAKC,OAAN,UACE,+DAEF,gBAACD,GAAA,EAAKG,KAAN,YACI,UAAAmG,EAAW7Q,eAAX,eAAoBtS,QAAS,EAC7B,uBAAKsW,UAAU,kCAAf,UACA,uBAAMA,UAAU,mBAAhB,2BACA,wBACEhO,KAAK,SACLgO,UAAU,+BACVD,MAAO8M,EAAW0B,aAAe,EACjC9b,IAAK,EACL2K,IAAG,UAAE6N,EAAUjP,eAAZ,aAAE,EAAmBA,QAAQtS,OAChCyW,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGuB,aAAgBxP,MAAM4O,GAAwB,EAAnBjE,KAAKtM,IAAI,EAAGuQ,EAAE,GAC5Cb,EAAcE,SAIjB,IACD,UAAAH,EAAW7Q,eAAX,eAAoBtS,QAAS,EAAImjB,EAAW7Q,QAAQK,KAAI,SAACiC,EAAG9T,GAAJ,iBAC1D,uBAAiBwV,UAAU,kCAA3B,UACE,wBAAMA,UAAU,mBAAhB,oBAA2CxV,EAAM,EAAjD,4BACA,wBACEwH,KAAK,SACLgO,UAAU,+BACVD,MAAOzB,EAAE,EACT7L,IAAK,EACL2K,IAAG,UAAE6N,EAAUjP,eAAZ,iBAAE,EAAmBA,QAAQxR,UAA7B,iBAAE,EAAmCyQ,sBAArC,aAAE,EAAmDvR,OACxDyW,SAAU,SAACjC,GACT,IAAM8O,EAAE,eAAQH,GACVc,EAAIvkB,SAAS8U,EAAEC,OAAO4B,OAC5BiN,EAAGhR,QAAQxR,GAAUuU,MAAM4O,GAAwB,EAAnBjE,KAAKtM,IAAI,EAAGuQ,EAAE,GAC9Cb,EAAcE,QAZVxiB,MAgBR,sCC9aCgkB,GAzCoB,WAAO,IAAD,EACF5Q,qBAA0BhV,GAAvDqiB,EAD+B,EAC/BA,UAAWlN,EADoB,EACpBA,aAEb5D,EAAKkL,mBAAgB,iBAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,aAAcR,KAAM0L,GAAUyG,WAAYC,OAAQ6G,EAAUtO,IAAIlE,qBAAsB0H,SAAUgL,QAG5G,CAACF,EAAUtO,IAAIlE,uBAElB,SAAS0S,EAA6B3gB,GACpCuT,EAAa,2BACRkN,GADO,IAEVtO,IAAI,2BAAMsO,EAAUtO,KAAjB,IAAsBlE,qBAAsBjO,OAInD,OACE,gBAAC+b,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACExG,UAAU,YACVW,QAAS,WACP,IAAIrC,EAAC,eAAO2M,GACZ3M,EAAE3B,IAAIjE,qBAAuB4F,EAAE3B,IAAIjE,oBACnCqF,EAAaO,IALjB,wBAUE2M,EAAUtO,IAAIjE,oBAKd,GAJA,eAAC6N,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GAAIA,UCyBrBsU,GArD4B,SAAC,GAAsC,IAAD,IAApCja,iBAAoC,SAAlB0O,EAAkB,EAAlBA,aAAkB,EAE7EtF,qBAA0BhV,GADpBqiB,EADuE,EACvEA,UAAWlN,EAD4D,EAC5DA,aAcnB,OACE,gBAACwI,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACE7F,QAAS,WACPuC,GAAc1O,IAFlB,yBAOA,gBAAC+R,GAAA,EAAKG,KAAN,CAAW1G,UAAS,UAAKxL,EAAY,WAAa,IAAlD,UACE,eAAC,GAAD,CACEhC,MAAM,QACNgV,UAAWyD,EAAUtO,IAAItE,SAAStC,eAClC0R,WAAW,EACX5C,SAAU,SAAC2D,GACT,IAAMlK,EAAC,eAAQ2M,GACf3M,EAAE3B,IAAItE,SAAStC,eAAiByS,EAChCzK,EAAaO,IAEf8G,iBA9BR,WACE,IAAM8G,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAEnW,eAAF,eAAuBkV,EAAU5S,SAAStC,gBAC1CgI,EAAa,2BAAKkN,GAAN,IAAiBtO,IAAI,2BAAKsO,EAAUtO,KAAhB,IAAqBtE,SAAU6T,UA8B3D,eAAC,GAAD,CACE1Z,MAAM,UACNgV,UAAWyD,EAAUtO,IAAItE,SAASrC,iBAClC6O,SAAU,SAAC2D,GACT,IAAMlK,EAAC,eAAQ2M,GACf3M,EAAE3B,IAAItE,SAASrC,iBAAmBwS,EAClCzK,EAAaO,IAEfmJ,WAAW,EACXrC,iBArCR,WACE,IAAM8G,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAElW,iBAAF,eAAyBiV,EAAU5S,SAASrC,kBAC5C+H,EAAa,2BAAKkN,GAAN,IAAiBtO,IAAI,2BAAKsO,EAAUtO,KAAhB,IAAqBtE,SAAU6T,iBCoGpDwC,GA5G6B,SAAC,GAAsC,IAAD,IAApCla,iBAAoC,SAAlB0O,EAAkB,EAAlBA,aAAkB,EAE9EtF,qBAA0BhV,GADpBqiB,EADwE,EACxEA,UAAWlN,EAD6D,EAC7DA,aAGnB,SAASkO,EAAiB/hB,GACxB,IAAMgiB,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAEtW,aAAe1L,EACjBiiB,EAAkBD,GAGpB,SAASE,EAAmBC,GAC1B,IAAMH,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAErW,eAAiBwW,EACnBF,EAAkBD,GA0BpB,SAASC,EAAkBI,GACzBxO,EAAa,2BAAKkN,GAAN,IAAiBtO,IAAI,2BAAKsO,EAAUtO,KAAhB,IAAqBtE,SAAUkU,OAGjE,OACE,gBAAChG,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,CACE7F,QAAS,WACPuC,GAAc1O,IAFlB,0BAOA,gBAAC+R,GAAA,EAAKG,KAAN,CAAW1G,UAAS,UAAKxL,EAAY,WAAa,IAAlD,UACE,eAAC,GAAD,CACEhC,MAAM,QACNmF,MAAOsT,EAAUtO,IAAItE,SAASzC,aAC9BiP,SAAUoH,EACVlH,oBAAoB,EACpBC,eAAe,EACfF,YAAY,EACZG,gBAAgB,EAChBG,iBA5CR,WACE,IAAM8G,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAEtW,aAAF,eAAqBqV,EAAU5S,SAASzC,cACxCuW,EAAkBD,IA0CZhH,gBAAgB,IAElB,eAAC,GAAD,CACI1S,MAAM,2BACNmF,MAAOsT,EAAUtO,IAAItE,SAASzC,aAC9BiP,SAAUoH,EACV/G,gBAAgB,IAEpB,eAAC,GAAD,CACI1S,MAAM,0BACNmF,MAAOsT,EAAUtO,IAAItE,SAASzC,aAC9BiP,SAAUoH,EACV/G,gBAAgB,IAEpB,eAAC,GAAD,CACE1S,MAAM,UACNmF,MAAOsT,EAAUtO,IAAItE,SAASxC,eAC9BgP,SAAUuH,EACVrH,oBAAoB,EACpBC,eAAe,EACfF,YAAY,EACZG,gBAAgB,EAChBG,iBA9DR,WACE,IAAM8G,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAErW,eAAF,eAAuBoV,EAAU5S,SAASxC,gBAC1CsW,EAAkBD,MA6Dd,eAAC,GAAD,CACI1Z,MAAM,6BACNmF,MAAOsT,EAAUtO,IAAItE,SAASxC,eAC9BgP,SAAUuH,IAEd,eAAC,GAAD,CACI5Z,MAAM,4BACNmF,MAAOsT,EAAUtO,IAAItE,SAASxC,eAC9BgP,SAAUuH,IAEd,eAAC,GAAD,CACE5Z,MAAM,KACNkW,YAAauC,EAAUtO,IAAItE,SAASnC,GACpC2O,SAvER,SAAkBlO,GAChB,IAAMuV,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAEhW,GAAKS,EACPwV,EAAkBD,MAqEd,eAAC,GAAD,CACE1Z,MAAM,KACNkW,YAAauC,EAAUtO,IAAItE,SAASlC,GACpC0O,SAtER,SAAkBlO,GAChB,IAAMuV,EAAC,eAAOjB,EAAUtO,IAAItE,UAC5B6T,EAAE/V,GAAKQ,EACPwV,EAAkBD,aCmBPyC,GA5DU,WAAO,IAAD,EAEQ/Q,qBAA0BhV,GAAvDqiB,EAFqB,EAErBA,UAAWlN,EAFU,EAEVA,aAenB,OACE,uCACE,eAAC,GAAD,IACA,eAAC,GAAD,CACAvJ,UAAWyW,EAAUtO,IAAItE,SAAS3C,iBAClCwN,aAAc,SAACuJ,GACb,IAAI9V,EAAC,eAAOsU,GACZtU,EAAEgG,IAAItE,SAAS3C,iBAAmB+W,EAClC1O,EAAapH,MAGf,eAAC,GAAD,CACEnC,UAAWyW,EAAUtO,IAAItE,SAAS1C,gBAClCuN,aAAc,SAACuJ,GACb,IAAI9V,EAAC,eAAOsU,GACZtU,EAAEgG,IAAItE,SAAS1C,gBAAkB8W,EACjC1O,EAAapH,MAGjB,eAAC,GAAD,CACE2B,KAAM2S,EAAUtO,IAAIrE,KACpBuM,SAlCN,SAAoB9P,GAClB,IAAIuJ,EAAC,eAAO2M,GACZ3M,EAAE3B,IAAIrE,KAAOvD,EACbgJ,EAAaO,IAgCT9J,UAAWyW,EAAUtO,IAAIrE,KAAK9D,UAC9B0O,aAAc,SAACuJ,GACb,IAAI9V,EAAC,eAAOsU,GACZtU,EAAEgG,IAAIrE,KAAK9D,UAAYiY,EACvB1O,EAAapH,MAGjB,eAAC,GAAD,CACE6D,UAAWyQ,EAAUtO,IAAInE,aACzBqM,SAtCN,SAAyB8F,GACvB,IAAIrM,EAAC,eAAO2M,GACZ3M,EAAE3B,IAAInE,aAAemS,EACrBrM,EAAE3B,IAAIpE,uBAAwB,EAC9BwF,EAAaO,IAmCT9J,UAAWyW,EAAUtO,IAAIpE,sBACzB2K,aAAc,SAAC1O,GACb,IAAImC,EAAC,eAAOsU,GACZtU,EAAEgG,IAAIpE,sBAAwB/D,EAC9BuJ,EAAapH,UCoBRiY,GAlE4B,SAAC,GAAwD,IAAvDpkB,EAAsD,EAAtDA,MAAOqkB,EAA+C,EAA/CA,QAASnK,EAAsC,EAAtCA,SAAUG,EAA4B,EAA5BA,SAA4B,EAAlBiK,aAc/E,OACI,gBAACvI,GAAA,EAAD,CAAMvG,UAAU,QAAhB,UACI,gBAACuG,GAAA,EAAKC,OAAN,CACIxG,UAAU,oDACVW,QAAS,WACP,IAAIoO,EAAE,eAAOF,GACbE,EAAGva,WAAaua,EAAGva,UACnBqQ,EAASkK,IALf,UAOI,wBAAM/O,UAAU,mBAAhB,qBAA4CxV,EAAM,KAClD,yBAAQwV,UAAU,yBAAyBhO,KAAK,SAAS2O,QAAS+D,EAAlE,uBAEDmK,EAAQra,UAmCT,GAlCF,gBAAC+R,GAAA,EAAKG,KAAN,WACE,eAAC,GAAD,CAAsBvM,GACpB,CACE,CAAE6J,OAAQ,CACR,CAAExR,MAAO,UAAWR,KAAM0L,GAAUyG,WAAYC,OAAQyK,EAAQtU,kBAAmB4F,SA7BnG,SAAmC3V,GAC/B,IAAMwkB,EAAG,eAAQH,GACjBG,EAAIzU,kBAAoB/P,EACxBqa,EAASmK,UA8BL,eAAC,GAAD,CACI1W,KAAMuW,EAAQvW,KACduM,SA7BZ,SAAoB9P,GAClB,IAAIia,EAAG,eAAQH,GACfG,EAAI1W,KAAOvD,EACX8P,EAASmK,IA2BCxa,UAAWqa,EAAQvW,KAAK9D,UACxB0O,aAAc,SAACuJ,GACb,IAAIuC,EAAG,eAAQH,GACfG,EAAI1W,KAAK9D,UAAYiY,EACrB5H,EAASmK,MAGf,eAAC,GAAD,CACIxU,UAAWqU,EAAQrU,UACnBqK,SAAQ,+GAAE,SAAC8F,GACT,IAAIoE,EAAE,eAAOF,GACbE,EAAGvU,UAAYmQ,EACfoE,EAAGxW,uBAAwB,EAC3BsM,EAASkK,MAEXva,UAAWqa,EAAQtW,sBACnB2K,aAAc,SAAC1O,GACb,IAAIua,EAAE,eAAOF,GACbE,EAAGxW,sBAAwB/D,EAC3BqQ,EAASkK,aC8GVE,GAtKqB,SAAC,GAA2C,IAAD,MAAxCzc,EAAwC,EAAxCA,MAAO0c,EAAiC,EAAjCA,OAAQrK,EAAyB,EAAzBA,SAAUH,EAAe,EAAfA,SAExDvK,EAAKkL,mBAAgB,iBAAM,CAC/B,CACErB,OAAQ,CACN,CAAExR,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAc,OAAN8K,QAAM,IAANA,OAAA,EAAAA,EAAQzd,GAAIyd,EAAOzd,EAAI,EAAG0O,SAAUsF,GAClF,CAAEjT,MAAO,IAAKR,KAAM0L,GAAUgE,OAAQ0C,QAAc,OAAN8K,QAAM,IAANA,OAAA,EAAAA,EAAQxd,GAAIwd,EAAOxd,EAAI,EAAGyO,SAAUuF,KAGtF,CACE1B,OAAQ,CACN,CAAExR,MAAO,QAASR,KAAM0L,GAAUgE,OAAQ0C,QAAc,OAAN8K,QAAM,IAANA,OAAA,EAAAA,EAAQpU,OAAQoU,EAAOpU,MAAQ,EAAGqF,SAAUgP,GAC9F,CAAE3c,MAAO,SAAUR,KAAM0L,GAAUgE,OAAQ0C,QAAc,OAAN8K,QAAM,IAANA,OAAA,EAAAA,EAAQnU,QAASmU,EAAOnU,OAAS,EAAGoF,SAAUiP,KAGrG,CACEpL,OAAQ,CACN,CAAExR,MAAO,cAAeR,KAAM0L,GAAUyG,WAAYC,OAAQ8K,EAAOhU,sBAAwBgU,EAAOhU,sBAAwB,KAAMiF,SAAUkP,GAC1I,CAAE7c,MAAO,gBAAiBR,KAAM0L,GAAUyG,WAAYC,OAAQ8K,EAAO/T,wBAA0B+T,EAAO/T,wBAA0B,KAAMgF,SAAUmP,KAGpJ,CACEtL,OAAQ,CACN,CAAExR,MAAO,oBAAqBR,KAAM0L,GAAUgE,OAAQ0C,QAAc,OAAN8K,QAAM,IAANA,OAAA,EAAAA,EAAQ7T,uBAAwB6T,EAAO7T,sBAAwB,EAAG8E,SAAUoP,QAG7I,CAACL,IAEJ,SAASzJ,EAAUza,GACjB,IAAMwkB,EAAG,eAAQN,GACjBM,EAAI/d,EAAIzG,EACR6Z,EAAS2K,GAGX,SAAS9J,EAAU1a,GACjB,IAAMwkB,EAAG,eAAQN,GACjBM,EAAI9d,EAAI1G,EACR6Z,EAAS2K,GAGX,SAASL,EAAcnkB,GACrB,IAAMwkB,EAAG,eAAQN,GACjBM,EAAI1U,MAAQ9P,EACZ6Z,EAAS2K,GAGX,SAASJ,EAAepkB,GACtB,IAAMwkB,EAAG,eAAQN,GACjBM,EAAIzU,OAAS/P,EACb6Z,EAAS2K,GAGX,SAASH,EAAoBrkB,GAC3B,IAAMwkB,EAAG,eAAQN,GACjBM,EAAItU,sBAAwBlQ,EAC5B6Z,EAAS2K,GAGX,SAASF,EAAsBtkB,GAC7B,IAAMwkB,EAAG,eAAQN,GACjBM,EAAIrU,wBAA0BnQ,EAC9B6Z,EAAS2K,GAGX,SAASD,EAAyBvkB,GAChC,IAAMwkB,EAAG,eAAQN,GACjBM,EAAInU,sBAAwBrQ,EAC5B6Z,EAAS2K,GAsBX,SAASC,EAAcjlB,EAAeqkB,GACpC,IAAIW,EAAG,eAAON,GACdM,EAAIvU,eAAezQ,GAAnB,eAAgCqkB,GAChChK,EAAS2K,GASX,OACE,gBAACjJ,GAAA,EAAD,WACE,gBAACA,GAAA,EAAKC,OAAN,CACAxG,UAAU,oDACVW,QAAS,WACP,IAAIrE,EAAE,eAAO4S,GACb5S,EAAG9H,WAAa8H,EAAG9H,UACnBqQ,EAASvI,IALX,UAOI,uBAAM0D,UAAU,mBAAhB,SAAoCxN,IACpC,yBAAQwN,UAAU,yBAAyBhO,KAAK,SAAS2O,QAAS+D,EAAlE,uBAEFwK,EAAO1a,UAgDJ,GA/CL,gBAAC+R,GAAA,EAAKG,KAAN,WACI,eAAC,GAAD,CAAsBvM,GAAIA,IAC1B,sBAAK6F,UAAU,kCAAf,SACE,eAAC,GAAD,CACExN,MAAM,yBACNkW,YAAawG,EAAO9T,2BACpByJ,SAAQ,+GAAE,SAAC+D,GACT,IAAItM,EAAE,eAAO4S,GACb5S,EAAGlB,2BAA6BwN,EAChC/D,EAASvI,UAOf,gBAACiK,GAAA,EAAD,CAAMvG,UAAU,OAAhB,UACE,gBAACuG,GAAA,EAAKC,OAAN,CAAaxG,UAAU,oDACrBW,QAAS,WACP,IAAIrE,EAAE,eAAO4S,GACb5S,EAAGtB,yBAA2BsB,EAAGtB,wBACjC6J,EAASvI,IAJb,iCAMa4S,EAAOjU,sBANpB,aAMa,EAAuBvR,OANpC,IAOE,yBAAQsW,UAAU,0BAA0BhO,KAAK,SAAS2O,QApEtE,SAAoBzC,GAClBA,EAAEkM,kBACF,IAAIoF,EAAG,eAAON,GACTM,EAAIvU,iBAAgBuU,EAAIvU,eAAiB,IAC9C,IAAI+T,EAAM,IAAI1U,GACdkV,EAAIvU,eAAelC,KAAKiW,GACxBQ,EAAIxU,yBAA0B,EAC9B6J,EAAS2K,IA6DC,oBAECN,EAAOlU,wBAkBR,GAjBF,eAACuL,GAAA,EAAKG,KAAN,WACI,UAAAwI,EAAOjU,sBAAP,eAAuBvR,QAAS,EAClC,eAAC,GAAD,CACCyX,MAAK,UACN+N,EAAOjU,sBADD,aACN,EAAuBoB,KACrB,SAACwS,EAASrkB,GAAV,MAAqB,CAACoQ,KAAMiU,EAASlM,UACrC,eAAC,GAAD,CAEEnY,MAAOA,EACPqkB,QAASA,EACTC,aAAc,EACdpK,SAAU,SAACxG,GAAD,OAxE1B,SAAuBA,EAAG1T,GAExB,GADA0T,EAAEkM,kBACGxK,OAAOiL,QAAP,4CAA4D,CAC/D,IAAI2E,EAAG,eAAON,GACdM,EAAIvU,eAAegO,OAAOze,EAAO,GACjCqa,EAAS2K,IAmEoBE,CAAcxR,EAAG1T,IAClCqa,SAAU,SAACgK,GAAD,OAAaY,EAAcjlB,EAAOqkB,KALvCrkB,OAOP4W,YA5Dd,SAAmC2J,GACjC,IAAIyE,EAAG,eAAON,GACdM,EAAIvU,eAAiB8P,EAAK1O,KAAI,SAAC0D,GAAD,OAAWA,EAAMnF,QAC/CiK,EAAS2K,MA0DM,gCCzDJG,GA5Gc,WAAO,IAAD,gBACI/R,qBAA0BhV,GAAvDqiB,EADyB,EACzBA,UAAWlN,EADc,EACdA,aAEnB,SAAS6R,EAAc5T,GACrB,IAAI6T,EAAG,eAAO5E,GACd4E,EAAI7T,QAAJ,eAAkBA,GAClB+B,EAAa8R,GAkDf,OACE,uCACE,gBAACtJ,GAAA,EAAD,WACE,eAACA,GAAA,EAAKC,OAAN,iCAGA,eAACD,GAAA,EAAKG,KAAN,UACE,eAAC,GAAD,CAAsBvM,GACpB,CACI,CAAE6J,OAAQ,CACR,CAAExR,MAAO,WAAYR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAE6G,EAAUjP,eAAZ,aAAE,EAAmBH,kBAAmBsE,SA9B/G,SAAyB3V,GACvB,IAAMwiB,EAAE,eAAQ/B,EAAUjP,SAC1BgR,EAAGrY,SAAU,EACbqY,EAAGnR,kBAAoBrR,EACvBolB,EAAc5C,KA2BA,CAAExa,MAAO,cAAeR,KAAM0L,GAAUyG,WAAYC,OAAM,UAAE6G,EAAUjP,eAAZ,aAAE,EAAmBF,oBAAqBqE,SAxBpH,SAA4B3V,GAC1B,IAAMwiB,EAAE,eAAQ/B,EAAUjP,SAC1BgR,EAAGrY,SAAU,EACbqY,EAAGlR,oBAAsBtR,EACzBolB,EAAc5C,OAsBF,CAAEhJ,OAAQ,CACR,CAAExR,MAAO,2BAA4BR,KAAM0L,GAAU2G,SAAUb,SAAS,UAAAyH,EAAUjP,eAAV,eAAmBD,sBAAuB,EAAGoE,SApBrI,SAA0BqD,GACxB,IAAMwJ,EAAE,eAAQ/B,EAAUjP,SAC1BgR,EAAGjR,qBAAuByH,EAAU,EAAI,EACxCoM,EAAc5C,eAuBZ,gBAACzG,GAAA,EAAD,WACA,gBAACA,GAAA,EAAKC,OAAN,CAAaxG,UAAU,oDACrBW,QAAS,WACP,IAAI+L,EAAE,eAAOzB,GACbyB,EAAG1Q,QAAQxH,WAAakY,EAAG1Q,QAAQxH,UACnCuJ,EAAa2O,IAJjB,gCAOYzB,EAAUjP,eAPtB,iBAOY,EAAmBA,eAP/B,aAOY,EAA4BtS,OAPxC,IAQI,yBAAQsW,UAAU,0BAA0BhO,KAAK,SAAS2O,QAtElE,SAAmBzC,GACjBA,EAAEkM,kBACF,IAAIoF,EAAM,IAAI3U,GACVgV,EAAG,eAAO5E,GACT4E,EAAI7T,UACP6T,EAAI7T,QAAU,IAAIJ,IAEpBiU,EAAI7T,QAAQrH,SAAU,EACtBkb,EAAI7T,QAAQA,QAAQjD,KAAKyW,GACzBzR,EAAa8R,IA6DP,oBAEJ,eAACtJ,GAAA,EAAKG,KAAN,WACK,UAAAuE,EAAUjP,eAAV,mBAAmBA,eAAnB,eAA4BtS,QAAS,EACtC,qCACIuhB,EAAUjP,QAAQA,QAAQK,KAAI,SAACzB,EAAMpQ,GACrC,OACE,eAAC,GAAD,CAEEgI,MAAK,iBAAYhI,EAAM,GACvB0kB,OAAQtU,EACRiK,SAAU,SAACqK,GAAD,OAvF1B,SAAsB1kB,EAAe8R,GACnC,IAAIuT,EAAG,eAAO5E,GACd4E,EAAI7T,QAAQA,QAAQxR,GAApB,eAAiC8R,GACjCyB,EAAa8R,GAoFuBC,CAAatlB,EAAO0kB,IAC1CxK,SAAU,SAACxG,GAAD,OAtE1B,SAAsBA,EAAG1T,GAEvB,GADA0T,EAAEkM,kBACGxK,OAAOiL,QAAP,iCAAiD,CACpD,IAAIgF,EAAG,eAAO5E,GACd4E,EAAI7T,QAAQA,QAAQiN,OAAOze,EAAO,GAClCuT,EAAa8R,IAiEgBE,CAAa7R,EAAG1T,KAJ5BA,QAQP,4BCtGVwlB,GAAO,CACX,CACElR,GAAI,EAAGH,KAAM,gBAAiBpF,GAAI,sBAAKyG,UAAU,cAAf,SAChC,eAAC,GAAD,OAGJ,CACElB,GAAI,EAAGH,KAAM,MAAOpF,GAAI,sBAAKyG,UAAU,cAAf,SACtB,eAAC,GAAD,OAGJ,CACElB,GAAI,EAAGH,KAAM,UAAWpF,GAAI,sBAAKyG,UAAU,cAAf,SAC1B,eAAC,GAAD,OAGJ,CACElB,GAAI,EAAGH,KAAM,gBAAiBpF,GAAI,sBAAKyG,UAAU,OAAf,SAChC,eAAC,GAAD,QAuCSiQ,GAlCe,WAAO,IAE3BC,EAA2BtS,qBAAWhV,GAAtCsnB,uBAF0B,EAII7O,mBAAiB,GAJrB,mBAI3B8O,EAJ2B,KAIdC,EAJc,KAalC,OACE,iCACE,qBAAIpQ,UAAU,eAAd,SACGgQ,GAAK3T,KAAI,SAACgU,GACT,OACE,qBAAiBrQ,UAAU,WAA3B,SACE,yBACEA,UAAS,mBAAcmQ,IAAgBE,EAAIvR,GAAK,SAAW,GAAlD,KACT6B,QAAS,kBAfN2P,EAeoBD,EAAIvR,GAdvCsR,EAAeE,GACD,IAAVA,GAAaJ,GAAuB,GAC1B,IAAVI,GAAaJ,GAAuB,QAC1B,IAAVI,GAAaJ,GAAuB,IAJ1C,IAAiBI,GAaL,SAIGD,EAAI1R,QALA0R,EAAIvR,SAWlBkR,GAAKG,GAAa5W,O,oBCwFVgX,GAxIW,WAAO,IAAD,EAEG3S,qBAA0BhV,GAAlDqiB,EAFqB,EAErBA,UAAWuF,EAFU,EAEVA,SAFU,EAIJnP,mBAAiB,IAJb,mBAIrB5W,EAJqB,KAIfgmB,EAJe,KA0H5B,OApHA1D,qBAAU,WACN,IAAItiB,EAKR,SAAsB6T,GAClB,IAAIoS,EAAqBpS,EAAEjG,SAASzC,aAAajB,SAAW2J,EAAEjG,SAASxC,eAAelB,SAAW2J,EAAEjG,SAASvC,eAAenB,SAAW2J,EAAEjG,SAASnC,GAAGvB,SAAW2J,EAAEjG,SAASlC,GAAGxB,QACzKgc,EAAwBrS,EAAE3B,IAAItE,SAASzC,aAAajB,SAAW2J,EAAE3B,IAAItE,SAASxC,eAAelB,SAAW2J,EAAE3B,IAAItE,SAASnC,GAAGvB,SAAW2J,EAAE3B,IAAItE,SAASlC,GAAGxB,QACvJic,EAAuBtS,EAAEjG,SAAStC,eAAepB,SAAW2J,EAAEjG,SAASrC,iBAAiBrB,SAAW2J,EAAEjG,SAASpC,iBAAiBtB,QAC/Hkc,EAA0BvS,EAAE3B,IAAItE,SAAStC,eAAepB,SAAW2J,EAAE3B,IAAItE,SAASrC,iBAAiBrB,QAEnGmc,EAAcxS,EAAEhG,KAAKxF,IAAI6B,SAAW2J,EAAEhG,KAAK1F,MAAM+B,SAAW2J,EAAEhG,KAAK/B,YAAY5B,SAAW2J,EAAEhG,KAAK9B,QAAQ7B,SAAW2J,EAAEhG,KAAK3F,KAAKgC,QAChIoc,EAAiBzS,EAAE3B,IAAIrE,KAAKxF,IAAI6B,SAAW2J,EAAE3B,IAAIrE,KAAK1F,MAAM+B,SAAW2J,EAAE3B,IAAIrE,KAAK/B,YAAY5B,SAAW2J,EAAE3B,IAAIrE,KAAK9B,QAAQ7B,SAAW2J,EAAE3B,IAAIrE,KAAK3F,KAAKgC,QACvJqc,EAAgB1S,EAAE5B,OAAO5F,MAAMnC,SAAW2J,EAAE5B,OAAO9F,UAAUjC,SAAW2J,EAAE5B,OAAO3F,KAAKpC,SAAW2J,EAAE5B,OAAO7F,IAAIlC,QAE9Gsc,EAAkBP,GAAsBE,EACxCM,EAAqBP,GAAyBE,EAE9CM,EAAaC,GAAenG,GAC5BoG,EAAgBD,GAAenG,EAAUtO,KAEzC2U,EAAa/D,GAAQtC,EAAU3S,MAC/BiZ,EAAgBhE,GAAQtC,EAAUtO,IAAIrE,MAEtCkC,EAAYgX,GAAgBvG,EAAUxO,UACtCgV,EAAeD,GAAgBvG,EAAUtO,IAAInE,cAE7C9D,EAAe,CACfgd,KAAM,CACFC,SAAUxU,GAASM,UAEvBpJ,WAAYiK,EAAE9B,WAAWlI,YAAcgK,EAAE9B,WAAW/S,OAAS6U,EAAE9B,WAAWjI,aAAgB,CACtFmG,QAAS4D,EAAE9B,WAAWjI,aAAe,CACjC,CACIzE,SAAUpF,EAAaQ,IAAIT,KAC3B6D,SAAU,CACNN,WAAYsQ,EAAE9B,WAAWjI,aACzBtG,YAAa,KAGrB,KACJc,qBAAsBuP,EAAE9B,WAAWlI,WACnCvL,MAAOuV,EAAE9B,WAAW/S,MAAQV,EAAM6oB,qBAAqBtT,EAAE9B,WAAW/S,OAAS,MAC7E,KAEJmP,SAAUqY,EAAkB,CACxBpY,gBAAkB6X,EAAqB,CACnC5X,OAAQqY,EAAWznB,OAAS,EAAIynB,EAAa,KAC7CnY,GAAIsF,EAAEjG,SAASnC,GAAGvB,QAAU2J,EAAEjG,SAASnC,GAAGzL,KAAO,KACjDwO,GAAIqF,EAAEjG,SAASlC,GAAGxB,QAAU2J,EAAEjG,SAASlC,GAAG1L,KAAO,MACjD,KACJyO,eAAgB0X,EAAuB,CACnCzX,MAAOmF,EAAEjG,SAAStC,eAAepB,QAAU2J,EAAEjG,SAAStC,eAAetL,KAAO,KAC5E2O,QAAUkF,EAAEjG,SAASrC,iBAAiBrB,QAAU2J,EAAEjG,SAASrC,iBAAiBvL,KAAO,KACnFqS,QAAUwB,EAAEjG,SAASpC,iBAAiBtB,QAAU2J,EAAEjG,SAASpC,iBAAiBxL,KAAO,MACnF,KACJonB,iBAAkB,MAClB,KACJ9U,OAAQ+T,GAAetW,EAAU9Q,OAAS,GAAKsnB,EAAgB,CAC3DhU,OAAQgU,EAAgB,CACpBha,UAAWsH,EAAE5B,OAAO9F,UAAUjC,QAAU2J,EAAE5B,OAAO9F,UAAUnM,KAAM,KACjEyM,aAAcoH,EAAE5B,OAAO7F,IAAIlC,QAAU2J,EAAE5B,OAAO7F,IAAIpM,KAAO,KACzDwM,KAAMqH,EAAE5B,OAAO3F,KAAKpC,QAAU2J,EAAE5B,OAAO3F,KAAKtM,KAAM,KAClD0M,MAAOmH,EAAE5B,OAAO5F,MAAMnC,QAAU2J,EAAE5B,OAAO5F,MAAMrM,KAAO,MACvD,KACHgC,KAAMqkB,EAAc,CAChBxX,WAAYgY,EAAW5nB,OAAS,EAAI4nB,EAAa,KACjD9X,YAAa8E,EAAEhG,KAAK9B,QAAQ7B,QAAU2J,EAAEhG,KAAK9B,QAAQ/L,KAAO,KAC5DqnB,gBAAiB,KACjBC,cAAe,MACf,KACJrY,SAAUc,EAAU9Q,OAAS,EAAI8Q,EAAY,MAC7C,KACJyC,QAASqB,EAAEtC,QAAQrH,QAAUqd,GAAW1T,EAAEtC,SAAW,KACrDkB,WAAYoB,EAAE3B,IAAIlE,sBAAwByY,GAAsBH,GAAkBU,EAAa/nB,OAAS,EAAI,CACxGqF,qBAAsBuP,EAAE3B,IAAIlE,qBAAuB6F,EAAE3B,IAAIlE,qBAAuB,KAChFG,SAAUsY,EAAqB,CAC3BrY,gBAAkB8X,EAAwB,CACtC7X,OAAQuY,EAAc3nB,OAAS,EAAI2nB,EAAgB,KACnDrY,GAAIsF,EAAE3B,IAAItE,SAASnC,GAAGvB,QAAU2J,EAAE3B,IAAItE,SAASnC,GAAGzL,KAAO,KACzDwO,GAAIqF,EAAE3B,IAAItE,SAASlC,GAAGxB,QAAU2J,EAAE3B,IAAItE,SAASlC,GAAG1L,KAAO,MACzD,KACJyO,eAAgB2X,EAA0B,CACtC1X,MAAOmF,EAAE3B,IAAItE,SAAStC,eAAepB,QAAU2J,EAAE3B,IAAItE,SAAStC,eAAetL,KAAO,KACpF2O,QAAUkF,EAAE3B,IAAItE,SAASrC,iBAAiBrB,QAAU2J,EAAE3B,IAAItE,SAASrC,iBAAiBvL,KAAO,KAC3FqS,QAAS,MACT,KACJ+U,iBAAkB,MAClB,KACJplB,KAAMskB,EAAiB,CACnBzX,WAAYiY,EAAc7nB,OAAS,EAAI6nB,EAAgB,KACvD/X,YAAa8E,EAAE3B,IAAIrE,KAAK9B,QAAQ7B,QAAU2J,EAAE3B,IAAIrE,KAAK9B,QAAQ/L,KAAO,KACpEqnB,gBAAiB,KACjBC,cAAe,MACf,KACJrY,SAAU+X,EAAa/nB,OAAS,EAAI+nB,EAAe,MACnD,MAER,OAAOrT,KAAK6T,UAAUvd,GAAG,SAACgD,EAAKqI,GAC3B,GAAc,OAAVA,QAA4BpV,IAAVoV,EAAqB,OAAOA,IACjD,MApGMmS,CAAajH,GACxBwF,EAAQhmB,GAsGZ,SAAkBA,GACd,GAAIA,EAAKf,OAAS,EAAG,CACjB,IAAIkQ,EAAIiG,SAASC,eAAe,YAChC,GAAIlG,EAAG,CACH,IAAIyG,EAAO,IAAI8R,KAAK,CAAC1nB,GAAO,CAACuH,KAAM,eAC/B0M,EAAW8R,GAAsB,iBACrC5W,EAAEwY,KAAOhT,IAAIC,gBAAgBgB,GAC7BzG,EAAEyY,SAAW3T,IA5GrB4T,CAAS7nB,KACV,CAACwgB,IAiHA,uCACA,eAAC1E,GAAA,EAAD,CAAMvG,UAAWuS,KAAG9nB,KAApB,SACI,+BACKA,MAGT,wBACA,oBAAG2nB,KAAK,IAAItT,GAAG,WAAf,oCAQD,SAAS0S,GAAgBgB,GAC5B,IAAIhY,EAAwB,GAC5B,OAAKgY,GACLA,EAAM7gB,SAAQ,SAAAiJ,GACV,IAkCa,IAlCT6X,EAA6B,GAC7B9d,GAAU,EACVmD,EAAoC,KACpCC,EAAkC,KAClCE,EAAyB,KACzBD,EAAgC,KAChCE,EAAqB,MAErB0C,IACIA,EAAKjD,MAAMhD,UAAUA,GAAU,EAAM8d,EAAO1Z,KAAK6B,EAAKjD,QACtDiD,EAAKhD,SAASjD,UAAUA,GAAU,EAAM8d,EAAO1Z,KAAK6B,EAAKhD,WACzDgD,EAAK/C,SAASlD,UAAUA,GAAU,EAAM8d,EAAO1Z,KAAK6B,EAAK/C,WACzD+C,EAAK9C,cAAcnD,UACnBA,GAAU,EACVmD,EAAgB8C,EAAK9C,eAErB8C,EAAK7C,gBAAgBpD,UACrBA,GAAU,EACVoD,EAAkB6C,EAAK7C,kBAEvB6C,EAAK5C,YAAYX,eAAiBuD,EAAK5C,YAAYV,iBACnD3C,GAAU,EACVqD,EAAc4C,EAAK5C,aAEnB4C,EAAK3C,KAAKtD,UACVA,GAAU,EACVsD,EAAO2C,EAAK3C,MAEZ2C,EAAK1C,WACLvD,GAAU,EACVuD,EAAW0C,EAAK1C,WAIpBvD,IACA6F,EAAUzB,KAAK,CACX5H,KAAMyJ,EAAK5I,KAAKvH,KAChBuP,gBAAiBjC,EAAkBA,EAAgBtN,KAAO,KAC1D+D,YAAawJ,EAAcA,EAAYT,QAAU,KACjDlJ,eAA4B,QAAb,EAAAyJ,SAAA,eAAenD,SAAUmD,EAAcrN,KAAO,KAC7DqO,OAAQ2Z,EAAO/oB,OAAS,EAAI+oB,EAAOpW,KAAI,SAAAtH,GAAC,OAAIA,EAAEtK,QAAQ,KACtDyP,SAAUhC,GAAsB,KAChC+B,MAAU,QAAJ,EAAAhC,SAAA,eAAMtD,SAAUsD,EAAKxN,KAAO,UAIvC+P,GAhDYA,EAmDvB,SAAS4W,GAAe9S,GAA0C,IAAD,MACzD6S,EAA6B,GAMjC,OAJA,UAAI7S,EAAEjG,SAASzC,oBAAf,aAAI,EAAyBjB,UAASwc,EAAWpY,KAAKuF,EAAEjG,SAASzC,aAAanL,OAC9E,UAAI6T,EAAEjG,SAASxC,sBAAf,aAAI,EAA2BlB,UAASwc,EAAWpY,KAAKuF,EAAEjG,SAASxC,eAAepL,OAClF,UAAI6T,EAAEjG,SAASvC,sBAAf,aAAI,EAA2BnB,UAASwc,EAAWpY,KAAKuF,EAAEjG,SAASvC,eAAerL,MAE3E0mB,EAGX,SAAS5D,GAAQ9B,GACb,IAAI6F,EAA6B,GAgBjC,OAfA7F,EAAMhV,cAAc9E,SAAQ,SAAAiJ,GACxB,IAAIjD,EAA0B,KAC1BhD,GAAU,EACTiG,EAAK5I,OAAShG,EAASC,KAAKzB,OACzBihB,EAAM9Y,KAAKgC,UAASA,GAAU,GAC9BgD,EAAQ8T,EAAM9Y,MACViI,EAAK5I,OAAShG,EAASE,MAAM1B,MACjCihB,EAAM7Y,MAAM+B,SAAYA,GAAU,EAAOgD,EAAQ8T,EAAM7Y,OAClD6Y,EAAMlV,YAAY5B,UAAYA,GAAU,EAAOgD,EAAQ8T,EAAMlV,aAC7DqE,EAAK5I,OAAShG,EAASG,IAAI3B,QAChCihB,EAAM3Y,IAAI6B,UAASA,GAAU,GACjCgD,EAAQ8T,EAAM3Y,KAEd6B,GAAS2c,EAAWvY,KAAKpB,EAAMlN,SAEhC6mB,EAGX,SAASU,GAAWhW,GAChB,IACa,EADT/S,EAAkB,KAClB+S,IACA/S,EAAS,CACLgT,kBAAmBD,EAAQH,kBAC3BK,oBAAqBF,EAAQF,oBAC7BK,SAAUH,EAAQD,qBAClBK,QAAQ,UAAAJ,EAAQA,eAAR,eAAiBtS,QAAS,EAAIsS,EAAQA,QAAQK,KAAI,SAACzB,GAAD,OAMtE,SAAmBsU,GAAqC,IAAD,EACnD,MAAQ,CACJrhB,EAAGqhB,EAAOzd,EACV3D,EAAGohB,EAAOxd,EACV9C,MAAOsgB,EAAOpU,MACdQ,OAAQ4T,EAAOnU,OACfS,sBAAuB0T,EAAOhU,sBAC9BO,wBAAyByT,EAAO/T,wBAChCO,2BAA4BwT,EAAO9T,2BAA2B3Q,KAC9DkR,sBAAuBuT,EAAO7T,sBAC9BE,eAAe,UAAA2T,EAAOjU,sBAAP,eAAuBvR,QAASwlB,EAAOjU,eAAeoB,KAAK,SAAC0S,GAAD,OAIlF,SAA0BA,GACtB,IAAIvU,EAAYgX,GAAgBzC,EAAGvU,WAE/BsW,EAAc/B,EAAGzW,KAAKxF,IAAI6B,SAAWoa,EAAGzW,KAAK1F,MAAM+B,SAAWoa,EAAGzW,KAAK/B,YAAY5B,SACpEoa,EAAGzW,KAAK9B,QAAQ7B,SAAWoa,EAAGzW,KAAK3F,KAAKgC,QACtD2c,EAAa/D,GAAQwB,EAAGzW,MAE5B,MAAO,CACHoC,QAAS,CACL,CACI5K,SAAUpF,EAAaQ,IAAIT,KAC3B6D,SAAU,CACNN,WAAY+gB,EAAGxU,kBACftM,YAAa,KAIzBxB,KAAMqkB,EAAc,CAChBxX,WAAYgY,EAAW5nB,OAAS,EAAI4nB,EAAa,KACjD9X,YAAauV,EAAGzW,KAAK9B,QAAQ7B,QAAUoa,EAAGzW,KAAK9B,QAAQ/L,KAAO,KAC9DqnB,gBAAiB,KACjBC,cAAe,MACf,KACJrY,UAAmB,OAATc,QAAS,IAATA,OAAA,EAAAA,EAAW9Q,QAAS,EAAI8Q,EAAY,MA3BoCkY,CAAiB3D,MAAO,MAhBlC4D,CAAU/X,MAAS,OAG/F,OAAO3R,E,aC/NI2pB,GAjBA,SAACC,GAAW,IACjBC,EAA6BD,EAA7BC,KAAM9S,EAAuB6S,EAAvB7S,UAAc+S,EADJ,aACaF,EADb,sBAElBG,EAAYC,iBAAO,MAYzB,OAVAlG,qBAAU,WACR,IAAMmG,EAASF,EAAUG,QACnBC,EAAUF,EAAOG,WAAW,MAGhCP,EAAKI,EAAQE,KAGd,CAACN,IAEG,qCAAQ9S,UAAWA,EAAWsT,IAAKN,GAAeD,KCbpD,SAASQ,GAAczU,EAAYjB,GACtC,GAAY,OAAPiB,QAAsBnU,IAAPmU,EAAmB,OAAO,KAC9C,IAAMuE,EAAIxF,EAAO9S,MAAK,SAAC6P,GAAD,OAAUA,EAAKkE,KAAOA,KAC5C,OAAIuE,EACOA,EAAE9D,OAETG,QAAQ8T,MAAM,qBAAuB1U,EAAK,cACnC,MCNA,SAAS2U,GACpBC,EACA7V,EACA8V,GACI,GAAIA,EAAW3lB,WAAY,CAAC,IAAD,IACnByD,GAAI,UAAAkiB,EAAW/lB,mBAAX,eAAwBC,GAAI8lB,EAAW/lB,YAAYC,EAAI,EAC3D6D,GAAI,UAAAiiB,EAAW/lB,mBAAX,eAAwBE,GAAI6lB,EAAW/lB,YAAYE,EAAI,EACzDkR,EAAMuU,GAAcI,EAAW3lB,WAAY6P,GAC7CmB,GAAK0U,EAAIE,UAAU5U,EAAKvN,EAAGC,EAAGsN,EAAIlE,MAAOkE,EAAIjE,SCL9C,SAAS8Y,GACpBH,EACA7V,EACAlG,EACAmc,EACAC,EACAC,EACA/O,EACAgP,GAC6B,IAAD,wCACtBxiB,EAAIsiB,EAAWA,EAAS,IAAO,UAAApc,EAAMlN,YAAN,mBAAY4G,aAAZ,mBAAmBrB,aAAnB,eAA0BnC,GAA1B,UAA8B8J,EAAMlN,YAApC,iBAA8B,EAAY4G,aAA1C,iBAA8B,EAAmBrB,aAAjD,aAA8B,EAA0BnC,EAAI,EAC3F6D,EAAIqiB,EAAWA,EAAS,IAAO,UAAApc,EAAMlN,YAAN,mBAAY4G,aAAZ,mBAAmBrB,aAAnB,eAA0BlC,GAA1B,UAA8B6J,EAAMlN,YAApC,iBAA8B,EAAY4G,aAA1C,iBAA8B,EAAmBrB,aAAjD,aAA8B,EAA0BlC,EAAI,EAC3FqX,EAAgBG,GAAc,UAAC3N,EAAMlN,KAAK4G,aAAZ,iBAAC,EAAkBrB,aAAnB,aAAC,EAAyBO,gBACxDgV,EAAmBD,GAAc,UAAC3N,EAAMlN,KAAK4G,aAAZ,iBAAC,EAAkBrB,aAAnB,aAAC,EAAyBS,oBAKjE,IAAI,UAAAkH,EAAMlN,KAAK4G,aAAX,mBAAkBrB,aAAlB,eAAyBO,kBAAzB,UACAoH,EAAMlN,KAAK4G,MAAMrB,MAAMO,eAAe4U,UADtC,iBACA,EAAsD7W,gBADtD,aACA,EAAgEN,YAAY,CACxE,IAAIkmB,EAAYJ,EAAOvqB,WACnBuqB,EAAS,IAAGI,IAAcJ,GAAQvqB,YAChCoO,EAAMlN,KAAK4G,MAAMhB,oBAAsBsH,EAAMlN,KAAK4G,MAAMjB,cAAe6U,IACzEiP,EAAYA,EAAU1qB,SAASmO,EAAM3C,IAAI9C,aAAc,MAE3D,IAAIiI,EAAyB,GAC7B,GAAIxC,EAAMlN,KAAK4G,MAAMrB,MAAMU,qBACnBojB,EAAS,EAAE,CACX,IAAM9U,EAAMuU,GAAc5b,EAAMlN,KAAK4G,MAAMrB,MAAMU,oBAAqBmN,GAClEmB,GAAK7E,EAAGpB,KAAKiG,GAIzB,GAAIrH,EAAMlN,KAAK4G,MAAMhB,kBAAmB,CACpC,IAAM2O,EAAMuU,GAAc5b,EAAMlN,KAAK4G,MAAMrB,MAAMO,eAAe4U,GAAe7W,SAASN,WAAa8lB,EAAQjW,GACzGmB,GAAK7E,EAAGpB,KAAKiG,QAEjB7E,EAAKA,EAAGga,OA+BxB,SACItW,EACAqW,EACA5W,EACArL,EAAemiB,GAEf,IADA,IAAMja,EAAyB,GACtBkJ,EAAI,EAAGA,EAAI6Q,EAAUxqB,OAAQ2Z,IAAK,CACvC,GAAI+Q,GAAkB/Q,IAAM6Q,EAAUxqB,OAAS,EAAG,CAC9C,IAAMsV,EAAMuU,GAAca,EAAgBvW,GACtCmB,GAAO7E,EAAGpB,KAAKiG,GAEvB,IAAIqV,EAAMH,EAAUI,OAAOjR,GACvBkR,EAAInrB,SAASirB,GACjB,IAAKtV,MAAMwV,IAAMA,EAAItiB,EAAO,CACxB,IAAM+M,EAAMuU,GAAcjW,EAAkBiX,EAAG1W,GAC3CmB,GAAO7E,EAAGpB,KAAKiG,QAEnBzB,MAAM,6BAA+B2W,EAAY,aAAe7Q,GAGxE,OAAOlJ,EAnDoBoE,CAAUV,EAAQqW,EAC7Bvc,EAAMlN,KAAK4G,MAAMrB,MAAMO,eAAe4U,GAAe7W,SAASN,WAC9D2J,EAAMlN,KAAK4G,MAAMrB,MAAMO,eAAe4U,GAAe7W,SAASL,YAC9D0J,EAAMlN,KAAK4G,MAAMrB,MAAMQ,yBAG/B,IAAIgkB,EAAY,EACVxV,EAAMuU,GAAc5b,EAAMlN,KAAK4G,MAAMrB,MAAMO,eAAe4U,GAAe7W,SAASN,WAAY6P,GAChGmB,IAAOwV,EAAYxV,EAAIlE,OAE3B,IAAI2Z,EAAY,EAChB,GAAI9c,EAAMlN,KAAK4G,MAAMrB,MAAMS,oBAAsBkH,EAAMlN,KAAK4G,MAAMrB,MAAMS,mBAAmB8U,GAAoB,CAC3G,IAAMvG,EAAMuU,GAAc5b,EAAMlN,KAAK4G,MAAMrB,MAAMS,mBAAmB8U,GAAmBjX,SAASN,WAAY6P,GACxGmB,IACA7E,EAAGpB,KAAKiG,GACRyV,EAAYzV,EAAIlE,OAIxB,IAAMiZ,EAmClB,SACIL,EACAvZ,EACAua,EACAC,EACAC,EACAC,EACA3iB,EACA4iB,EACAC,EACAd,EACAQ,EACAD,GACA,GAAmB,IAAdra,EAAGzQ,OAAc,OAEjBkrB,IAASA,EAAU,GAExB,IAAII,EAAqB,EAEzB7a,EAAGxI,SAAQ,SAAAqN,GACPgW,GAAchW,EAAIlE,MAClBka,GAAcJ,KAIlBI,GAAcJ,EAQd,IAAIK,EAAmBT,EAAYM,EAAYN,GAAatiB,EAAe4iB,GACvEF,EAAU,IAAIK,GAAYL,GAAWza,EAAGzQ,OAASwI,EAAe4iB,EAAY,IAE3EE,EAAaC,IAAWA,EAAWD,GAExC,IAAIvjB,EAAIijB,EACJhjB,EAAIijB,EACJE,IAAc1pB,EAAcG,MAAMb,KAClCgH,EAAIA,EAAIwjB,EAAWD,EACZH,IAAc1pB,EAAcE,OAAOZ,OAEtCgH,EADAwiB,EACIA,GAAsBe,EAAaP,GAAa,EAEhDhjB,EAAIwjB,EAAW,EAAID,EAAa,GAK5C,IAAIja,EAAS,EAEbZ,EAAGxI,SAAQ,SAAAqN,GACP0U,EAAIE,UAAU5U,EAAKvN,EAAGC,GACtBqJ,EAAS2O,KAAKtM,IAAI4B,EAAIjE,OAAQA,GAC9BtJ,GAAKuN,EAAIlE,MACJ8Z,IAAUnjB,GAAKmjB,MAEnBG,IACDrB,EAAIwB,YACJxB,EAAIyB,YAAc,OAClBzB,EAAI0B,KAAKV,EAAQC,EAAQM,EAAUla,GACnC2Y,EAAI2B,UAGR,MAAO,CAAC5jB,EAAGC,GArGc4jB,CAAW5B,EAAKvZ,EAAI1I,EAAGC,EAAGiG,EAAMlN,KAAK4G,MAAMlB,QACxDwH,EAAMlN,KAAK4G,MAAMnB,UAAWyH,EAAM3C,IAAI9C,aAAcgiB,EAAUxqB,OAC9DsqB,EAAYC,EAAoBQ,EAAWD,GAK/C,OAHK7c,EAAMlN,KAAK6G,WACZikB,GAAc7B,EAAK7V,EAAQlG,EAAMlN,KAAK6G,WAEnCyiB,EAEX,OAAOA,EAgGf,SAASzO,GAAenL,GACpB,IAAKA,EAAI,OAAO,KAChB,IAAIkD,EAAc,EAOlB,OANAlD,EAAGxI,SAAQ,SAACiJ,EAAMpQ,GACToQ,EAAK9K,WAAapF,EAAaQ,IAAIT,OACpC4S,EAAc7S,MAIf6S,ECvGJ,SAASmY,GAAqBC,EAAc9d,GAAkC,IAAD,EAC5E+d,EAAU,UAAG/d,EAAMlN,KAAK4G,aAAd,aAAG,EAAkBpB,WAC/BhH,EAASwsB,EACb,OAAMC,IAC4B,IAA9BA,EAAW1kB,cACX/H,GAAkB0O,EAAM3C,IAAI3C,KAAK,GACG,IAA7BqjB,EAAW1kB,cAClB/H,GAAkB0O,EAAM3C,IAAI3C,KAAK,GACI,IAA7BqjB,EAAW1kB,gBACnB/H,GAAkB0O,EAAM3C,IAAI3C,KAAK,IAEjCsF,EAAMlN,KAAK6G,YACXrI,GAAkB0O,EAAM3C,IAAI1C,WAEzBrJ,GAXkBA,EActB,SAAS0sB,GAAkBhe,EAAyBoI,GACvD,IAAI6V,EAAiB7V,EAAMxW,WAc3B,OAZIoO,EAAMlN,KAAK4G,MAAMjB,cACjBwlB,EAAiBA,EAAepsB,SAASmO,EAAM3C,IAAI9C,aAAc,MAEjEyF,EAAM3C,IAAIzB,mBACLqiB,EAAelsB,OAAS,EACzBksB,EAAiBA,EAAejsB,UAAU,EAAGisB,EAAelsB,OAAO,GAAK,IAAMksB,EAAejsB,UAAUisB,EAAelsB,OAAO,EAAGksB,EAAelsB,QACzIksB,EAAelsB,OAAS,IAC9BksB,EAAiBA,EAAejsB,UAAU,EAAGisB,EAAelsB,OAAO,GAAK,IAAMksB,EAAejsB,UAAUisB,EAAelsB,OAAO,EAAGksB,EAAelsB,UAEnJiO,EAAM3C,IAAIzC,eAAiBqjB,EAAelsB,OAAS,IACnDksB,EAAiBA,EAAejsB,UAAU,EAAGisB,EAAelsB,OAAO,GAAK,IAAMksB,EAAejsB,UAAUisB,EAAelsB,OAAO,EAAGksB,EAAelsB,SACnJksB,EAAiBJ,GAAqBI,EAAgBje,GCpG3C,SAASke,GACpBnC,EACA7V,EACAlG,EACAmc,EACAC,EACAC,EACA/O,EACA2Q,EACA3B,GAEI,GAAKtc,EACL,OAAIA,EAAM1C,aACC4e,GAAeH,EAAK7V,EAAQlG,EAAOmc,EAAQC,EAAUC,EAAY/O,EAAgBgP,IACxFtc,EAAMzC,mBAAqByC,EAAMxC,0BAC5BygB,EACDje,EAAMxC,wBDUf,SACHue,EACA/b,EACA8d,GAAwC,IAAD,QAEnC,KAAI,UAAE9d,EAAMlN,YAAR,iBAAE,EAAY4G,aAAd,aAAE,EAAmBpB,YAAY,OAAO,KAEhD,IAAIylB,EAAa/d,EAAMlN,KAAK4G,MAAMpB,WAC9B6lB,EAAWJ,EAAW5kB,KAAuB,GAAhB4kB,EAAW5kB,KAAW,EACnDilB,EAASL,EAAW9kB,WAAWrB,OAC/BqlB,EAAkBjd,EAAMlN,KAAK4G,MAAMlB,QAEvCujB,EAAIsC,KAAJ,UAAcF,EAAd,cAEA,IAAIG,GAAK,UAAAP,EAAW9kB,kBAAX,eAAuB/C,GAAI6nB,EAAW9kB,WAAW/C,EAAI,EAC1DqoB,GAAK,UAAAR,EAAW9kB,kBAAX,eAAuB9C,GAAI4nB,EAAW9kB,WAAW9C,EAAI,EAK9D,GAJA4lB,EAAIyC,UAAYptB,EAAM6d,UAAU8O,EAAW3sB,OAE3C2qB,EAAI0C,OACJ1C,EAAI2C,UAAUJ,EAAIC,GAC6B,IAA1CR,EAAW9kB,WAAWK,gBAAuB,CAC9CyiB,EAAI4C,OAAO5M,KAAK6M,GAAK,IAAMb,EAAW7kB,OACtC,IAAK,IAAIwS,EAAI,EAAGA,EAAIoS,EAAK/rB,OAAQ2Z,IAAK,CAClC,IAAIvI,EAAQ4Y,EAAI8C,YAAYf,EAAKpS,IAAIvI,MACrC4Y,EAAI+C,SAAShB,EAAKpS,GAAI,GAAKqS,EAAW9kB,WAAWrB,QACjD,IACImnB,EAAoB,KADf5b,EAAQ8Z,IACcmB,EAASrM,KAAK6M,IAC7C7C,EAAI4C,OAAQ5M,KAAK6M,GAAK,IAAMG,QAE7B,CACHhD,EAAI4C,OAAO5M,KAAK6M,GAAK,KAAO,IAAMb,EAAW7kB,QAC7C,IAAK,IAAI6D,EAAI,EAAGA,EAAI+gB,EAAK/rB,OAAQgL,IAAK,CAClC,IAAIoG,EAAQ4Y,EAAI8C,YAAYf,EAAK/gB,IAAIoG,MACrC4Y,EAAI+C,SAAShB,EAAK/gB,GAAI,GAAKghB,EAAW9kB,WAAWrB,QACjD,IACImnB,EAAoB,KADf5b,EAAQ8Z,IACcmB,EAASrM,KAAK6M,IAC7C7C,EAAI4C,OAAQ5M,KAAK6M,GAAK,KAAOG,IAIrC,OADAhD,EAAIiD,UACG,KCjDYC,CAA0BlD,EAAK/b,EAAOie,GDlBtD,SACHlC,EACA/b,EACA8d,GAAwC,IAAD,QACvC,KAAI,UAAE9d,EAAMlN,YAAR,iBAAE,EAAY4G,aAAd,aAAE,EAAmBpB,YAAY,OAAO,KAE5C,IAAIylB,EAAa/d,EAAMlN,KAAK4G,MAAMpB,WAC9B6lB,EAAmBJ,EAAW5kB,KAAuB,GAAhB4kB,EAAW5kB,KAAW,EAC3D8jB,EAAkBjd,EAAMlN,KAAK4G,MAAMlB,QACvCujB,EAAIsC,KAAJ,UAAcF,EAAd,cAEApC,EAAI0C,OACJ,IAAIH,GAAK,UAAAP,EAAW9nB,mBAAX,eAAwBC,GAAI6nB,EAAW9nB,YAAYC,EAAI,EAC5DqoB,GAAK,UAAAR,EAAW9nB,mBAAX,eAAwBE,GAAI4nB,EAAW9nB,YAAYE,EAAI,EAC5D+oB,EAAUnN,KAAK6M,GAAK,IAAOb,EAAW7kB,MAC1C6iB,EAAI2C,UAAUJ,EAAIC,GAClBxC,EAAI4C,OAAOO,GACXnD,EAAIyC,UAAYptB,EAAM6d,UAAU8O,EAAW3sB,OAE3C,IADA,IAAI0I,EAAI,EACC4R,EAAI,EAAGA,EAAIoS,EAAK/rB,OAAQ2Z,IAC7BqQ,EAAI+C,SAAShB,EAAKpS,GAAI5R,EAAG,GACzBA,EAAIA,EAAIiiB,EAAI8C,YAAYf,EAAKpS,IAAIvI,MAAQ8Z,EAG7C,OADAlB,EAAIiD,UACG,KCJYG,CAAepD,EAAK/b,EAAOie,GAEnC7B,ECrBA,SAASgD,GAAsBrD,EAC1C7V,EACA7F,EACA+H,EAAeiX,GAAgB,IAAD,EAC1B,GAAc,OAAVA,IACJ,UAAKhf,EAAYT,eAAjB,aAAK,EAAqB9I,eAAe,CAAC,IAAD,MAEjCqM,EAAQ9C,EAAYT,QAAQ3I,MAAQoJ,EAAYT,QAAQ3I,MAAQ,EAEhEqoB,EAAgBjf,EAAYT,QAAQ9I,cACpCyoB,EAAKD,EAAcppB,EAAIopB,EAAcppB,EAAI,EACzCspB,EAAKF,EAAcnpB,EAAImpB,EAAcnpB,EAAI,EACzCiS,EAAQiX,IAAOjX,EAAQiX,GAC3B,IAAII,EAAaH,EAAc5nB,WAAa4nB,EAAc5nB,WAAa,EAEnEgoB,EAAeD,EAAcrX,IADlBkX,EAAc3nB,SAAW2nB,EAAc3nB,SAAW,KACZ8nB,GAAeJ,EAChEjB,EAASkB,EAAc1nB,OAE3B,aAAIyI,EAAYT,eAAhB,aAAI,EAAqB5I,qBAAsB,CAC3C,IAAMqQ,EAAMuU,GAAcvb,EAAYT,QAAQ5I,qBAAsBkP,GACpE,GAAImB,EAAK,CAAC,IAAD,EAEDsY,EAAMJ,EAAKnB,EAAUjb,EAAQ,EAC7Byc,EAAMJ,EAAKpB,EAAUjb,EAAQ,EAEjC,aAAI9C,EAAYT,eAAhB,aAAI,EAAqBxI,qBAAsB,CAC3C,IAAMyoB,EAAUjE,GAAcvb,EAAYT,QAAQxI,qBAAsB8O,GACpE2Z,GACA9D,EAAIE,UAAU4D,EAASF,EAAIC,EAAIC,EAAQ1c,MAAO0c,EAAQzc,QAK9D2Y,EAAI0C,OACJ1C,EAAIwB,YA0DxB,SAAqBxB,EAA+B+D,EAAkBhmB,EAAWC,EAC7E0lB,EAAoBM,EAAkB3B,EAAgBjb,GACtD,GAAIA,EAAQ,EAAG,OAEf,GAAiB,IAAb2c,GAAmBA,EAgBhB,GAAiB,KAAbA,EAAiB,CAGxB,IAAIE,EAAejO,KAAK6M,GAAG,KAAQa,EAAW,IAC1CQ,EAAalO,KAAK6M,GAAG,KAAQmB,EAAS,IACtCG,EAAYF,EAAcC,EAE1BE,EAAKrmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KACnEY,EAAKtmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAEnEc,EAAKzmB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMa,GAAeS,EAAY,GAAK,IAAM/c,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,KAAO,IAAM,KAC5Iqd,EAAKzmB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMa,GAAeS,EAAY,GAAK,IAAM/c,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,KAAO,IAAM,KAE5Isd,EAAK3mB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KACnEiB,EAAK3mB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAKnEkB,EAAK7mB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMmB,GAAaG,EAAY,GAAK,GAAK/c,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,IAAM,IAAM,KACxIyd,EAAK7mB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMmB,GAAaG,EAAY,GAAK,GAAK/c,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,IAAM,IAAM,KAExI0d,EAAK/mB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW,IAAM,KACjEe,EAAK/mB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW,IAAM,KAErEhE,EAAIgF,IAAIjnB,EAAGC,EAAGqkB,EAAOjb,EAAM,EAAG6c,EAAaC,GAAYC,GAEvDnE,EAAIiF,OAAOb,EAAIE,GACftE,EAAIkF,OAAOV,EAAIC,GACfzE,EAAIkF,OAAOR,EAAIC,GAEf3E,EAAIgF,IAAIjnB,EAAGC,EAAGqkB,EAAOjb,EAAM,EAAG6c,EAAaC,GAAYC,GACvDnE,EAAIkF,OAAON,EAAIC,GACf7E,EAAIkF,OAAOJ,EAAIC,OAEZ,CAEH,IAAIX,EAAKrmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KACnEY,EAAKtmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAEnEc,EAAKzmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KACnEe,EAAKzmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAKnEyB,EAAKpnB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW,IAAM,KACjEoB,EAAKpnB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW,IAAM,KAEjEC,EAAejO,KAAK6M,GAAG,KAAQa,EAAW,IAC1CQ,EAAalO,KAAK6M,GAAG,KAAQmB,EAAS,IACtCG,EAAYF,EAAcC,EAE9BlE,EAAIgF,IAAIjnB,EAAGC,EAAGqkB,EAAOjb,EAAM,EAAG6c,EAAaC,GAAYC,GACvDnE,EAAIiF,OAAOb,EAAIE,GACftE,EAAIkF,OAAOV,EAAIC,GACfzE,EAAIgF,IAAIjnB,EAAGC,EAAGqkB,EAAOjb,EAAM,EAAG6c,EAAaC,GAAYC,GACvDnE,EAAIkF,OAAOC,EAAIC,OAzEc,CAC7B,IAAIC,EAAMtnB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KAC5D4B,EAAMtnB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAE5D6B,EAAMxnB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW,IAAM,KAC1DwB,EAAMxnB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW,IAAM,KAE1DC,EAAejO,KAAK6M,GAAG,KAAQa,EAAW,IAC1CQ,EAAalO,KAAK6M,GAAG,KAAQmB,EAAS,IACtCG,EAAYF,EAAcC,EAE9BlE,EAAIgF,IAAIjnB,EAAGC,EAAGqkB,EAAOjb,EAAM,EAAG6c,EAAaC,GAAYC,GACvDnE,EAAIgF,IAAIK,EAAKC,EAAKle,EAAM,EAAG6c,EAAcjO,KAAK6M,GAAIoB,GAAcE,GAChEnE,EAAIgF,IAAIjnB,EAAGC,EAAGqkB,EAAOjb,EAAM,EAAG6c,EAAaC,GAAYC,GACvDnE,EAAIgF,IAAIO,EAAKC,EAAKpe,EAAM,EAAG8c,EAAYA,EAAYlO,KAAK6M,IAAKsB,IA3EjDsB,CAAYzF,EAAK1b,EAAYT,QAAQ1I,SACjCqoB,EAAIC,EAAIC,EAAYC,EAActB,EAAQjb,GAG9C4Y,EAAI0F,OAGJ1F,EAAIE,UAAU5U,EAAKkY,EAAKlY,EAAIlE,MAAM,EAAGqc,EAAKnY,EAAIjE,OAAO,GAGrD2Y,EAAIiD,gBAEL,aAAI3e,EAAYT,eAAhB,aAAI,EAAqBxO,MAAO,CACnC,IAAIU,EAAQV,EAAM6d,UAAU5O,EAAYT,QAAQxO,OAChD,GAAKA,EAAMswB,QAAQ5vB,GAAQ,CAAC,IAAD,EAEnB6tB,EAAMJ,EAAKnB,EAAUjb,EAAQ,EAC7Byc,EAAMJ,EAAKpB,EAAUjb,EAAQ,EAEjC,aAAI9C,EAAYT,eAAhB,aAAI,EAAqBxI,qBAAsB,CAC3C,IAAMyoB,EAAUjE,GAAcvb,EAAYT,QAAQxI,qBAAsB8O,GACpE2Z,GACA9D,EAAIE,UAAU4D,EAASF,EAAIC,EAAIC,EAAQ1c,MAAO0c,EAAQzc,QAK9D2Y,EAAIwB,YAEJ,IAAIyC,EAAejO,KAAK6M,GAAG,KAAQa,EAAW,IAC1CQ,EAAalO,KAAK6M,GAAG,KAAQc,EAAa,IAC1CQ,EAAYF,EAAcC,EAG9BlE,EAAIgF,IAAIxB,EAAIC,EACRpB,EAAQ4B,EAAaC,GAAYC,GAErCnE,EAAIyB,YAAc1rB,EAClBiqB,EAAI4F,UAAYxe,EAEhB4Y,EAAI2B,SAkGxB,SAA0B3B,EAA+BjqB,EACrDguB,EAAkBhmB,EAAWC,EAAW0lB,EAAoBM,EAC5D3B,EAAgBjb,GAChB,GAAIA,EAAQ,EAAG,OAIf,GAAiB,IAAb2c,GAAmBA,GAsBhB,GAAiB,KAAbA,EAAiB,CAExB,IAAIK,EAAKrmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KACnEY,EAAKtmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAEnEc,EAAKzmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KACnEe,EAAKzmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAEnEgB,EAAK3mB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAatc,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,IAAM,IAAM,KAClHud,EAAK3mB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAatc,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,IAAM,IAAM,KAEtH4Y,EAAIyC,UAAY1sB,EAChBiqB,EAAIwB,YACJxB,EAAI4F,UAAY,EAChB5F,EAAIiF,OAAOb,EAAIE,GACftE,EAAIkF,OAAOV,EAAIC,GACfzE,EAAIkF,OAAOR,EAAIC,GACf3E,EAAI6F,YACJ7F,EAAI8F,OAEJ1B,EAAKrmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW,IAAM,KACjEM,EAAKtmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW,IAAM,KAEjEQ,EAAKzmB,GAAKskB,EAAOjb,EAAM,GAAK4O,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW,IAAM,KACjES,EAAKzmB,GAAKqkB,EAAOjb,EAAM,GAAK4O,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW,IAAM,KAEjEU,EAAK3mB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW5c,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,IAAM,IAAM,KAChHud,EAAK3mB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW5c,EAAM,EAAI,KAAO,EAAI4O,KAAK6M,IAAMR,EAASjb,EAAQ,IAAM,IAAM,KAEhH4Y,EAAIyC,UAAY1sB,EAChBiqB,EAAIwB,YACJxB,EAAI4F,UAAY,EAChB5F,EAAIiF,OAAOb,EAAIE,GACftE,EAAIkF,OAAOV,EAAIC,GACfzE,EAAIkF,OAAOR,EAAIC,GACf3E,EAAI6F,YACJ7F,EAAI8F,YA1DyB,CAE7B,IAAIC,EAAKhoB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMa,EAAa,IAAM,KAC3DsC,EAAKhoB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMa,EAAa,IAAM,KAE/D1D,EAAIwB,YACJxB,EAAI4F,UAAY,EAChB5F,EAAIgF,IAAIe,EAAIC,EAAI5e,EAAM,EAAE,EAAG,EAAG,EAAI4O,KAAK6M,IACvC7C,EAAIyB,YAAc1rB,EAClBiqB,EAAIyC,UAAY1sB,EAChBiqB,EAAI2B,SACJ3B,EAAI8F,OAEJC,EAAKhoB,EAAKskB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMmB,EAAW,IAAM,KACzDgC,EAAKhoB,EAAKqkB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMmB,EAAW,IAAM,KACzDhE,EAAIwB,YACJxB,EAAI4F,UAAY,EAChB5F,EAAIgF,IAAIe,EAAIC,EAAI5e,EAAM,EAAE,EAAG,EAAG,EAAG4O,KAAK6M,IACtC7C,EAAIyB,YAAc1rB,EAClBiqB,EAAIyC,UAAY1sB,EAChBiqB,EAAI2B,SACJ3B,EAAI8F,QA7HQG,CAAiBjG,EAAKjqB,EAAOuO,EAAYT,QAAQ1I,SAC7CqoB,EAAIC,EAAIC,EAAYC,EAActB,EAAQjb,GAC9C4Y,EAAI4F,UAAY,GAGxB,aAAIthB,EAAYT,eAAhB,aAAI,EAAqBzI,kBAAmB,CACxC,IAAMkQ,EAAMuU,GAAcvb,EAAYT,QAAQzI,kBAAmB+O,GACjE,GAAImB,EAAK,CACL,IAAIya,EAAKvC,EAAMnB,EAAUrM,KAAKqO,IAAIrO,KAAK6M,IAAMc,EAAe,IAAM,KAC9DqC,EAAKvC,EAAMpB,EAAUrM,KAAKuO,IAAIvO,KAAK6M,IAAMc,EAAe,IAAM,KAClE3D,EAAIE,UAAU5U,EAAKya,EAAIC,EAAI1a,EAAIlE,MAAOkE,EAAIjE,WCtF/C,SAAS6e,GAAsBlG,EAC1C7V,EACA7F,EACA+H,EAAeiX,GAAgB,IAAD,EAC1B,GAAc,OAAVA,IACAjX,EAAQiX,IAAOjX,EAAQiX,GAC3B,UAAKhf,EAAYT,eAAjB,aAAK,EAAqB7I,gBAAgB,CAAC,IAAD,QAClCmrB,EAAQ7hB,EAAYT,QAAQ7I,eAChC,aAAIsJ,EAAYT,eAAhB,aAAI,EAAqBxI,qBAAsB,CAC3C,IAAMiQ,EAAMuU,GAAcvb,EAAYT,QAAQxI,qBAAsB8O,GACpE,GAAImB,EAAK,CACL,IAAIvN,EAAIooB,EAAM7qB,OAAS6qB,EAAM7qB,OAAS,EAClC0C,EAAImoB,EAAM5qB,OAAS4qB,EAAM5qB,OAAS,EAClC6qB,EAAOD,EAAM3qB,KAAO2qB,EAAM3qB,KAAOuC,EAAIuN,EAAIlE,MACzCif,EAAOF,EAAM1qB,KAAO0qB,EAAM1qB,KAAOuC,EAAIsN,EAAIjE,OACzCD,EAAQ4O,KAAKjX,IAAIqnB,EAAOroB,EAAGuN,EAAIlE,OAC/BC,EAAS2O,KAAKjX,IAAIsnB,EAAOroB,EAAGsN,EAAIjE,QACpC2Y,EAAIE,UAAU5U,EAAKvN,EAAGC,EAAGoJ,EAAOC,IAGxC,aAAI/C,EAAYT,eAAhB,aAAI,EAAqB5I,qBAAsB,CAC3C,IAAMqQ,EAAMuU,GAAcvb,EAAYT,QAAQ5I,qBAAsBkP,GACpE,GAAImB,EAAK,CACL,IAAIvN,EAAIooB,EAAM7qB,OAAS6qB,EAAM7qB,OAAS,EAClC0C,EAAImoB,EAAM5qB,OAAS4qB,EAAM5qB,OAAS,EAElC6L,EAAQiF,IADD8Z,EAAM3qB,KAAO2qB,EAAM3qB,KAAOuC,EAAIuN,EAAIlE,OACjBrJ,GAAKulB,EACjClc,EAAQ4O,KAAKjX,IAAIqI,EAAOkE,EAAIlE,OAC5B,IAAIC,EAAS/C,EAAYT,QAAQ3I,MACjCmM,EAAS2O,KAAKjX,IAAIsI,EAAQiE,EAAIjE,QAG9B2Y,EAAI0C,OACJ1C,EAAIwB,YAyCxB,SAAqBxB,EACjB+D,EAAkBhmB,EAAWC,EAAWoJ,EAAeC,GAEvD,GAAiB,IAAb0c,GAAmBA,EAanB/D,EAAI0B,KAAK3jB,EAAGC,EAAGoJ,EAAOC,OAbO,CAE7B,IAAIge,EAAMtnB,EACNumB,EAAKtmB,EAELunB,EAAMxnB,EAAIqJ,EAAQC,EAAS,EAC3Bod,EAAKzmB,EAAIqJ,EAEb2Y,EAAIgF,IAAIK,EAAKrnB,EAAIqJ,EAAO,EAAGA,EAAO,EAAG,GAAI2O,KAAK6M,GAAI,IAAI7M,KAAK6M,IAC3D7C,EAAIkF,OAAOK,EAAKjB,GAChBtE,EAAIgF,IAAIO,EAAKvnB,EAAIqJ,EAAO,EAAGA,EAAO,EAAG,IAAI2O,KAAK6M,GAAI,GAAI7M,KAAK6M,IAC3D7C,EAAIkF,OAAOG,EAAKZ,IAtDJgB,CAAYzF,EAAK1b,EAAYT,QAAQ1I,SAAU4C,EAAGC,EAAGoJ,EAAOC,GAE5D2Y,EAAI0F,OAGJ1F,EAAIE,UAAU5U,EAAKvN,EAAGC,GAItBgiB,EAAIiD,gBAEL,aAAI3e,EAAYT,eAAhB,aAAI,EAAqBxO,MAAO,CACnC,IAAIU,EAAQV,EAAM6d,UAAU5O,EAAYT,QAAQxO,OAChD,GAAKA,EAAMswB,QAAQ5vB,GAAQ,CACvBiqB,EAAIyC,UAAY1sB,EAChB,IAAIgI,EAAIooB,EAAM7qB,OAAS6qB,EAAM7qB,OAAS,EAClC0C,EAAImoB,EAAM5qB,OAAS4qB,EAAM5qB,OAAS,EAClC6qB,EAAOD,EAAM3qB,KAAO2qB,EAAM3qB,KAAOuC,EACjCsJ,EAAS/C,EAAYT,QAAQ3I,MAC7BkM,EAAQiF,GAAS+Z,EAAOroB,GAAKulB,EACjCtD,EAAIsG,SAASvoB,EAAGC,EAAGoJ,EAAOC,GAwC9C,SAA0B2Y,EAA+BjqB,EACrDguB,EAAkBhmB,EAAWC,EAAWoJ,EAAeC,GACvD,GAAID,EAAQ,EAAG,OAEf,GAAiB,IAAb2c,IAAmBA,EAAU,CAE7B/D,EAAIwB,YACJxB,EAAI4F,UAAY,EAChB5F,EAAIgF,IAAIjnB,EAAGC,EAAEqJ,EAAO,EAAGA,EAAO,EAAE,EAAG,EAAG,EAAI2O,KAAK6M,IAC/C7C,EAAIyB,YAAc1rB,EAClBiqB,EAAIyC,UAAY1sB,EAChBiqB,EAAI2B,SACJ3B,EAAI8F,OAEJ,IAAItB,EAAKzmB,EAAIqJ,EAEb4Y,EAAIwB,YACJxB,EAAI4F,UAAY,EAChB5F,EAAIgF,IAAIR,EAAIxmB,EAAEqJ,EAAO,EAAGA,EAAO,EAAE,EAAG,EAAG,EAAG2O,KAAK6M,IAC/C7C,EAAIyB,YAAc1rB,EAClBiqB,EAAIyC,UAAY1sB,EAChBiqB,EAAI2B,SACJ3B,EAAI8F,QA7DQG,CAAiBjG,EAAKjqB,EAAOuO,EAAYT,QAAQ1I,SAAU4C,EAAGC,EAAGoJ,EAAOC,IAGhF,aAAI/C,EAAYT,eAAhB,aAAI,EAAqBzI,kBAAmB,CACxC,IAAMkQ,EAAMuU,GAAcvb,EAAYT,QAAQzI,kBAAmB+O,GAEjE,GAAImB,EAAK,CACL,IAAIvN,EAAIooB,EAAM7qB,OAAS6qB,EAAM7qB,OAAS,EAClC0C,EAAImoB,EAAM5qB,OAAS4qB,EAAM5qB,OAAS,EAElC6L,EAAQiF,IADD8Z,EAAM3qB,KAAO2qB,EAAM3qB,KAAOuC,GACTA,GAAKulB,EAAQhY,EAAIlE,MACxCA,GAAS,GACV4Y,EAAIE,UAAU5U,EAAKvN,EAAIqJ,EAAOpJ,MCjEvC,SAASuoB,GAAcvG,EAClC7V,EACA2J,EAA2BzH,EAAeiX,GAAgB,IAAD,IACrD,GAAc,OAAVA,EAAJ,CACA,GAAIxP,EAAU/c,KAAKgF,MAAO,CAAC,IAAD,EAChBiY,EA2ClB,SAAwBvN,GACpB,IAAI3P,EAAQ2P,EAAGQ,WAAU,SAACC,GAAD,OAAUA,EAAK9K,WAAapF,EAAaQ,IAAIT,QACtE,OAAOD,GAAgB,EA7CY8a,CAAc,UAACkC,EAAU/c,KAAKgF,aAAhB,aAAC,EAAsBnB,UAChE,GAAIkZ,EAAU/c,KAAKgF,MAAMnB,SAASoZ,GAAoBpZ,SAASN,YAAc,EAAG,CAAC,IAAD,QACxEyD,GAAI,UAAA+V,EAAU/c,KAAKgF,MAAM7B,mBAArB,eAAkCC,GAAlC,UAAsC2Z,EAAU/c,KAAKgF,MAAM7B,mBAA3D,aAAsC,EAAkCC,EAAI,EAChF6D,GAAI,UAAA8V,EAAU/c,KAAKgF,MAAM7B,mBAArB,eAAkCE,GAAlC,UAAsC0Z,EAAU/c,KAAKgF,MAAM7B,mBAA3D,aAAsC,EAAkCE,EAAI,EAChFkR,EAAMuU,GAAc/L,EAAU/c,KAAKgF,MAAMnB,SAASoZ,GAAoBpZ,SAASN,WAAY6P,GAC3FmB,GAAK0U,EAAIE,UAAU5U,EAAKvN,EAAGC,EAAGsN,EAAIlE,MAAOkE,EAAIjE,SAGzD,IAAI,UAAAyM,EAAU/c,KAAKiF,eAAf,eAAwB1B,aAAc,EAAG,CAAC,IAAD,EACrCyD,EAAI+V,EAAU/c,KAAKoD,EAAI2Z,EAAU/c,KAAKoD,EAAI,EAC1C6D,EAAI8V,EAAU/c,KAAKqD,EAAI0Z,EAAU/c,KAAKqD,EAAI,EACtC0Z,EAAU/c,KAAKoD,EAAI,GAAS2Z,EAAU/c,KAAKqD,EAAI,IACnD2D,EAAI+V,EAAU/c,KAAKoD,EAAI2Z,EAAU/c,KAAKoD,EAAIsP,GAASrC,MAAQ,EAC3DpJ,EAAI8V,EAAU/c,KAAKqD,EAAI0Z,EAAU/c,KAAKqD,EAAIqP,GAASpC,OAAS,GAEhE,IAAIiE,EAAMuU,GAAa,UAAC/L,EAAU/c,KAAKiF,eAAhB,aAAC,EAAwB1B,WAAY6P,GAC5D,GAAImB,EAAK,CAAC,IAAD,QACDkb,GAAU,UAAA1S,EAAU/c,KAAKiF,QAAQ9B,mBAAvB,eAAoCC,GAApC,UAAwC2Z,EAAU/c,KAAKiF,QAAQ9B,mBAA/D,aAAwC,EAAoCC,EAAI,EAC1FssB,GAAU,UAAA3S,EAAU/c,KAAKiF,QAAQ9B,mBAAvB,eAAoCE,GAApC,UAAwC0Z,EAAU/c,KAAKiF,QAAQ9B,mBAA/D,aAAwC,EAAoCE,EAAI,EAE1FssB,EAAc5S,EAAU/c,KAAK4E,WAAamY,EAAU/c,KAAK4E,WAAY,EAErE0Q,EAAQiX,IAAOjX,EAAQiX,GAC3B,IAAIqD,EAAQD,EAAera,IAFXyH,EAAU/c,KAAK6E,SAAWkY,EAAU/c,KAAK6E,SAAU,KAEnB8qB,GAAgBpD,EAG5DH,EAAWnN,KAAK6M,GAAG,IAAO8D,EAE9B3G,EAAI0C,OACJ1C,EAAI2C,UAAU5kB,EAAGC,GACjBgiB,EAAI4C,OAAOO,GACXnD,EAAIE,UAAU5U,GAAMkb,GAAUC,EAASnb,EAAIlE,MAAOkE,EAAIjE,QACtD2Y,EAAIiD,WAGZ,IAAI,UAAAnP,EAAU/c,KAAKkF,aAAf,eAAsB3B,aAAc,EAAG,CAAC,IAAD,UACnCyD,GAAI,UAAA+V,EAAU/c,KAAKkF,aAAf,mBAAsB/B,mBAAtB,eAAmCC,GAAI2Z,EAAU/c,KAAKkF,MAAM/B,YAAYC,EAAI,EAChF6D,GAAI,UAAA8V,EAAU/c,KAAKkF,aAAf,mBAAsB/B,mBAAtB,eAAmCE,GAAnC,UAAuC0Z,EAAU/c,KAAKkF,MAAM/B,mBAA5D,aAAuC,EAAkCE,EAAI,EACjFkR,EAAMuU,GAAc/L,EAAU/c,KAAKkF,MAAM3B,WAAY6P,GACpDmB,GAAM0U,EAAIE,UAAU5U,EAAKvN,EAAGC,EAAGsN,EAAIlE,MAAOkE,EAAIjE,UClBhD,SAASuf,GACpB5G,EACA7V,EACArD,EACAqS,EACA0N,GAEG,IADHC,EACE,wDACMxvB,EAAM,EACNgsB,EAAQ,EACZ,GAAKxc,EAAL,CAEA,IACIigB,EADAxG,EAAqB,EAEpBuG,GACDhgB,EAAU7I,SAAQ,SAAC8K,EAAUjS,GACoB,IAAD,MAA5C,GAAIiS,EAASzK,OAASxF,EAAaS,UAC3BwP,EAAS9E,MAAM1C,eACfwlB,EAAkCjwB,GAElCiS,EAAS3E,cAAcnD,UAAvB,UAAkC8H,EAAS3E,cAAcrN,YAAzD,iBAAkC,EAA6B6D,gBAA/D,aAAkC,EAAuCN,cAAzE,UACAyO,EAAS3E,cAAcrN,YADvB,aACA,EAA6BmD,cAAe2D,EAAekL,EAAS3E,cAAcrN,KAAKmD,cACrF,CAEF,IAAI8sB,EAAoBje,EAAS3E,cAAcrN,KAAK6D,SAASN,WACzD2sB,EAAWle,EAAS3E,cAAcrN,KAAKmD,YAAY,GAAGC,EACtDmR,EAAMuU,GAAcmH,EAAmB7c,GACvCmB,IACAiV,EAAqB0G,EAAW3b,EAAIlE,MAAQ,EACvC2f,GAAmCjwB,GAASiwB,IAAiCxG,EAAqB,QAO3HzZ,EAAU7I,SAAQ,SAAC8K,GACf,OAAQA,EAASzK,MACb,KAAKxF,EAAaE,QACd1B,EAAM6hB,EAAW7Z,QACjBgkB,EAAQnK,EAAW+N,YACnBC,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAaG,MACd3B,EAAM6hB,EAAW5Z,MACjB+jB,EAAQnK,EAAWe,UACnBiN,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IAASuD,GACjD,MACJ,KAAK/tB,EAAaI,SACd5B,EAAM6hB,EAAW1Z,SACjB6jB,EAAQnK,EAAWkO,aACnBF,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IAASuD,GACjD,MACJ,KAAK/tB,EAAaK,UACd7B,EAAM6hB,EAAWiB,WACjBkJ,EAAQnK,EAAWgB,eACnBgN,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IAASuD,GACjD,MACJ,KAAK/tB,EAAaM,IACd9B,EAAM6hB,EAAWxZ,IACjB2jB,EAAQnK,EAAWkB,QACnB8M,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IAASuD,GACjD,MACJ,KAAK/tB,EAAaO,SACd/B,EAAM6hB,EAAWvZ,SACjBunB,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAO,MAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,MAAOyiB,GAC1B,MACJ,KAAK/tB,EAAaQ,QACdhC,EAAM6hB,EAAWoB,QACjB+I,EAAQnK,EAAWmB,YACnB6M,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IAASuD,GACjD,MACJ,KAAK/tB,EAAaS,QACd4tB,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO8M,EAAWsB,YAAa6I,MAAO,MAC7CvkB,IAAK,CAAEsN,MAAO8M,EAAWuB,eAAgB4I,MAAO,MAChD5Z,IAAK,CAAE2C,MAAO8M,EAAWwB,eAAgB2I,MAAO,MAChDlf,cAAe,CAAEiI,MAAO8M,EAAWqB,YAAa8I,MAAO,KACvDuD,EAAatG,GACb,MACR,KAAKznB,EAAaU,QACdlC,EAAM6hB,EAAWpZ,QACjBujB,EAAQnK,EAAWmO,YACnBH,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAaW,WACdnC,EAAM6hB,EAAWnZ,WACjBsjB,EAAQnK,EAAWoO,eACnBJ,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAaY,SACdpC,EAAM6hB,EAAWlZ,SACjBqjB,EAAQnK,EAAWqO,aACnBL,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAaa,QACdwtB,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO8M,EAAWjZ,QAASojB,MAAO,MACzCvkB,IAAK,CAAEsN,MAAO8M,EAAWjZ,QAASojB,MAAO,MACzC5Z,IAAK,CAAE2C,MAAO8M,EAAWsO,OAAQnE,MAAO,MACxClf,cAAe,CAAEiI,MAAO,EAAGiX,MAAO,IAClCuD,GACJ,MACJ,KAAK/tB,EAAac,UACdtC,EAAM6hB,EAAW9Y,UACjB8mB,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAO,MAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAO,OACpCuD,GACJ,MACJ,KAAK/tB,EAAagB,YACdxC,EAAM6hB,EAAW7Y,YACjBgjB,EAAQnK,EAAWyB,gBACnBuM,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAaiB,OACdzC,EAAM6hB,EAAW5Y,OACjB+iB,EAAQnK,EAAWuO,WACnBP,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,KACL2K,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAakB,aACd1C,EAAM6hB,EAAW5Z,MACjB+jB,EAAQnK,EAAWe,UACnBiN,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,GACJ,MACJ,KAAK/tB,EAAamB,WACd3C,EAAM6hB,EAAW1Y,WACjB6iB,EAAQnK,EAAWwO,eACnBR,GAAanH,EAAK7V,EAAQpB,EAAU,CAChCqe,IAAK,CAAE/a,MAAO/U,EAAKgsB,MAAOA,GAC1BvkB,IAAK,CAAEsN,MAAOiX,EAAOA,MAAO,MAC5B5Z,IAAK,KACLtF,cAAe,CAAEiI,MAAO/U,EAAKgsB,MAAOA,IACpCuD,QAQxB,SAASM,GACLnH,EAA+B7V,EAAkBjE,EACjD9O,EAAoByvB,EAAsBtG,GAA8B,IAAD,MACnEF,EAAW,KAEXna,EAAE9B,cAAcnD,SC5OT,SAA2B+e,EACtC7V,EACA/F,EACAiI,EAAeiX,GAAgB,IAAD,EAC1B,GAAc,OAAVA,GACAlf,EAAcnD,UAAd,UAAyBmD,EAAcrN,KAAK6D,gBAA5C,aAAyB,EAA6BN,aACjD8J,EAAcrN,KAAKmD,YAAa,CAEjC,IAAIqE,EAAQ6F,EAAcrN,KAAK6D,SAASL,YAAY,EAChDqtB,EAAQxjB,EAAcrN,KAAKmD,YAE3B+I,EAAI+S,KAAK6R,KAAKxb,GAASiX,EAAQ/kB,IAC/B0E,EAAI1E,IAAO0E,EAAI1E,GAEf8N,EAAQiX,IAAOjX,EAAQiX,GAE3B,IAAIwE,EAAU,EACT1jB,EAAcrN,KAAK8D,cACpBitB,EAAU7kB,GAEd,IAAK,IAAI0M,EAAImY,EAASnY,GAAK1M,EAAG0M,IAAK,CAAC,IAAD,QAC3B5R,EAAI4R,GAAC,OAAGiY,QAAH,IAAGA,OAAH,EAAGA,EAAO5xB,SAAU,UAAA4xB,EAAMjY,UAAN,eAAUxV,GAAIytB,EAAMjY,GAAGxV,EAAI,GAAM,UAAAytB,EAAMA,EAAM5xB,OAAO,UAAnB,eAAuBmE,GAAIytB,EAAMA,EAAM5xB,OAAO,GAAGmE,EAAI,EAC/G6D,EAAI2R,GAAC,OAAGiY,QAAH,IAAGA,OAAH,EAAGA,EAAO5xB,SAAU,UAAA4xB,EAAMjY,UAAN,eAAUvV,GAAIwtB,EAAMjY,GAAGvV,EAAI,GAAM,UAAAwtB,EAAMA,EAAM5xB,OAAO,UAAnB,eAAuBoE,GAAIwtB,EAAMA,EAAM5xB,OAAO,GAAGoE,EAAI,EAE7GkR,EAAMuU,GADKzb,EAAcrN,KAAK6D,SAASN,WAAaqV,EACpBxF,GAClCmB,GAAK0U,EAAIE,UAAU5U,EAAKvN,EAAGC,EAAGsN,EAAIlE,MAAOkE,EAAIjE,UDoN7D0gB,CAAkB/H,EAAK7V,EAAQjE,EAAE9B,cAAehN,EAAOgN,cAAciI,MAAOjV,EAAOgN,cAAckf,OAEjGpd,EAAE5B,YAAYX,eACduiB,GAAsBlG,EAAK7V,EAAQjE,EAAE5B,YAAalN,EAAOgwB,IAAI/a,MAAOjV,EAAOgwB,IAAI9D,OAE/Epd,EAAE5B,YAAYV,eACdyf,GAAsBrD,EAAK7V,EAAQjE,EAAE5B,YAAalN,EAAOgwB,IAAI/a,MAAOjV,EAAOgwB,IAAI9D,OAE/Epd,EAAE7B,gBAAgBpD,SAClBslB,GAAcvG,EAAK7V,EAAQjE,EAAE7B,gBAAiBjN,EAAOgwB,IAAI/a,MAAOjV,EAAOgwB,IAAI9D,OAE3Epd,EAAE3B,KAAKtD,SACP8e,GAAgBC,EAAK7V,EAAQjE,EAAE3B,KAAKxN,OAExC,UAAImP,EAAEjC,aAAN,aAAI,EAAShD,WACTof,EAAW8B,GAAUnC,EAAK7V,EAAQjE,EAAEjC,MAAO7M,EAAOgwB,IAAI/a,MAClDgU,EAAUwG,GACV,EAAO5E,GAAkB/b,EAAEjC,MAAO7M,EAAOgwB,IAAI/a,OAAQkU,KAEzD,UAAAra,EAAEhC,gBAAF,eAAYjD,UAAW7J,EAAO2H,MAC9BshB,EAAW8B,GAAUnC,EAAK7V,EAAQjE,EAAEhC,SAAU9M,EAAO2H,IAAIsN,MACrDnG,EAAEhC,SAASnN,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUwG,GAC1E,EAAO5E,GAAkB/b,EAAEhC,SAAU9M,EAAO2H,IAAIsN,UAEpD,UAAAnG,EAAE/B,gBAAF,eAAYlD,UAAW7J,EAAOsS,KAC9ByY,GAAUnC,EAAK7V,EAAQjE,EAAE/B,SAAU/M,EAAOsS,IAAI2C,MAC1CnG,EAAE/B,SAASpN,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUwG,GAC1E,EACA5E,GAAkB/b,EAAE/B,SAAU/M,EAAOsS,IAAI2C,QEtQtC,SAAS2b,GAAShI,EAC7B7V,EACAvF,EACAmC,EACAoS,EACAkI,GAKI,IAHA,IAAIhB,EAAW,KAEXpd,EAAc,GACV0M,EAAI,EAAGA,EAAI5I,EAAkB/Q,OAAQ2Z,IACzC1M,EAAE0M,GAAK,GAGX,IAAK,IAAIA,EAAI,EAAGA,EAAI5I,EAAkB/Q,OAAQ2Z,IAAK,CAC/C,IACIsY,EAAQ,KACRC,GAAU,EACd,OAHWnhB,EAAkB4I,GAGhBrR,MACT,KAAK,EACGsG,EAAK3F,KAAKgC,UACVinB,EAAUtjB,EAAK3F,KAAKlI,KAAK2G,cAAgB7F,EAAWC,OAAOf,KAE3DkxB,EAAQnG,GADRmG,EAAQ9O,EAAWla,KAAKpJ,WAAWC,SAAS8O,EAAK3F,KAAKqC,IAAI9C,aAAc,KACpCoG,EAAK3F,OAE7C,MACJ,KAAK,EACG2F,EAAK1F,MAAM+B,UACXinB,EAAUtjB,EAAK1F,MAAMnI,KAAK2G,cAAgB7F,EAAWC,OAAOf,KAE5DkxB,EAAQnG,GADRmG,EAAQ9O,EAAWja,MAAMrJ,WAAWC,SAAS8O,EAAK1F,MAAMoC,IAAI9C,aAAc,KACtCoG,EAAK1F,QAE7C,MACJ,KAAK,EACG0F,EAAKxF,IAAI6B,UACTinB,EAAUtjB,EAAKxF,IAAIrI,KAAK2G,cAAgB7F,EAAWC,OAAOf,KAE1DkxB,EAAQnG,GADRmG,EAAQ9O,EAAW/Z,IAAIvJ,WAAWC,SAAS8O,EAAKxF,IAAIkC,IAAI9C,aAAc,KAClCoG,EAAKxF,MAMrD,GAAI6oB,EAAO,CACP,IAAI,IAAIjnB,EAAI2O,EAAE,EAAG3O,EAAI+F,EAAkB/Q,OAASgL,IAC5CiC,EAAEjC,GAAKiC,EAAEjC,GAAKinB,EAEbC,GAGe,KAAXjlB,EAAE0M,EAAE,GACL1M,EAAE0M,EAAE,GAAK1M,EAAE0M,EAAE,GAAKsY,EAElBhlB,EAAE0M,EAAE,GAAK1M,EAAE0M,EAAE,GAAKsY,EACtBhlB,EAAE0M,GAAK,IANP1M,EAAE0M,GAAK1M,EAAE0M,GAAKsY,GAW1B,IAAI,IAAItY,EAAI,EAAGA,EAAI5I,EAAkB/Q,OAAQ2Z,IAAK,CAE9C,OADW5I,EAAkB4I,GAChBrR,MACT,KAAK,EACGsG,EAAK3F,KAAKgC,UACVof,EAAW8B,GAAUnC,EAAK7V,EAAQvF,EAAK3F,KAAMka,EAAWla,KAAM2F,EAAK3F,KAAKlI,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUgB,GAAY,EAAOpe,EAAE0M,KAEhK,MACJ,KAAK,EACG/K,EAAK1F,MAAM+B,QACXof,EAAW8B,GAAUnC,EAAK7V,EAAQvF,EAAK1F,MAAOia,EAAWja,MAAO0F,EAAK1F,MAAMnI,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUgB,GAAY,EAAOpe,EAAE0M,IACxJ/K,EAAK/B,YAAY5B,SACxBkhB,GAAUnC,EAAK7V,EAAQvF,EAAK/B,YAAasW,EAAWha,aAExD,MACJ,KAAK,EACGyF,EAAKxF,IAAI6B,UACTof,EAAW8B,GAAUnC,EAAK7V,EAAQvF,EAAKxF,IAAK+Z,EAAW/Z,IAAKwF,EAAKxF,IAAIrI,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUgB,GAAY,EAAOpe,EAAE0M,MAQrK/K,EAAK9B,QAAQ7B,SACbkhB,GAAUnC,EAAK7V,EAAQvF,EAAK9B,QAASqW,EAAW9Z,SCvFzC,SAAS8oB,GAAenI,EACnC7V,EACAxF,EACAwU,GACG,IAAD,OACF,UAAKxU,EAAStC,sBAAd,aAAK,EAAyBpB,WACrBkY,EAAWK,MAAQ,GACpB4O,GAAcpI,EAAK7V,EAAQxF,EAAStC,eAAgB8W,EAAWK,MAAO,IAE1E4O,GAAcpI,EAAK7V,EAAQxF,EAAStC,eAAgB8W,EAAWK,MAAM,GAAI,MAE7E,UAAK7U,EAASrC,wBAAd,aAAK,EAA2BrB,UAC5BmnB,GAAcpI,EAAK7V,EAAQxF,EAASrC,iBAAkB6W,EAAWM,QAAS,KAE9E,UAAK9U,EAASpC,wBAAd,aAAK,EAA2BtB,UAC5BmnB,GAAcpI,EAAK7V,EAAQxF,EAASpC,iBAAkB4W,EAAWO,QAAS,ICdvE,SAAS2O,GAAyBrI,EAA+B7V,EAC5E8V,GAAwC,IAAD,MAE7BxO,EAYd,SAAwBhL,GACpB,IAAKA,EAAI,OAAO,KAChB,IAAI3P,EAAQ2P,EAAGQ,WAAU,SAACC,GAAD,OAAUA,EAAK9K,WAAapF,EAAaQ,IAAIT,QACtE,OAAOD,GAAS,EAAIA,EAAQ,EAfF8a,CAAc,UAACqO,EAAWlpB,YAAZ,aAAC,EAAiB6D,UAEtD,GAAIqlB,EAAWlpB,KAAK6D,WAAhB,UACAqlB,EAAWlpB,KAAK6D,SAAS6W,UADzB,iBACA,EAAyC7W,gBADzC,aACA,EAAmDN,YAAY,CAAC,IAAD,IAE3DyD,GAAI,UAAAkiB,EAAWlpB,KAAKmD,mBAAhB,eAA6BC,GAAI8lB,EAAWlpB,KAAKmD,YAAYC,EAAI,EACrE6D,GAAI,UAAAiiB,EAAWlpB,KAAKmD,mBAAhB,eAA6BE,GAAI6lB,EAAWlpB,KAAKmD,YAAYE,EAAI,EACnEkR,EAAMuU,GAAcI,EAAWlpB,KAAK6D,SAAS6W,GAAe7W,SAASN,WAAY6P,GACnFmB,GAAK0U,EAAIE,UAAU5U,EAAKvN,EAAGC,EAAGsN,EAAIlE,MAAOkE,EAAIjE,SCT9C,SAASihB,GACpBtI,EACA7V,EACAoe,EACApP,EACA0N,GACG,IAAD,YAYuC,EAiBuC,EAOrE,EAnCPxG,EAAW,KAEXmI,EAAU,GACVC,EAAY,GACZC,EAAY,KAEhB,UAAIH,EAAYnmB,sBAAhB,aAAI,EAA4BnB,WAE5BynB,EAAY5G,GADZ4G,EAAYvP,EAAWO,QAAQ7jB,WAAWC,SAASyyB,EAAYnmB,eAAed,IAAI9C,aAAc,KACpD+pB,EAAYnmB,iBAG5D,UAAImmB,EAAYpmB,sBAAhB,aAAI,EAA4BlB,WAE5BwnB,EAAY3G,GADZ2G,EAAYtP,EAAWM,QAAQ5jB,WAAWC,SAASyyB,EAAYpmB,eAAeb,IAAI9C,aAAc,KACpD+pB,EAAYpmB,iBACxD,UAAIomB,EAAYnmB,sBAAhB,aAAI,EAA4BnB,WACxBsnB,EAAYnmB,eAAerL,KAAK2G,cAAgB7F,EAAWC,OAAOf,MAClE0xB,GAAwBC,EACxBA,EAAY,IAEZA,EAAYD,EAAYC,KAKpC,UAAIH,EAAYrmB,oBAAhB,aAAI,EAA0BjB,WAC1BunB,EAAUrP,EAAWK,MAAM3jB,WACvB0yB,EAAYrmB,aAAanL,KAAK4G,MAAMjB,cAAa8rB,EAAUA,EAAQ1yB,SAASyyB,EAAYrmB,aAAaZ,IAAI9C,aAAc,MAC3HgqB,EAAU1G,GAAqB0G,EAASD,EAAYrmB,cAChDqmB,EAAYpmB,eAAepL,KAAK2G,cAAgB7F,EAAWC,OAAOf,OAClE,UAAIwxB,EAAYnmB,sBAAhB,aAAI,EAA4BnB,UACxBsnB,EAAYnmB,eAAerL,KAAK2G,cAAgB7F,EAAWC,OAAOf,OAClE2xB,EAAYF,EAAUE,GAE9BF,GAAoBC,EACpBA,EAAY,KAEZA,EAAYD,EAAUC,GACtB,UAAIF,EAAYnmB,sBAAhB,aAAI,EAA4BnB,UACxBsnB,EAAYnmB,eAAerL,KAAK2G,cAAgB7F,EAAWC,OAAOf,OAClE2xB,EAAYF,EAAUE,MAKtC,UAAIH,EAAYrmB,oBAAhB,aAAI,EAA0BjB,WAC1Bof,EAAW8B,GAAUnC,EAAK7V,EAAQoe,EAAYrmB,aAAciX,EAAWK,MACnE+O,EAAYrmB,aAAanL,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUwG,GAAa,EAAO2B,KAGpH,UAAID,EAAYpmB,sBAAhB,aAAI,EAA4BlB,WAC5Bof,EAAW8B,GAAUnC,EAAK7V,EAAQoe,EAAYpmB,eAAgBgX,EAAWM,QACrE8O,EAAYpmB,eAAepL,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUwG,GAAa,EAAM4B,KAGrH,UAAIF,EAAYnmB,sBAAhB,aAAI,EAA4BnB,UAC5BkhB,GAAUnC,EAAK7V,EAAQoe,EAAYnmB,eAAgB+W,EAAWO,QAC1D6O,EAAYnmB,eAAerL,KAAK2G,cAAgB7F,EAAWE,OAAOhB,KAAO,KAAOspB,EAAUwG,GAAa,EAAM6B,GAGjHH,EAAY/lB,IAAM+lB,EAAY/lB,GAAGvB,SAAWkY,EAAWK,MAAQ,IAC/D6O,GAAyBrI,EAAK7V,EAAQoe,EAAY/lB,IAElD+lB,EAAY9lB,IAAM8lB,EAAY9lB,GAAGxB,SAAWkY,EAAWK,OAAS,IAChE6O,GAAyBrI,EAAK7V,EAAQoe,EAAY9lB,ICvE3C,SAASkmB,GACpB3I,EACA7V,EACA7B,EACA6Q,EACA0N,EACA+B,EACAC,GAEIvgB,GACAA,EAAQA,QAAQrK,SAAQ,SAACud,EAAQ1kB,IAMzC,SACIkpB,EACA7V,EACArT,EACA0kB,EACArC,EACA0N,EACA+B,EACAC,EACAC,EACAC,GAEA,GAAIvN,EAAQ,CACR,GAAIA,EAAOjU,gBAAkBiU,EAAOjU,eAAevR,OAAS,EAAG,CAC3D,IAAI6K,EAAesY,EAAW7Q,SAAWxR,EAAQqiB,EAAW7Q,QAAQtS,OAASmjB,EAAW7Q,QAAQxR,GAAS,EACzG,GAAI+xB,GAAqBrN,EAAOjU,eAAe1G,GAAcgG,kBAAmB,CAE5E,IAAMmiB,EAAUnJ,GAAckJ,EAAY5e,GACtC6e,GAAShJ,EAAIE,UAAU8I,EAAS,EAAG,GAEvC,IAAMC,EAASpJ,GAAciJ,EAAS3e,GAClC8e,GAAQjJ,EAAIE,UAAU+I,EAAQ,EAAG,GAErC,IACM3d,EAAMuU,GADYrE,EAAOjU,eAAe1G,GAAcgG,kBACfsD,GACzCmB,GAAK0U,EAAIE,UAAU5U,EAAKkQ,EAAOzd,EAAGyd,EAAOxd,GAC7C,IAAMkrB,EAA8B/P,EAAW0B,eAAiB/jB,EAC5D+oB,GAAcrE,EAAOhU,sBAAuB2C,GAC5C0V,GAAcrE,EAAO/T,wBAAyB0C,GAC9C+e,GAAUlJ,EAAIE,UAAUgJ,EAAU1N,EAAOzd,EAAGyd,EAAOxd,OACpD,CAEH,IAAIyI,EAAK+U,EAAOjU,eAAe1G,GAAciG,UACxCL,GAAKmgB,GAAiB5G,EAAK7V,EAAQ1D,EAAI0S,EAAY0N,GACpDrL,EAAOjU,eAAe1G,GAAc+D,MACpCojB,GACEhI,EACA7V,EACAqR,EAAOjU,eAAe1G,GAAc+D,KACpC4W,EAAOjU,eAAe1G,GAAc+D,KAAK7B,cACzCoW,EACA0N,IAKV+B,IACA5I,EAAIyB,YAAc,QAClBzB,EAAImJ,WAAW3N,EAAOzd,EAAGyd,EAAOxd,EAAGwd,EAAOpU,MAAOoU,EAAOnU,UArDxD+hB,CAAWpJ,EAAK7V,EAAQrT,EAAO0kB,EAAQrC,EAAY0N,EAAa+B,EAAcC,EAAmBvgB,EAAQH,kBAAmBG,EAAQF,wB,wBCE1IihB,GACgB,qBADhBA,GAEgB,qBAFhBA,GAGkB,uBAsRTC,GAnRsB,SAAC,GAAuB,IAAD,EAApBliB,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OAAa,EAExD6C,qBAA0BhV,GADpBiV,EADkD,EAClDA,OAAQoN,EAD0C,EAC1CA,UAAW4B,EAD+B,EAC/BA,WAAYoQ,EADmB,EACnBA,oBADmB,EAIlB5b,oBAAkB,GAJA,mBAInDib,EAJmD,KAIrCY,EAJqC,OAKR7b,oBAAkB,GALV,mBAKnDkb,EALmD,KAKhCY,EALgC,OAOxC9b,mBAAiB,GAPuB,mBAOnD5P,EAPmD,KAOhD2rB,EAPgD,OAQxC/b,mBAAiB,GARuB,mBAQnD3P,EARmD,KAQhD2rB,EARgD,OASxBhc,qBAChCic,aAAaC,QAAQR,KACjB3e,KAAKC,MAAMif,aAAaC,QAAQR,MAXoB,mBASnDS,EATmD,KASxCC,EATwC,OAcxBpc,qBAChCic,aAAaC,QAAQR,KACjB3e,KAAKC,MAAMif,aAAaC,QAAQR,MAhBoB,mBAcnDW,EAdmD,KAcxCC,EAdwC,OAmBpBtc,qBACpCic,aAAaC,QAAQR,KACjB3e,KAAKC,MAAMif,aAAaC,QAAQR,MArBoB,mBAmBnDxC,EAnBmD,KAmBtCqD,EAnBsC,KAyK1D,SAASC,EACPnK,EACAoK,EACAC,GAGC,IAFD1I,EAEA,uDAFS,QACTva,EACA,uDADQ,EAEJua,IACF3B,EAAIyB,YAAcE,GAGhBva,IACF4Y,EAAI4F,UAAYxe,GAGlB4Y,EAAIwB,YACJxB,EAAIiF,OAAOmF,EAAM,GAAIA,EAAM,IAC3BpK,EAAIkF,OAAOmF,EAAI,GAAIA,EAAI,IACvBrK,EAAI2B,SAGN,OACE,uCACE,uBAAKrV,UAAWuS,KAAGyL,iBAAnB,UACGf,EAAqB,gBAAkB,MACxC,uCACMxrB,EADN,QACcC,KAEd,eAAC,GAAD,CACEoN,GAAG,gBACHgU,KA9KR,SAAcI,EAAQQ,GAChB7V,GAAUoN,IACRiI,GACFQ,EAAIuK,UAAU,EAAG,EAAG/K,EAAOpY,MAAOoY,EAAOnY,QACrCkiB,EASV,SAAoB/J,EAAQQ,EAA+B7V,GACrDoN,EAAUzO,YC5DH,SAAc0W,EAA2BQ,EACxC7V,EAAkBrB,GAC9B,QAA+B7R,KAAjB,OAAV6R,QAAU,IAAVA,OAAA,EAAAA,EAAYlI,aAAuD,QAAjB,OAAVkI,QAAU,IAAVA,OAAA,EAAAA,EAAYlI,YAAqB,CACzE,IAAM+O,EAAIkQ,GAAc/W,EAAWlI,WAAYuJ,GAE/C,GAAIwF,EAAG,CACH,IAAMrE,EAAMqE,EACZqQ,EAAIE,UAAU5U,EAAK,EAAG,EAAGA,EAAIlE,MAAOkE,EAAIjE,cAErCyB,EAAW/S,OAASV,EAAMswB,QAAQ7c,EAAW/S,SACpDiqB,EAAIyC,UAAY3Z,EAAW/S,MAC3BiqB,EAAIsG,SAAS,EAAG,EAAG9G,EAAOpY,MAAOoY,EAAOnY,SDiDlBmjB,CAAehL,EAAQQ,EAAK7V,EAAQoN,EAAUzO,YACpEyO,EAAU3S,MACZojB,GACEhI,EACA7V,EACAoN,EAAU3S,KACV2S,EAAU3S,KAAK7B,cACfoW,EACA0N,GAGAtP,EAAUxO,UACZoe,GACEnH,EACA7V,EACAoN,EAAUxO,SACVoQ,EACA0N,GACA,GAGAtP,EAAUvO,QEjFH,SAAcgX,EACzB7V,EACAnB,EACAmQ,GAEQnQ,EAAO9F,UAAUjC,UAAYkY,EAAWjW,WACxC6c,GAAgBC,EAAK7V,EAAQnB,EAAO9F,UAAUnM,MAE9CiS,EAAO7F,IAAIlC,SAAWkY,EAAWhW,KACjC4c,GAAgBC,EAAK7V,EAAQnB,EAAO7F,IAAIpM,MAExCiS,EAAO5F,MAAMnC,SAAWkY,EAAW/V,OACnC2c,GAAgBC,EAAK7V,EAAQnB,EAAO5F,MAAMrM,MAE1CiS,EAAO3F,KAAKpC,SAAWkY,EAAW9V,MAClC0c,GAAgBC,EAAK7V,EAAQnB,EAAO3F,KAAKtM,MFmE/C0zB,CAAWzK,EAAK7V,EAAQoN,EAAUvO,OAAQmQ,GAExC5B,EAAUjP,QAAQrH,SACpB0nB,GAAY3I,EAAK7V,EAAQoN,EAAUjP,QAAS6Q,EAAY0N,EAAa+B,EAAcC,GAE5D,IAAD,IAApBtR,EAAU5S,YACNkkB,IAAD,UAAsBtR,EAAUjP,eAAhC,aAAsB,EAAmBD,wBAA0B,UAAAkP,EAAUjP,eAAV,eAAmBA,UAAgD,IAArCiP,EAAUjP,QAAQA,QAAQtS,UAC9HsyB,GACEtI,EACA7V,EACAoN,EAAU5S,SACVwU,EACA0N,GAEFsB,GAAenI,EAAK7V,EAAQoN,EAAU5S,SAAUwU,IA9CvBuR,CAAWlL,EAAQQ,EAAK7V,GAmDvD,SAAiBqV,EAAQQ,EAA+B7V,GAClDoN,EAAUtO,KGxGH,SAA2BuW,EAA2BQ,EACrD7V,EAAkBvJ,GAC9B,QAAmB3J,IAAf2J,GAA2C,OAAfA,EAAqB,CAC7C,IAAM0K,EAAMuU,GAAcjf,EAAYuJ,GAClCmB,GACA0U,EAAIE,UAAU5U,EAAK,EAAG,EAAGA,EAAIlE,MAAOkE,EAAIjE,aAGhD2Y,EAAIyC,UAAY,QAChBzC,EAAIsG,SAAS,EAAG,EAAG9G,EAAOpY,MAAOoY,EAAOnY,QHgG1CsjB,CAAkBnL,EAAQQ,EAAK7V,EAAQoN,EAAUtO,IAAIlE,sBAEnDwS,EAAUtO,IAAIrE,MAChBojB,GACEhI,EACA7V,EACAoN,EAAUtO,IAAIrE,KACd2S,EAAUtO,IAAIrE,KAAK7B,cACnBoW,EACA0N,GAGAtP,EAAUtO,IAAInE,cAChBqiB,GACEnH,EACA7V,EACAoN,EAAUtO,IAAInE,aACdqU,EACA0N,GAGAtP,EAAUtO,IAAItE,WAChB2jB,GACEtI,EACA7V,EACAoN,EAAUtO,IAAItE,SACdwU,EACA0N,GAEFsB,GAAenI,EAAK7V,EAAQoN,EAAUtO,IAAItE,SAAUwU,IAjF7CyR,CAAQpL,EAAQQ,EAAK7V,GAuHhC,SAAkB6V,GAChB,IAAK8J,IAAcE,EAAW,OAG9B,IAFA,IAAMrI,EAASmI,EAAY,QAAU,QAC/B/P,EAAO,GACJpK,EAAIvI,EAAQ,EAAGuI,EAAI,EAAGA,GAAKoK,EAClCoQ,EAASnK,EAAK,CAACrQ,EAAG,GAAI,CAACA,EAAGtI,GAASsa,EAAQ,GAE7C,IAAK,IAAIhS,EAAIvI,EAAQ,EAAGuI,EAAIvI,EAAOuI,GAAKoK,EACtCoQ,EAASnK,EAAK,CAACrQ,EAAG,GAAI,CAACA,EAAGtI,GAASsa,EAAQ,GAE7C,IAAK,IAAIhS,EAAItI,EAAS,EAAGsI,EAAI,EAAGA,GAAKoK,EACnCoQ,EAASnK,EAAK,CAAC,EAAGrQ,GAAI,CAACvI,EAAOuI,GAAIgS,EAAQ,GAE5C,IAAK,IAAIhS,EAAItI,EAAS,EAAGsI,EAAItI,EAAQsI,GAAKoK,EACxCoQ,EAASnK,EAAK,CAAC,EAAGrQ,GAAI,CAACvI,EAAOuI,GAAIgS,EAAQ,GAE5CwI,EAASnK,EAAK,CAAC5Y,EAAQ,EAAI,EAAG,GAAI,CAACA,EAAQ,EAAI,EAAGC,GAASsa,EAAQ,GACnEwI,EAASnK,EAAK,CAAC,EAAG3Y,EAAS,EAAI,GAAI,CAACD,EAAOC,EAAS,EAAI,GAAIsa,EAAQ,GAvIhEkJ,CAAS7K,IAEThU,QAAQ8T,MAAM,6CAuKZxT,UAAWuS,KAAGiM,cACd1jB,MAAOA,EACPC,OAAQA,EACR4F,QAxFR,SAA2BP,GACzB,IAGMgV,EAHSvV,SAASC,eACtB,iBAEkB2e,wBAChBhtB,EAAI2O,EAAMse,QAAUtJ,EAAKuJ,KACzBjtB,EAAI0O,EAAMwe,QAAUxJ,EAAKyJ,IAC7BptB,EAAIiY,KAAKjX,IAAIqI,EAAO4O,KAAKtM,IAAI,EAAGsM,KAAKoV,MAAMrtB,KAC3CC,EAAIgY,KAAKjX,IAAIsI,EAAQ2O,KAAKtM,IAAI,EAAGsM,KAAKoV,MAAMptB,KAC5C0rB,EAAK3rB,GACL4rB,EAAK3rB,SAkFH,sBAAKsO,UAAU,0CAAf,SACE,iCACA,uBAAKA,UAAU,6BAA6B0D,MAAO,CAAE5I,MAAO,eAA5D,UACE,uBAAMkF,UAAU,mBAAmBlB,GAAG,iBAAtC,wBAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASga,EACTrd,SA1FZ,WACE,IAAM4e,GAAMvB,EACZC,EAAasB,GACbzB,aAAa0B,QAAQjC,GAAkC3e,KAAK6T,UAAU8M,SA0FhE,uBAAM/e,UAAU,mBAAmBlB,GAAG,iBAAtC,wBAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAASka,EACTvd,SA/FZ,WACE,IAAM8e,GAAMvB,EACZC,EAAasB,GACb3B,aAAa0B,QAAQjC,GAAkC3e,KAAK6T,UAAUgN,SA+FhE,uBAAMjf,UAAU,mBAAmBlB,GAAG,iBAAtC,6BAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS+W,EACTpa,SApGZ,WACE,IAAM+e,GAAM3E,EACZqD,EAAesB,GACf5B,aAAa0B,QACXjC,GACA3e,KAAK6T,UAAUiN,aAmGX,UAAAjU,EAAUjP,eAAV,eAAmBA,UAAWiP,EAAUjP,QAAQA,QAAQtS,OAAS,EACnE,uBAAKsW,UAAU,6BAA6B0D,MAAO,CAAE5I,MAAO,eAA5D,UACE,uBAAMkF,UAAU,mBAAmBlB,GAAG,iBAAtC,+BAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS8Y,EACTnc,SAAU,kBAAM+c,GAAiBZ,QAGrC,uBAAMtc,UAAU,mBAAmBlB,GAAG,iBAAtC,qCAGA,sBAAKkB,UAAU,mBAAf,SACE,wBACEA,UAAU,wBACVhO,KAAK,WACLwR,QAAS+Y,EACTpc,SAAU,kBAAMgd,GAAsBZ,WAGnC,YIrQF4C,GA7BoB,WAAO,IAChCthB,EAAWD,qBAA0BhV,GAArCiV,OAER,OACE,sBAAKmC,UAAU,0CAAf,SACInC,EAAOnU,OAAS,EAClB,iCACE,qDAAuBmU,EAAOnU,OAA9B,OACA,qBAAIsW,UAAU,oBAAoB0D,MAAO,CAAC5I,MAAO,QAAjD,SACG+C,EAAOxB,KAAK,SAAC2C,GAAD,OACT,sBAEAe,MAAOf,EAAIF,GACXkB,UAAU,2BAHV,UAKC,sBAAKb,IAAKH,EAAIO,MAAMJ,IAAKG,IAAKN,EAAIL,KAAM7D,MAAO,KAC/CkE,EAAIL,OALAK,EAAIF,YAUjB,yDCnBAkR,GAAO,CACX,CAAElR,GAAI,EAAGH,KAAM,UAAWpF,GAAI,eAAC,GAAD,CAAkBuB,MAAOqC,GAASrC,MAAOC,OAAQoC,GAASpC,UACxF,CAAE+D,GAAI,EAAGH,KAAM,kBAAmBpF,GAAK,eAAC,GAAD,KACvC,CAAEuF,GAAI,EAAGH,KAAM,OAAQpF,GAAI,eAAC,GAAD,MA2Bd6lB,GAxBgB,WAAO,IAAD,EACG/d,mBAAiB,GADpB,mBAC5B8O,EAD4B,KACfC,EADe,KAGnC,OACE,iCACE,qBAAIpQ,UAAU,eAAd,SACGgQ,GAAK3T,KAAI,SAACgU,GACT,OACE,qBAAiBrQ,UAAU,WAA3B,SACE,yBACEA,UAAS,mBAAcmQ,IAAgBE,EAAIvR,GAAK,SAAW,GAAlD,KACT6B,QAAS,kBAAMyP,EAAeC,EAAIvR,KAFpC,SAIGuR,EAAI1R,QALA0R,EAAIvR,SAWjBkR,GAAKG,GAAa5W,OC/Bb8lB,GAAb,sCACE5T,MAAQ,IAAIhf,KADd,KAEEkG,KAAO3I,KAAKyhB,MAAM4B,cAFpB,KAGEza,MAAQ5I,KAAKyhB,MAAM6B,WAAa,EAHlC,KAIEza,YAAc7I,KAAKyhB,MAAM6B,WAJ3B,KAKExa,IAAM9I,KAAKyhB,MAAM8B,UALnB,KAMEL,MAAQljB,KAAKyhB,MAAM6T,WANrB,KAOEnS,QAAUnjB,KAAKyhB,MAAM8T,aAPvB,KAQEnS,QAAUpjB,KAAKyhB,MAAM+T,aARvB,KASEzsB,QAAU/I,KAAKyhB,MAAM+B,SAAW,EAAIxjB,KAAKyhB,MAAM+B,SAAW,EAAI,EAThE,KAUEoN,YAAc,IAVhB,KAWE5nB,QAAU0W,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAK4wB,aAX5C,KAYEhN,UAAkD,KAArClE,KAAKoV,MAAsB,EAAhBpV,KAAK+V,UAAgB,GAZ/C,KAaExsB,MAAQyW,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAK4jB,WAb1C,KAcEmN,aAAe,IAdjB,KAeE5nB,SAAWuW,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAK+wB,cAf7C,KAgBElN,eAAiB,IAhBnB,KAiBEC,WAAapE,KAAKoV,MAAsB,IAAhBpV,KAAK+V,UAjB/B,KAkBEnsB,SAAWoW,KAAKoV,MAAsB,IAAhBpV,KAAK+V,UAAmB,IAlBhD,KAmBE1R,QAAU,IAnBZ,KAoBE1a,IAAMqW,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAK+jB,SApBxC,KAqBEC,YAAc,GArBhB,KAsBEC,QAAUvE,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKgkB,aAtB5C,KAuBEpX,WAAY,EAvBd,KAwBEC,KAAM,EAxBR,KAyBEE,MAAO,EAzBT,KA0BED,OAAQ,EA1BV,KA4BEqX,YAAczE,KAAKoV,MAAsB,GAAhBpV,KAAK+V,UA5BhC,KA6BErR,eAAiBpkB,KAAKmkB,YAAczE,KAAKoV,MAAsB,GAAhBpV,KAAK+V,UA7BtD,KA8BEpR,eAAiBrkB,KAAKmkB,YAAczE,KAAKoV,MAAsB,GAAhBpV,KAAK+V,UA9BtD,KA+BEvR,YAAcxE,KAAKoV,MAAsB,GAAhBpV,KAAK+V,UA/BhC,KAiCEzE,YAAc,GAjChB,KAkCEvnB,QAAUiW,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKgxB,aAlC5C,KAmCEC,eAAiB,IAnCnB,KAoCEvnB,WAAagW,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKixB,gBApC/C,KAqCEC,aAAe,IArCjB,KAsCEvnB,SAAW+V,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKkxB,cAtC7C,KAwCEtnB,QAAU,IAxCZ,KAyCEunB,OAAS,KAzCX,KA2CEpnB,UAAY2V,KAAKoV,MAAsB,GAAhBpV,KAAK+V,UA3C9B,KA6CEnR,gBAAkB,IA7CpB,KA8CEta,YAAc0V,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKskB,iBA9ChD,KAgDE8M,WAAa,IAhDf,KAiDEnnB,OAASyV,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKoxB,YAjD3C,KAmDEC,eAAiB,GAnDnB,KAoDElnB,WAAauV,KAAKoV,MAAMpV,KAAK+V,SAAWz1B,KAAKqxB,gBApD/C,KAsDErf,QAAoB,GAtDtB,KAuDEuS,aAAuB,GCHVmR,GAxCC,WAAO,IAAD,EACQre,mBAAmB,IAD3B,mBACbxD,EADa,KACLC,EADK,OAEcuD,mBAAoB,IAAI9E,IAFtC,mBAEb0O,EAFa,KAEFlN,EAFE,OAGgBsD,mBAAqB,IAAIge,IAHzC,mBAGbxS,EAHa,KAGDC,EAHC,OAKYzL,mBAAiB,MAL7B,mBAKbmP,EALa,KAKHxS,EALG,OAMkCqD,oBAAkB,GANpD,mBAMb4b,EANa,KAMQ/M,EANR,KAQpB,OACE,eAACtnB,EAAiB+2B,SAAlB,CACE5f,MAAO,CACLlC,SACAC,YACAmN,YACAlN,eACA8O,aACAC,gBACA0D,WACAxS,cACAif,sBACA/M,0BAXJ,SAcE,gBAAC0P,EAAA,EAAD,CAAW5f,UAAU,2CAArB,UACE,eAAC6f,EAAA,EAAD,CAAK7f,UAAU,SAAf,SACE,eAAC,GAAD,MAEF,gBAAC6f,EAAA,EAAD,CAAK7f,UAAU,OAAf,UACE,eAAC8f,EAAA,EAAD,CAAKC,GAAI,EAAG/f,UAAU,UAAtB,SACE,eAAC,GAAD,MAEF,eAAC8f,EAAA,EAAD,CAAKC,GAAI,EAAG/f,UAAU,WAAtB,SACE,eAAC,GAAD,eC9BGggB,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,eAAC,GAAD,MAEF9gB,SAASC,eAAe,SAM1BkgB,O","file":"static/js/main.081bbd8e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"canvasCcontainer\":\"previewComponent_canvasCcontainer___DCgA\",\"canvasPreview\":\"previewComponent_canvasPreview__KWMJr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"json\":\"JsonComponent_json__6-65E\"};","import {createContext} from 'react'\r\nimport { IImage } from '../model/image.model';\r\nimport WatchFace from '../model/watchFace.model';\r\nimport { WatchState } from '../model/watchState';\r\n\r\nexport const WatchfaceContext = createContext(null);\r\n\r\nexport interface IWatchContext {\r\n    images: IImage[],\r\n    setImages(images: IImage[]): void,\r\n    watchface: WatchFace,\r\n    setWatchface(watchface: WatchFace): void,\r\n    watchState: WatchState,\r\n    setWatchState(watchState: WatchState): void,\r\n    jsonName: string,\r\n    setJsonName(jsonName: string): void,\r\n    previewScreenNormal: boolean,\r\n    setPreviewScreenNormal(s: boolean): void,\r\n  }","const colorRegex: RegExp = /^#[0-9A-F]{6}$/i;\r\n\r\n\r\nexport default class Color {\r\n  \r\n  static readonly DEFAULT_COLOR = '#000000';\r\n  \r\n  static hexToRgb(hex: string) {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n    return result\r\n      ? {\r\n          r: parseInt(result[1], 16),\r\n          g: parseInt(result[2], 16),\r\n          b: parseInt(result[3], 16),\r\n        }\r\n      : null;\r\n  }\r\n\r\n  static rgbToHex(r: number, g: number, b: number) {\r\n    return (\r\n      \"#\" +\r\n      r.toString(16).padStart(2, \"0\") +\r\n      g.toString(16).padStart(2, \"0\") +\r\n      b.toString(16).padStart(2, \"0\")\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Read amazfit hex color from Json to HTML-HEX-String\r\n   */\r\n  static colorRead(color: string) {\r\n    if (!color) return null;\r\n    if (color.length === 18)\r\n      color = color.substring(0, 2) + color.substring(10, 18);\r\n    if (color.length === 10) color = \"#\" + color.substring(4);\r\n    //let old_color = this.hexToRgb(color);\r\n    //let new_color = this.rgbToHex(old_color.r, old_color.g, old_color.b);\r\n    return color;\r\n  }\r\n\r\n  /*\r\n        Read from json 16 bit background amazfit color to 32 bit\r\n    */\r\n  static colorBackgroundRead(color: string): string {\r\n    if (!color) return null;\r\n    if (color.length === 18)\r\n      color = color.substring(0, 2) + color.substring(8, 18);\r\n    let firstByteS = color.substring(8, 10);\r\n    let secondByteS = color.substring(10, 12);\r\n    let firstByte = parseInt(firstByteS, 16);\r\n    let secondByte = parseInt(secondByteS, 16);\r\n\r\n    let r = 0;\r\n    let g = 0;\r\n    let b = 0;\r\n\r\n    r = ((firstByte >> 3) & 0x1f) << 3;\r\n    g = (((secondByte >> 5) & 0x7) | ((firstByte & 0x07) << 3)) << 2;\r\n    b = (secondByte & 0x1f) << 3;\r\n\r\n    let new_color = this.rgbToHex(r, g, b);\r\n   \r\n    return new_color;\r\n  }\r\n\r\n  /*\r\n    from html-hex 32 bit color to 16 bit amazfit color \r\n    */\r\n  static colorBackgroundWrite(hex: string): string {\r\n    let h = this.hexToRgb(hex);\r\n\r\n    let r = h.r;\r\n    let g = h.g;\r\n    let b = h.b;\r\n\r\n    let temp_b = (b >> 3) & 0x1f;\r\n    let temp_g = ((g >> 2) & 0x7) << 5;\r\n    let secondByte = temp_b | temp_g;\r\n\r\n    let temp_g2 = (g >> 5) & 0x07;\r\n    let temp_r = ((r >> 3) & 0x1f) << 3;\r\n    let firstByte = temp_g2 | temp_r;\r\n    let firstByteS = firstByte.toString(16).padStart(2, '0').toUpperCase();\r\n    let secondByteS = secondByte.toString(16).padStart(2, '0').toUpperCase();\r\n\r\n    let new_color = \"0xFFFF\" + firstByteS + secondByteS;\r\n    return new_color;\r\n  }\r\n\r\n  /*\r\n    from html hex 32 bit color to 32 bit amazfit json hex color\r\n  */\r\n  static colorWrite(hex: string): string {\r\n    let h = this.hexToRgb(hex);\r\n\r\n    let r = h.r;\r\n    let g = h.g;\r\n    let b = h.b;\r\n\r\n    let new_color =\r\n      \"0xFF\" +\r\n      r.toString(16).padStart(2, \"0\") +\r\n      g.toString(16).padStart(2, \"0\") +\r\n      b.toString(16).padStart(2, \"0\");\r\n    return new_color;\r\n  }\r\n\r\n  static GFG_Fun(color: any) {\r\n    return colorRegex.test(color);\r\n  }\r\n}\r\n","export class JsonType {\r\n    constructor(public index: number, public json: string) {}\r\n  }\r\n  \r\n  export class LangCodeType {\r\n    static Zh = new JsonType(0, \"Zh\");\r\n    static ZhHant = new JsonType(1, \"ZhHant\");\r\n    static All = new JsonType(2, \"All\");\r\n  \r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Zh.json;\r\n      return Object.values(LangCodeType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Zh.index;\r\n      return Object.values(LangCodeType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class AlignmentType {\r\n    static Left = new JsonType(0, \"Left\");\r\n    static Center = new JsonType(1, \"Center\");\r\n    static Right = new JsonType(2, \"Right\");\r\n  \r\n    static toJson(index: number): string {\r\n      if (index === undefined) return this.Left.json;\r\n      return Object.values(AlignmentType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string): number {\r\n      if (json === undefined) return this.Left.index;\r\n      return Object.values(AlignmentType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class FollowType {\r\n    static Follow = new JsonType(0, \"Follow\");\r\n    static Single = new JsonType(1, \"Single\");\r\n  \r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Follow.json;\r\n      return Object.values(FollowType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Follow.index;\r\n      return Object.values(FollowType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class CommonType {\r\n    static Default = new JsonType(0, null);\r\n    static Min = new JsonType(1, \"Min\");\r\n    static Max = new JsonType(2, \"Max\");\r\n  \r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Default.json;\r\n      return Object.values(CommonType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Default.index;\r\n      return Object.values(CommonType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class ImageProgressDisplayType {\r\n    static Single = new JsonType(0, \"Single\");\r\n    static Continuous = new JsonType(1, \"Continuous\");\r\n  \r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Single.json;\r\n      return Object.values(ImageProgressDisplayType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Single.index;\r\n      return Object.values(ImageProgressDisplayType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class DateType {\r\n    static Year = new JsonType(0, \"Year\");\r\n    static Month = new JsonType(1, \"Month\");\r\n    static Day = new JsonType(2, \"Day\");\r\n  \r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Year.json;\r\n      return Object.values(DateType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Year.index;\r\n      return Object.values(DateType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class TimeType {\r\n    static Hour = new JsonType(0, \"Hour\");\r\n    static Minute = new JsonType(1, \"Minute\");\r\n    static Second = new JsonType(2, \"Second\");\r\n  \r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Hour.json;\r\n      return Object.values(TimeType).find((val) => val.index === index).json;\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Hour.index;\r\n      return Object.values(TimeType).find((val) => val.json === json).index;\r\n    }\r\n  }\r\n  \r\n  export class ActivityType {\r\n    static Date = new JsonType(0, \"Date\");\r\n    static Battery = new JsonType(1, \"Battery\");\r\n    static Steps = new JsonType(2, \"Steps\");\r\n    static Calories = new JsonType(3, \"Calories\");\r\n    static HeartRate = new JsonType(4, \"HeartRate\");\r\n    static Pai = new JsonType(5, \"PAI\");\r\n    static Distance = new JsonType(6, \"Distance\");\r\n    static StandUp = new JsonType(7, \"StandUp\");\r\n    static Weather = new JsonType(8, \"Weather\");\r\n    static UVindex = new JsonType(9, \"UVindex\");\r\n    static AirQuality = new JsonType(10, \"AirQuality\");\r\n    static Humidity = new JsonType(11, \"Humidity\");\r\n    static Sunrise = new JsonType(12, \"Sunrise\");\r\n    static WindForce = new JsonType(13, \"WindForce\");\r\n    static Altitude = new JsonType(14, \"Altitude\");\r\n    static AirPressure = new JsonType(15, \"AirPressure\");\r\n    static Stress = new JsonType(16, \"Stress\");\r\n    static ActivityGoal = new JsonType(17, \"ActivityGoal\");\r\n    static FatBurning = new JsonType(18, \"FatBurning\");\r\n  \r\n    static findByIndex(index: number) {\r\n      if (index === undefined) return this.Date;\r\n      return Object.values(ActivityType).find((val) => val.index === index);\r\n    }\r\n    static toJson(index: number) {\r\n      if (index === undefined) return this.Date.json;\r\n      return Object.values(ActivityType).find((val) => val.index === index).json;\r\n    }\r\n    static findByJson(json: string) {\r\n      if (json === undefined) return this.Date;\r\n      return Object.values(ActivityType).find((val) => val.json === json);\r\n    }\r\n    static fromJson(json: string) {\r\n      if (json === undefined) return this.Date.index;\r\n      return Object.values(ActivityType).find((val) => val.json === json).index;\r\n    }\r\n  }","import Color from \"../shared/color\";\r\nimport { AlignmentType, ImageProgressDisplayType, LangCodeType } from \"./types.model\";\r\n\r\n\r\nexport class DeviceId {\r\n  DeviceId: number;\r\n}\r\n\r\nexport class Background {\r\n  Preview: MultilangImage[] = [];\r\n  BackgroundImageIndex: number;\r\n  Color: string;\r\n}\r\n\r\nexport class Coordinates {\r\n  X: number = 0;\r\n  Y: number = 0;\r\n}\r\n\r\nexport class ImageSetGTR2 {\r\n  ImageIndex: number = null;\r\n  ImagesCount: number = 1;\r\n}\r\n\r\nexport class ScreenNormal {\r\n  DigitalDialFace: DigitalDialFace;\r\n  AnalogDialFace: AnalogDialFace;\r\n  ProgressDialFace: ProgressDialFace;\r\n}\r\n\r\nexport class System {\r\n  Status: Status;\r\n  Date: Date;\r\n  Activity: Activity[];\r\n}\r\n\r\nexport class Widgets {\r\n  Widget: Widget[];\r\n  TopMaskImageIndex: number;\r\n  UnderMaskImageIndex: number;\r\n  Unknown4: number = 0;\r\n}\r\n\r\nexport class ScreenIdle {\r\n  DialFace: ScreenNormal;\r\n  Date: Date;\r\n  Activity: Activity[];\r\n  BackgroundImageIndex: number;\r\n}\r\n\r\nexport class ImageCoord {\r\n  Coordinates: Coordinates = new Coordinates();\r\n  ImageIndex: number = null;\r\n  ImageIndex2: number = null;\r\n  ImageIndex3: number = null;\r\n}\r\n\r\nexport class Widget {\r\n  X: number = 0;\r\n  Y: number = 0;\r\n  Width: number = 0;\r\n  Height: number = 0;\r\n  WidgetElement: WidgetElement[] = [];\r\n  BorderActivImageIndex: number;\r\n  BorderInactivImageIndex: number;\r\n  DescriptionImageBackground: ImageCoord = new ImageCoord();\r\n  DescriptionWidthCheck: number = 0;\r\n}\r\n\r\nexport class WidgetElement {\r\n  Preview: MultilangImage[] = [];\r\n  Date: Date;\r\n  Activity: Activity[];\r\n}\r\n\r\nexport class Date {\r\n  DateDigits: DigitalDigit[];\r\n  WeeksDigits: DigitalDigit;\r\n  DateClockHand: DateClockHand;\r\n  DateProgressBar: DateProgressBar;\r\n}\r\n\r\nexport class DateProgressBar {\r\n  MonthProgressBar: ProgressBar;\r\n  DayProgressBar: ProgressBar;\r\n  WeekDayProgressBar: ProgressBar;\r\n}\r\n\r\nexport class Status {\r\n  Bluetooth: ImageCoord;\r\n  DoNotDisturb: ImageCoord;\r\n  Lock: ImageCoord;\r\n  Alarm: ImageCoord;\r\n}\r\n\r\nexport class Activity {\r\n  Type: string;\r\n  PointerProgress: ClockHand;\r\n  ProgressBar: ProgressBar;\r\n  ImageProgress: ImageProgress;\r\n  Digits: DigitalDigit[];\r\n  Shortcut: Shortcut;\r\n  Icon: ImageCoord;\r\n}\r\n\r\nexport class Shortcut {\r\n  BoxElement: BoxElement;\r\n  ImageIndex: number;\r\n}\r\n\r\nexport class BoxElement {\r\n  TopLeftX: number;\r\n  TopLeftY: number;\r\n  Width: number;\r\n  Height: number;\r\n}\r\n\r\nexport class ImageProgress {\r\n  Coordinates: Coordinates[] = [];\r\n  ImageSet = new ImageSetGTR2();\r\n  DisplayType: string = ImageProgressDisplayType.Single.json;\r\n}\r\n\r\nexport class ProgressDialFace {\r\n  Hours: ProgressBar;\r\n  Minutes: ProgressBar;\r\n  Seconds: ProgressBar;\r\n}\r\n\r\nexport class ProgressBar {\r\n  AngleSettings: AngleSettings;\r\n  LinearSettings: LinearSettings;\r\n  ForegroundImageIndex: number;\r\n  Color: string;\r\n  Width: number;\r\n  Flatness: number;\r\n  PointerImageIndex: number;\r\n  BackgroundImageIndex: number;\r\n}\r\n\r\nexport class LinearSettings {\r\n  StartX: number = 0;\r\n  StartY: number = 0;\r\n  EndX: number = 0;\r\n  EndY: number = 0;\r\n  Unknown5: number;\r\n}\r\n\r\nexport class AngleSettings {\r\n  X: number = 0;\r\n  Y: number = 0;\r\n  StartAngle: number = 0;\r\n  EndAngle: number = 360;\r\n  Radius: number = 0;\r\n}\r\n\r\nexport class AnalogDialFace {\r\n  Hours: ClockHand;\r\n  Minutes: ClockHand;\r\n  Seconds: ClockHand;\r\n}\r\n\r\nexport class DateClockHand {\r\n  MonthClockHand: ClockHand;\r\n  DayClockHand: ClockHand;\r\n  WeekDayClockHand: ClockHand;\r\n}\r\n\r\nexport class ClockHand {\r\n  X: number;\r\n  Y: number;\r\n  Scale: MultilangImageCoord;\r\n  Pointer: ImageCoord;\r\n  Cover: ImageCoord;\r\n  StartAngle: number;\r\n  EndAngle: number;\r\n  Unknown16: number;\r\n}\r\n\r\nexport class DigitalDialFace {\r\n  Digits: DigitalDigit[];\r\n  AM: MultilangImageCoord;\r\n  PM: MultilangImageCoord;\r\n}\r\n\r\nexport class MultilangImageCoord {\r\n  Coordinates: Coordinates = new Coordinates();\r\n  ImageSet: MultilangImage[] = [\r\n    {\r\n      LangCode: LangCodeType.All.json,\r\n      ImageSet: {\r\n        ImageIndex: null,\r\n        ImagesCount: 1\r\n      }\r\n    }\r\n  ];\r\n}\r\n\r\nexport class Text {\r\n  Image: Image;\r\n  SystemFont: SystemFont;\r\n  Alignment: string = AlignmentType.Left.json;\r\n  Spacing: number = 0;\r\n  PaddingZero: boolean = false;\r\n  DisplayFormAnalog: boolean = false;\r\n}\r\n\r\nexport class Image {\r\n  X: number = 0;\r\n  Y: number = 0;\r\n  NoDataImageIndex: number = null;\r\n  MultilangImage: MultilangImage[] = [\r\n    {\r\n      LangCode: LangCodeType.All.json,\r\n      ImageSet: {\r\n        ImageIndex: null,\r\n        ImagesCount: 1\r\n      }\r\n    }\r\n  ];\r\n  DecimalPointImageIndex: number = null;\r\n  MultilangImageUnit: MultilangImage[];\r\n  DelimiterImageIndex: number = null;\r\n  MultilangImageUnitMile: MultilangImage[];\r\n}\r\n\r\nexport class SystemFont {\r\n  FontRotate: FontRotate;\r\n  Coordinates: Coordinates;\r\n  Angle: number = 0;\r\n  Size: number = 20;\r\n  Color: string =  Color.colorWrite(\"#000000\");\r\n  ShowUnitCheck: number = -1;\r\n}\r\n\r\n\r\nexport class FontRotate {\r\n  X: number = 0;\r\n  Y: number = 0;\r\n  Radius: number = 0;\r\n  RotateDirection: number = 0;\r\n}\r\n\r\nexport class DigitalDigit {\r\n  Type: string;\r\n  TimeType: string;\r\n  DateType: string;\r\n  CombingMode: string;\r\n  Digit: Text = new Text();\r\n  Separator: ImageCoord;\r\n}\r\n\r\nexport class MultilangImage {\r\n  LangCode: string = LangCodeType.All.json;\r\n  ImageSet: ImageSetGTR2 = new ImageSetGTR2();\r\n}\r\n\r\nexport class WatchJson {\r\n  Info: DeviceId;\r\n  Background: Background;\r\n  DialFace: ScreenNormal;\r\n  System: System;\r\n  Widgets: Widgets;\r\n  ScreenIdle: ScreenIdle;\r\n}\r\n\r\nexport function oneCoordinates(coordinates: Coordinates[]): Boolean {\r\n    if (coordinates.length === 1) return true;\r\n    let result = true;\r\n    let x = coordinates[0].X;\r\n    let y = coordinates[0].Y;\r\n    coordinates.forEach( (coordinate) => {\r\n        if (x !== coordinate.X || y !== coordinate.Y) result = false;\r\n    })\r\n    return result;\r\n}","import Color from \"../shared/color\";\r\nimport {\r\n  ClockHand, DigitalDigit, ImageCoord, ImageProgress, ProgressBar, ScreenIdle, Shortcut, Status, Text, WatchJson, Widgets, MultilangImageCoord, Activity, Widget, WidgetElement\r\n} from \"./json.model\";\r\nimport { TimeType, DateType, CommonType, ActivityType, JsonType, LangCodeType } from \"./types.model\";\r\n\r\n\r\ninterface IDigitConstructor {\r\n  type: number;\r\n  count: number;\r\n  numberLenght: number;\r\n  unit: string[];\r\n  separator: string;\r\n  title: string;\r\n  titleDefault?: string;\r\n  titleMin?: string;\r\n  titleMax?: string;\r\n  decimalDelimiter?: boolean;\r\n  timeDelimiter?: boolean;\r\n  displayAnalog?: boolean;\r\n  imageProgressTotal?: number;\r\n}\r\n\r\nconst digitTypes = {\r\n  hour: {\r\n    type: TimeType.Hour.index,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', ':', ':'],\r\n    separator: '/',\r\n    timeDelimiter: true,\r\n    title: 'Hours',\r\n  },\r\n  min: {\r\n    type: TimeType.Minute.index,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', ':', ':'],\r\n    separator: '/',\r\n    timeDelimiter: true,\r\n    title: 'Minutes',\r\n  },\r\n  sec: {\r\n    type: TimeType.Second.index,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', ':', ':'],\r\n    separator: '/',\r\n    timeDelimiter: true,\r\n    title: 'Seconds',\r\n  },\r\n  year: {\r\n    type: DateType.Year.index,\r\n    count: 10,\r\n    numberLenght: 4,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '/', '.'],\r\n    separator: '/',\r\n    title: 'Year',\r\n  },\r\n  month: {\r\n    type: DateType.Month.index,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '/', '.'],\r\n    separator: '/',\r\n    title: 'Month',\r\n  },\r\n  monthasword: {\r\n    type: DateType.Month.index,\r\n    count: 12,\r\n    numberLenght: 1,\r\n    displayAnalog: true,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'Month as word',\r\n  },\r\n  day: {\r\n    type: DateType.Day.index,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '/', '.'],\r\n    separator: '/',\r\n    title: 'Day',\r\n  },\r\n  weekday: {\r\n    type: 0,\r\n    count: 7,\r\n    numberLenght: 1,\r\n    displayAnalog: true,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'Weekday',\r\n  },\r\n  battery: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 3,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['%', '%', '%'],\r\n    separator: '/',\r\n    title: 'Battery',\r\n  },\r\n  steps: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 5,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', 'Steps', 'STEPS'],\r\n    separator: '/',\r\n    title: 'Steps',\r\n    titleMin: 'goal of steps'\r\n  },\r\n  calories: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 4,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', 'kcal', 'Cal'],\r\n    separator: '/',\r\n    title: 'Calories',\r\n    titleMin: 'goal of calories'\r\n  },\r\n  heartRate: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 3,\r\n    displayAnalog: false,\r\n    imageProgressTotal: 6,\r\n    unit: ['', 'bpm', 'BPM'],\r\n    separator: '/',\r\n    title: 'Heart rate'\r\n  },\r\n  pai: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 3,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'PAI',\r\n  },\r\n  distance: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 4,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', 'km', 'KM'],\r\n    separator: '/',\r\n    decimalDelimiter: true,\r\n    title: 'Distance',\r\n  },\r\n  standUp: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'Standup',\r\n    titleMin: 'goal of stand up'\r\n  },\r\n  uvIndex: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'UVIndex',\r\n  },\r\n  airQuality: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'Air quality',\r\n  },\r\n  humidity: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 3,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['%', '%', '%'],\r\n    separator: '/',\r\n    title: 'Humidity',\r\n  },\r\n  sunrise: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 4,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    timeDelimiter: true,\r\n    title: 'Sunrise',\r\n    titleDefault: 'closest sunrise or sunset',\r\n    titleMin: 'sunrise',\r\n    titleMax: 'sunset',\r\n  },\r\n  windForce: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', 'kpa', 'KPA'],\r\n    separator: '/',\r\n    title: 'Wind force',\r\n  },\r\n  airPressure: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'Air pressure',\r\n  },\r\n  stress: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'Stress',\r\n  },\r\n  activityGoal: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 5,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'ActivityGoal',\r\n    titleMin: 'goal of activity'\r\n  },\r\n  fatBurning: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: null,\r\n    unit: ['', '', ''],\r\n    separator: '/',\r\n    title: 'FatBurning',\r\n    titleMin: 'goal of FatBurning'\r\n  },\r\n  weather: {\r\n    type: 0,\r\n    count: 10,\r\n    numberLenght: 2,\r\n    displayAnalog: false,\r\n    imageProgressTotal: 29,\r\n    unit: ['C', 'C', 'C'],\r\n    separator: '/',\r\n    title: 'Weather',\r\n    titleDefault: 'Current',\r\n    titleMin: 'Minimum',\r\n    titleMax: 'Maximum',\r\n  },\r\n\r\n};\r\nexport class Background {\r\n  imageIndex = null;\r\n  previewIndex = null;\r\n  color = Color.DEFAULT_COLOR;\r\n  collapsed = true;\r\n}\r\n\r\nexport class Coords {\r\n  x: number = 0;\r\n  y: number = 0;\r\n\r\n  constructor(x: number = 0, y: number = 0) {\r\n    this.x = x ? x : 0;\r\n    this.y = y ? y : 0;\r\n  }\r\n}\r\n\r\nexport class WatchImageCoords {\r\n  json = new ImageCoord()\r\n  enabled = false;\r\n\r\n  constructor(j?: ImageCoord) {\r\n    if (j) {\r\n      this.enabled = true\r\n      this.json = j\r\n    }\r\n  }\r\n}\r\nexport class WatchMultilangImageCoords {\r\n  json = new MultilangImageCoord()\r\n  enabled = false;\r\n  count = 1;\r\n\r\n  constructor(j?: MultilangImageCoord, count?: number) {\r\n    if (j != null && j !== undefined) {\r\n      this.enabled = true\r\n      this.json = j\r\n    }\r\n    if (count) {\r\n      this.count = count\r\n    }\r\n  }\r\n}\r\n\r\nexport class WatchImageProgress {\r\n  enabled = false;\r\n  json = new ImageProgress();\r\n\r\n  constructor(j?: ImageProgress) {\r\n    if (j != null && j !== undefined) {\r\n      this.enabled = true\r\n      this.json = j\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport enum TypeOfDigit {\r\n  TIME,\r\n  DATE,\r\n  COMMON\r\n}\r\nexport class WatchCommonDigit {\r\n  constructor(type: TypeOfDigit, d?: DigitalDigit, con?: IDigitConstructor) {\r\n    this.json = d;\r\n    if (d != null) {\r\n      this.enabled = true\r\n      if (d.Digit?.Image) this.enabledImage = true\r\n      if (d.Digit?.SystemFont) {\r\n        if (d.Digit?.SystemFont?.FontRotate) this.enabledSystemFontCircle = true\r\n        else this.enabledSystemFont = true\r\n      }\r\n    }\r\n    if (con != null) {\r\n      if (!d) {\r\n        this.json = new DigitalDigit()\r\n        this.json.Digit = new Text()\r\n      }\r\n      this.con = con\r\n    }\r\n    this.json.DateType = type === TypeOfDigit.DATE ? DateType.toJson(con.type) : null\r\n    this.json.TimeType = type === TypeOfDigit.TIME ? TimeType.toJson(con.type) : null\r\n    this.json.Type = type === TypeOfDigit.COMMON ? CommonType.toJson(con.type) : null\r\n  }\r\n  json: DigitalDigit = new DigitalDigit();\r\n  con: IDigitConstructor;\r\n  enabled = false;\r\n  enabledImage = false;\r\n  enabledSystemFont = false;\r\n  enabledSystemFontCircle = false;\r\n}\r\n\r\nexport class WatchClockHand {\r\n  enabled: boolean;\r\n\r\n  json: ClockHand = new ClockHand()\r\n\r\n  constructor(json?: ClockHand) {\r\n    this.json = json\r\n    if (json) this.enabled = true\r\n  }\r\n}\r\n\r\nexport class WatchDialFace {\r\n  collapsedDigital = true;\r\n  collapsedAnalog = true;\r\n  hoursDigital = new WatchCommonDigit(TypeOfDigit.TIME, null, digitTypes.hour);\r\n  minutesDigital = new WatchCommonDigit(TypeOfDigit.TIME, null, digitTypes.min);\r\n  secondsDigital = new WatchCommonDigit(TypeOfDigit.TIME, null, digitTypes.sec);\r\n  hoursClockhand = new WatchClockHand();\r\n  minutesClockhand = new WatchClockHand();\r\n  secondsClockhand = new WatchClockHand();\r\n  am = new WatchMultilangImageCoords()\r\n  pm = new WatchMultilangImageCoords()\r\n}\r\n\r\nexport class ElementOrderItem {\r\n  public type: number;\r\n  public title: string;\r\n  constructor(jsonType: JsonType) {\r\n    this.type = jsonType.index;\r\n    this.title = jsonType.json;\r\n  }\r\n}\r\n\r\nexport class WatchDate {\r\n  collapsed = true;\r\n  enabled = false;\r\n  year = new WatchCommonDigit(TypeOfDigit.DATE, null, digitTypes.year);\r\n  month = new WatchCommonDigit(TypeOfDigit.DATE, null, digitTypes.month);\r\n  day = new WatchCommonDigit(TypeOfDigit.DATE, null, digitTypes.day);\r\n  monthAsWord = new WatchCommonDigit(TypeOfDigit.DATE, null, digitTypes.monthasword);\r\n  weekDay = new WatchCommonDigit(TypeOfDigit.COMMON, null, digitTypes.weekday);\r\n\r\n  orderElements = [\r\n    new ElementOrderItem(DateType.Year),\r\n    new ElementOrderItem(DateType.Month),\r\n    new ElementOrderItem(DateType.Day),\r\n  ]\r\n}\r\n\r\nexport class WatchStatus {\r\n  collapsed = true;\r\n  constructor(s?: Status) {\r\n    if (s) {\r\n      if (s.Bluetooth?.ImageIndex) {\r\n        this.bluetooth = new WatchImageCoords(s.Bluetooth);\r\n        this.bluetooth.enabled = true;\r\n      }\r\n      if (s.Lock?.ImageIndex) {\r\n        this.lock = new WatchImageCoords(s.Lock);\r\n        this.lock.enabled = true;\r\n      }\r\n      if (s.DoNotDisturb?.ImageIndex) {\r\n        this.dnd = new WatchImageCoords(s.DoNotDisturb);\r\n        this.dnd.enabled = true;\r\n      }\r\n      if (s.Alarm?.ImageIndex) {\r\n        this.alarm = new WatchImageCoords(s.Alarm);\r\n        this.alarm.enabled = true;\r\n      }\r\n    }\r\n  }\r\n  bluetooth = new WatchImageCoords(null);\r\n  dnd = new WatchImageCoords(null);\r\n  alarm = new WatchImageCoords(null);\r\n  lock = new WatchImageCoords(null);\r\n}\r\n\r\nexport class WatchProgressBar {\r\n  enabledLinear: boolean;\r\n  enabledCircle: boolean;\r\n  jsonObj: ProgressBar;\r\n\r\n  constructor(json?: ProgressBar) {\r\n    this.jsonObj = json;\r\n    if (json) {\r\n      if (json.LinearSettings)\r\n        this.enabledLinear = true;\r\n      else if (json.AngleSettings)\r\n        this.enabledCircle = true;\r\n    }\r\n  }\r\n}\r\nexport class WatchActivity {\r\n  collapsed = true;\r\n  key: string;\r\n  type: JsonType;\r\n  dt: IDigitConstructor;\r\n  digit: WatchCommonDigit;\r\n  digitMin: WatchCommonDigit;\r\n  digitMax: WatchCommonDigit;\r\n  imageProgress = new WatchImageProgress();\r\n  pointerProgress = new WatchClockHand();\r\n  progressBar = new WatchProgressBar();\r\n  icon = new WatchImageCoords();\r\n  shortcut: Shortcut = null;\r\n\r\n  constructor(type: JsonType, dt: IDigitConstructor) {\r\n    this.key = type.index + '_' + new Date().getTime()\r\n    this.type = type;\r\n    this.dt = dt;\r\n    this.imageProgress.json.ImageSet.ImagesCount = dt.imageProgressTotal;\r\n  }\r\n}\r\n\r\n\r\n\r\nexport class WatchAOD {\r\n  dialFace = new WatchDialFace();\r\n  date = new WatchDate();\r\n  activitylistCollapsed = true;\r\n  activitylist: WatchActivity[] = [];\r\n  backgroundImageIndex: number;\r\n  backgroundCollapsed = true;\r\n  json: ScreenIdle\r\n\r\n  constructor(j: ScreenIdle) {\r\n    this.dialFace = new WatchDialFace();\r\n    this.date = new WatchDate();\r\n    this.activitylist = [];\r\n    this.backgroundImageIndex = null;\r\n    this.json = j\r\n    if (j == null) return\r\n    this.backgroundImageIndex = j.BackgroundImageIndex\r\n\r\n    this.dialFace = new WatchDialFace();\r\n    this.dialFace.secondsDigital = null\r\n    let newOrderElementsTime: ElementOrderItem[] = [];\r\n    if (j.DialFace?.DigitalDialFace?.Digits) {\r\n      j.DialFace.DigitalDialFace.Digits.forEach((d) => {\r\n        switch (d.TimeType) {\r\n          case TimeType.Minute.json:\r\n            this.dialFace.minutesDigital = new WatchCommonDigit(TypeOfDigit.TIME, d, digitTypes.min);\r\n            newOrderElementsTime.push(new ElementOrderItem(TimeType.Minute));\r\n            break;\r\n          default:\r\n            this.dialFace.hoursDigital = new WatchCommonDigit(TypeOfDigit.TIME, d, digitTypes.hour);\r\n            newOrderElementsTime.push(new ElementOrderItem(TimeType.Hour));\r\n            break;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.dialFace.am = new WatchMultilangImageCoords(j.DialFace?.DigitalDialFace?.AM)\r\n    this.dialFace.pm = new WatchMultilangImageCoords(j.DialFace?.DigitalDialFace?.PM)\r\n\r\n    this.dialFace.hoursClockhand = new WatchClockHand(\r\n      j.DialFace?.AnalogDialFace?.Hours\r\n    );\r\n    this.dialFace.minutesClockhand = new WatchClockHand(\r\n      j.DialFace?.AnalogDialFace?.Minutes\r\n    );\r\n    this.dialFace.secondsClockhand = null\r\n\r\n    this.date = new WatchDate();\r\n    let newOrderElementsDate: ElementOrderItem[] = [];\r\n    if (j.Date?.DateDigits) {\r\n      j.Date.DateDigits.forEach((d) => {\r\n        switch (d.DateType) {\r\n          case DateType.Month.json:\r\n            if (d.Digit.DisplayFormAnalog) {\r\n              this.date.monthAsWord = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.monthasword);\r\n              newOrderElementsDate.push(new ElementOrderItem(DateType.Month));\r\n            } else {\r\n              this.date.month = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.month);\r\n              newOrderElementsDate.push(new ElementOrderItem(DateType.Month));\r\n            }\r\n            break;\r\n          case DateType.Day.json:\r\n            this.date.day = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.day);\r\n            newOrderElementsDate.push(new ElementOrderItem(DateType.Day));\r\n            break;\r\n          default:\r\n            this.date.year = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.year);\r\n            newOrderElementsDate.push(new ElementOrderItem(DateType.Year));\r\n            break;\r\n        }\r\n      });\r\n    }\r\n    this.date.orderElements.forEach((el) => {\r\n      if (!newOrderElementsDate.find((s) => s.type === el.type))\r\n        newOrderElementsDate.push(el);\r\n    });\r\n    this.date.orderElements = newOrderElementsDate;\r\n\r\n    this.date.weekDay = new WatchCommonDigit(TypeOfDigit.COMMON,\r\n      j.Date?.WeeksDigits,\r\n      digitTypes.weekday\r\n    );\r\n\r\n    this.activitylist = getActivityListFromJson(j.Activity);\r\n  }\r\n}\r\n\r\nexport function getActivityFromJson(a: Activity, atype: JsonType): WatchActivity {\r\n  let _activity: WatchActivity = null;\r\n  let _dt: IDigitConstructor = null;\r\n  switch (atype) {\r\n    case ActivityType.Battery:\r\n      _dt = digitTypes.battery;\r\n      break;\r\n    case ActivityType.Steps:\r\n      _dt = digitTypes.steps;\r\n      break;\r\n    case ActivityType.Calories:\r\n      _dt = digitTypes.calories;\r\n      break;\r\n    case ActivityType.HeartRate:\r\n      _dt = digitTypes.heartRate;\r\n      break;\r\n    case ActivityType.Pai:\r\n      _dt = digitTypes.pai;\r\n      break;\r\n    case ActivityType.Distance:\r\n      _dt = digitTypes.distance;\r\n      break;\r\n    case ActivityType.StandUp:\r\n      _dt = digitTypes.standUp;\r\n      break;\r\n    case ActivityType.UVindex:\r\n      _dt = digitTypes.uvIndex;\r\n      break;\r\n    case ActivityType.AirQuality:\r\n      _dt = digitTypes.airQuality;\r\n      break;\r\n    case ActivityType.Humidity:\r\n      _dt = digitTypes.humidity;\r\n      break;\r\n    case ActivityType.Sunrise:\r\n      _dt = digitTypes.sunrise;\r\n      break;\r\n    case ActivityType.WindForce:\r\n      _dt = digitTypes.windForce;\r\n      break;\r\n    case ActivityType.AirPressure:\r\n      _dt = digitTypes.airPressure;\r\n      break;\r\n    case ActivityType.Weather:\r\n      _dt = digitTypes.weather;\r\n      break;\r\n    case ActivityType.ActivityGoal:\r\n      _dt = digitTypes.activityGoal;\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  if (_dt){\r\n    _activity = new WatchActivity(atype, _dt);\r\n    _activity.digit = new WatchCommonDigit(TypeOfDigit.COMMON, null, _dt);\r\n    _activity.digitMin = new WatchCommonDigit(TypeOfDigit.COMMON, null, {..._dt, type: CommonType.Min.index});\r\n    _activity.digitMax = new WatchCommonDigit(TypeOfDigit.COMMON, null, {..._dt, type: CommonType.Max.index});\r\n  } \r\n  if (_activity) {\r\n    if (a?.Digits) {\r\n      a.Digits.forEach((digit) => {\r\n        if ( digit.Type === CommonType.Min.json )\r\n          _activity.digitMin = new WatchCommonDigit(TypeOfDigit.COMMON, digit, {..._dt, type: CommonType.Min.index});\r\n        else if ( digit.Type === CommonType.Max.json )\r\n          _activity.digitMax = new WatchCommonDigit(TypeOfDigit.COMMON, digit, {..._dt, type: CommonType.Max.index});\r\n        else\r\n          _activity.digit = new WatchCommonDigit(TypeOfDigit.COMMON, digit, {..._dt, type: CommonType.Default.index});\r\n      })\r\n    }\r\n    _activity.imageProgress = new WatchImageProgress(a?.ImageProgress);\r\n    _activity.pointerProgress = new WatchClockHand(a?.PointerProgress);\r\n    _activity.progressBar = new WatchProgressBar(a?.ProgressBar);\r\n    _activity.icon = new WatchImageCoords(a?.Icon);\r\n    _activity.shortcut = a?.Shortcut;\r\n  }\r\n  return _activity\r\n}\r\n\r\nexport function getActivityListFromJson(ar: Activity[]): WatchActivity[] | null {\r\n  if (ar) {\r\n    let activitylist: WatchActivity[] = []\r\n    ar.forEach((a) => {\r\n      let _a = getActivityFromJson(a, ActivityType.findByJson(a.Type))\r\n      if (_a) activitylist.push(_a)\r\n    });\r\n    return activitylist;\r\n  } else {\r\n    return [];\r\n  }\r\n\r\n}\r\n\r\nexport class WatchWidgetElement {\r\n  collapsed = true;\r\n  previewImageIndex: number;\r\n  date: WatchDate;\r\n  activitylistCollapsed = true;\r\n  activitys: WatchActivity[] = [];\r\n  orderElements = {\r\n    orderElementsDate: [\r\n      new ElementOrderItem(DateType.Year),\r\n      new ElementOrderItem(DateType.Month),\r\n      new ElementOrderItem(DateType.Day),\r\n    ]\r\n  };\r\n\r\n  constructor(j?: WidgetElement) {\r\n    if (j) {\r\n      if (!j.Preview) return null\r\n      let index = j.Preview.findIndex((item) => item.LangCode === LangCodeType.All.json)\r\n      this.previewImageIndex = index >= 0 ? j.Preview[index].ImageSet.ImageIndex : 0\r\n      this.activitys = getActivityListFromJson(j.Activity)\r\n\r\n      this.date = new WatchDate();\r\n      let newOrderElementsDate: ElementOrderItem[] = [];\r\n      if (j.Date?.DateDigits) {\r\n        j.Date.DateDigits.forEach((d) => {\r\n          switch (d.DateType) {\r\n            case DateType.Month.json:\r\n              if (d.Digit.DisplayFormAnalog) {\r\n                this.date.monthAsWord = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.monthasword);\r\n                newOrderElementsDate.push(new ElementOrderItem(DateType.Month));\r\n              } else {\r\n                this.date.month = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.month);\r\n                newOrderElementsDate.push(new ElementOrderItem(DateType.Month));\r\n              }\r\n              break;\r\n            case DateType.Day.json:\r\n              this.date.day = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.day);\r\n              newOrderElementsDate.push(new ElementOrderItem(DateType.Day));\r\n              break;\r\n            default:\r\n              this.date.year = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.year);\r\n              newOrderElementsDate.push(new ElementOrderItem(DateType.Year));\r\n              break;\r\n          }\r\n        });\r\n      }\r\n      this.orderElements.orderElementsDate.forEach((el) => {\r\n        if (!newOrderElementsDate.find((s) => s.type === el.type))\r\n          newOrderElementsDate.push(el);\r\n      });\r\n      this.orderElements.orderElementsDate = newOrderElementsDate;\r\n  \r\n      this.date.weekDay = new WatchCommonDigit(TypeOfDigit.COMMON,\r\n        j.Date?.WeeksDigits,\r\n        digitTypes.weekday\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport class WatchWidget {\r\n  collapsed = true;\r\n  x: number = 0;\r\n  y: number = 0;\r\n  width: number = 0;\r\n  height: number = 0;\r\n  widgetElementsCollapsed = true;\r\n  widgetElements: WatchWidgetElement[] = [];\r\n  borderActivImageIndex: number;\r\n  borderInactivImageIndex: number;\r\n  descriptionImageBackground: WatchImageCoords = new WatchImageCoords();\r\n  descriptionWidthCheck: number = 0;\r\n\r\n  constructor(j?: Widget) {\r\n    if ( j) {\r\n      this.x = j.X ? j.X : 0;\r\n      this.y = j.Y ? j.Y : 0;\r\n      this.width = j.Width;\r\n      this.height = j.Height;\r\n      this.widgetElements = []\r\n      if (j.WidgetElement) {\r\n        j.WidgetElement.forEach((item) => {\r\n          this.widgetElements.push(new WatchWidgetElement(item))\r\n        });\r\n      }\r\n      this.borderActivImageIndex = j.BorderActivImageIndex;\r\n      this.borderInactivImageIndex = j.BorderInactivImageIndex;\r\n      this.descriptionImageBackground = new WatchImageCoords(j.DescriptionImageBackground)\r\n      this.descriptionWidthCheck = j.DescriptionWidthCheck\r\n    }\r\n  }\r\n}\r\n\r\nexport class WatchWidgets {\r\n  enabled: boolean\r\n  collapsed = true;\r\n  topMaskImageIndex: number\r\n  underMaskImageIndex: number\r\n  showTimeOnEditScreen: number\r\n  widgets: WatchWidget[] = []\r\n\r\n  constructor(json?: Widgets) {\r\n    if (json) {\r\n      this.enabled = true\r\n      this.topMaskImageIndex = json.TopMaskImageIndex\r\n      this.underMaskImageIndex = json.UnderMaskImageIndex\r\n      this.showTimeOnEditScreen = json.Unknown4\r\n      this.widgets = []\r\n      if (json.Widget) {\r\n        this.widgets = json.Widget.map((wi) => new WatchWidget(wi))\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default class WatchFace {\r\n  background: Background = new Background();\r\n  dialFace: WatchDialFace = new WatchDialFace();\r\n  date: WatchDate = new WatchDate();\r\n  activitylistCollapsed = true;\r\n  activity: WatchActivity[] = [];\r\n  status = new WatchStatus();\r\n  widgets = new WatchWidgets(null)\r\n  aod = new WatchAOD(null)\r\n\r\n  constructor(j?: WatchJson) {\r\n    if (!j) return;\r\n\r\n    this.background = new Background();\r\n    this.dialFace = new WatchDialFace();\r\n    this.date = new WatchDate();\r\n    this.activity = [];\r\n    this.status = new WatchStatus();\r\n    this.aod = new WatchAOD(null)\r\n\r\n    this.background.color = Color.colorBackgroundRead(j.Background.Color);\r\n    this.background.imageIndex = j.Background.BackgroundImageIndex;\r\n    if (j.Background.Preview) {\r\n      let ix = 0;\r\n      j.Background?.Preview?.forEach((item, index) => {\r\n        if (item.LangCode === LangCodeType.All.json) {\r\n          ix = index;\r\n        }\r\n      });\r\n      this.background.previewIndex = j.Background.Preview[ix]?.ImageSet?.ImageIndex;\r\n    }\r\n\r\n    this.dialFace = new WatchDialFace();\r\n    let newOrderElementsTime: ElementOrderItem[] = [];\r\n    if (j.DialFace?.DigitalDialFace?.Digits) {\r\n      j.DialFace.DigitalDialFace.Digits.forEach((d) => {\r\n        switch (d.TimeType) {\r\n          case TimeType.Minute.json:\r\n            this.dialFace.minutesDigital = new WatchCommonDigit(TypeOfDigit.TIME, d, digitTypes.min);\r\n            newOrderElementsTime.push(new ElementOrderItem(TimeType.Minute));\r\n            break;\r\n          case TimeType.Second.json:\r\n            this.dialFace.secondsDigital = new WatchCommonDigit(TypeOfDigit.TIME, d, digitTypes.sec);\r\n            newOrderElementsTime.push(new ElementOrderItem(TimeType.Second));\r\n            break;\r\n          default:\r\n            this.dialFace.hoursDigital = new WatchCommonDigit(TypeOfDigit.TIME, d, digitTypes.hour);\r\n            newOrderElementsTime.push(new ElementOrderItem(TimeType.Hour));\r\n            break;\r\n        }\r\n      });\r\n    }\r\n\r\n    this.dialFace.am = new WatchMultilangImageCoords(j.DialFace?.DigitalDialFace?.AM)\r\n    this.dialFace.pm = new WatchMultilangImageCoords(j.DialFace?.DigitalDialFace?.PM)\r\n\r\n    this.dialFace.hoursClockhand = new WatchClockHand(\r\n      j.DialFace?.AnalogDialFace?.Hours\r\n    );\r\n    this.dialFace.minutesClockhand = new WatchClockHand(\r\n      j.DialFace?.AnalogDialFace?.Minutes\r\n    );\r\n    this.dialFace.secondsClockhand = new WatchClockHand(\r\n      j.DialFace?.AnalogDialFace?.Seconds\r\n    );\r\n\r\n    this.date = new WatchDate();\r\n    let newOrderElementsDate: ElementOrderItem[] = [];\r\n    if (j.System?.Date?.DateDigits) {\r\n      j.System.Date.DateDigits.forEach((d) => {\r\n        switch (d.DateType) {\r\n          case DateType.Month.json:\r\n            if (d.Digit.DisplayFormAnalog) {\r\n              this.date.monthAsWord = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.monthasword);\r\n              newOrderElementsDate.push(new ElementOrderItem(DateType.Month));\r\n            } else {\r\n              this.date.month = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.month);\r\n              newOrderElementsDate.push(new ElementOrderItem(DateType.Month));\r\n            }\r\n            break;\r\n          case DateType.Day.json:\r\n            this.date.day = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.day);\r\n            newOrderElementsDate.push(new ElementOrderItem(DateType.Day));\r\n            break;\r\n          default:\r\n            this.date.year = new WatchCommonDigit(TypeOfDigit.DATE, d, digitTypes.year);\r\n            newOrderElementsDate.push(new ElementOrderItem(DateType.Year));\r\n            break;\r\n        }\r\n      });\r\n    }\r\n    this.date.orderElements.forEach((el) => {\r\n      if (!newOrderElementsDate.find((s) => s.type === el.type))\r\n        newOrderElementsDate.push(el);\r\n    });\r\n    this.date.orderElements = newOrderElementsDate;\r\n\r\n    this.date.weekDay = new WatchCommonDigit(TypeOfDigit.COMMON,\r\n      j.System?.Date?.WeeksDigits,\r\n      digitTypes.weekday\r\n    );\r\n\r\n    this.status = new WatchStatus(j.System?.Status);\r\n\r\n    this.activity = getActivityListFromJson(j.System?.Activity)\r\n\r\n    this.widgets = new WatchWidgets(j.Widgets)\r\n    this.aod = new WatchAOD(j.ScreenIdle)\r\n  }\r\n}\r\n","export class Constant {\r\n  static readonly NONE = \"None\";\r\n  static readonly startImageIndex = 1;\r\n  static readonly width: number = 348;\r\n  static readonly height: number = 442;\r\n  static readonly deviceId: number = 65;\r\n\r\n  static getImageIndex(index: number, max: number) {\r\n    const resultIndex = index - Constant.startImageIndex;\r\n    if (resultIndex >= max) {\r\n      alert(\"Bad imageIndex: \" + resultIndex);\r\n      return 0;\r\n    }\r\n    return index;\r\n  }\r\n}\r\n","export enum BlockType {\r\n    Empty,\r\n    Number,\r\n    Date,\r\n    Time,\r\n    Checkbox,\r\n    Select,\r\n    Color,\r\n    SelectFile,\r\n  }\r\n  \r\nexport  interface IRow {\r\n    blocks: IBlock[],\r\n    disabled?: boolean,\r\n    onDelete?(): void,\r\n    showDelete?: boolean\r\n}\r\n\r\nexport interface IOption {\r\n    value: string,\r\n    title: string\r\n}\r\n\r\nexport const OptionsAlignment: IOption[] =  [ {value:'0', title: 'Left'}, {value: '1', title: 'Center'}, {value:'2', title: 'Right'}]\r\nexport const OptionsUnitSystemFont: IOption[] =  [ {value:'-1', title: 'Default'}, {value: '1', title: 'Normal'}, {value:'2', title: 'Alt'}]\r\nexport const OptionsSystemFontDirection: IOption[] =  [ {value:'0', title: 'Clockwise'}, {value: '1', title: 'Counter clock'}]\r\nexport const OptionsLineEndingLine: IOption[] =  [ {value:'0', title: 'Circle'}, {value:'180', title: 'Flat'}]\r\nexport const OptionsLineEndingCircle: IOption[] =  [ {value:'0', title: 'Circle'}, {value: '90', title: 'Triangle'}, {value:'180', title: 'Flat'}]\r\n\r\n\r\nexport interface IBlock {\r\n    title: string;\r\n    type: BlockType;\r\n    nvalue?: number;\r\n    checked?: boolean;\r\n    svalue?: string;\r\n    selectOptions?: IOption[]\r\n    onChange?(e): any;\r\n    disabled?: boolean;\r\n    min?: number\r\n    max?: number\r\n}","import { FC, useContext } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { IImage } from \"../../model/image.model\";\r\nimport { WatchJson } from \"../../model/json.model\";\r\nimport WatchFace from \"../../model/watchFace.model\";\r\nimport { Constant } from \"../../shared/constant\";\r\n\r\nconst FileLoaderComponent: FC = () => {\r\n  const { images, setImages, setWatchface, setJsonName } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  function onLoadJson(e: ProgressEvent<FileReader>) {\r\n    let json = e.target.result;\r\n    let j: WatchJson = JSON.parse(json.toString());\r\n    let w = new WatchFace(j);\r\n    setWatchface(w);\r\n  }\r\n\r\n  function uploadJsonFile(e) {\r\n    let file = e.target.files.item(0);\r\n    if (file) {\r\n      let fr = new FileReader();\r\n      fr.onload = onLoadJson;\r\n      fr.readAsText(file);\r\n      setJsonName(e.target.files.item(0).name);\r\n    }\r\n  }\r\n\r\n  function imagesUploadHandler(event: any) {\r\n    getImages(event.target.files, []);\r\n  }\r\n\r\n  function getImages(files: FileList, ar: IImage[], index = 0) {\r\n    clearInput()\r\n    setJsonName(null)\r\n    if (index < files.length) {\r\n      const filename = files[index].name;\r\n      let base = filename;\r\n      if (base.lastIndexOf(\".\") !== -1)\r\n        base = base.substring(0, base.lastIndexOf(\".\"));\r\n\r\n      const id = parseInt(base);\r\n      if ( /^\\d+$/.test(base) && !isNaN(id)) {\r\n        const img = new Image();\r\n        img.addEventListener(\"load\", () => {\r\n          index += 1;\r\n          if (index < files.length) \r\n            getImages(files, ar, index);\r\n          else {\r\n            checkImagesCount(ar);\r\n          }\r\n        });\r\n        img.src = URL.createObjectURL(files[index]);\r\n        img.alt = filename;\r\n        ar.push({\r\n          id: id,\r\n          name: filename,\r\n          image: img,\r\n        });\r\n      } else {\r\n        index += 1;\r\n        if (index < files.length) getImages(files, ar, index);\r\n        else checkImagesCount(ar);\r\n      }\r\n    }\r\n  }\r\n\r\n  function checkImagesCount(ar: IImage[]) {\r\n    \r\n    let sortedAr = ar.sort((a, b) => a.id - b.id)\r\n\r\n    if ( sortedAr[sortedAr.length-1].id !== sortedAr.length - 1 + Constant.startImageIndex) {\r\n      console.log(sortedAr.length -1 + Constant.startImageIndex, sortedAr[sortedAr.length-1].id);\r\n      \r\n      window.alert('Images files go out of order or some of the files are missing. Name the PNG files in ascending order.')\r\n    }\r\n    if ( sortedAr[0].id !== Constant.startImageIndex) {\r\n      window.alert(`Images file numbering must start at ${Constant.startImageIndex}.`)\r\n    }\r\n    setImages(sortedAr)\r\n  }\r\n\r\n  function clearInput() {\r\n    if (document.getElementById(\"jsonLoad\")) (document.getElementById(\"jsonLoad\") as HTMLInputElement).value = null;\r\n    setWatchface(new WatchFace());\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <span className=\"input-group input-group-sm mb-3\">\r\n        <span className=\"input-group-text\">Load images</span>\r\n        <input\r\n          type=\"file\"\r\n          multiple\r\n          id=\"fileUpload\"\r\n          accept=\"image/*\"\r\n          onChange={imagesUploadHandler}\r\n        />\r\n        {images.length > 0 ? (\r\n          <>\r\n            <span className=\"input-group-text\">Load json file</span>\r\n            <input\r\n              type=\"file\"\r\n              accept=\"application/json\"\r\n              id=\"jsonLoad\"\r\n              onChange={uploadJsonFile}\r\n            />\r\n            <Button onClick={clearInput}>clear</Button>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FileLoaderComponent;\r\n","import React, { FC, useState } from \"react\";\r\nimport \"./draganddroplist.css\";\r\n\r\n\r\nexport interface IDNDItem<T> {\r\n  item: T,\r\n  reactItem: React.ReactChild\r\n}\r\n\r\ninterface IProps {\r\n  _list: IDNDItem<any>[];\r\n  updateOrder(list: IDNDItem<any>[]);\r\n}\r\n\r\nconst initialDnDState = {\r\n  draggedFrom: null,\r\n  draggedTo: null,\r\n  isDragging: false,\r\n  originalOrder: [],\r\n  updatedOrder: [],\r\n};\r\n\r\nconst DnDListComponent: FC<IProps> = ({ _list, updateOrder }) => {\r\n  const [dragAndDrop, setDragAndDrop] = useState(initialDnDState);\r\n\r\n  // onDragStart fires when an element\r\n  // starts being dragged\r\n  function onDragStart(event) {\r\n    const initialPosition = Number(event.currentTarget.dataset.position);\r\n\r\n    setDragAndDrop({\r\n      ...dragAndDrop,\r\n      draggedFrom: initialPosition,\r\n      isDragging: true,\r\n      originalOrder: _list,\r\n    });\r\n\r\n    // Note: this is only for Firefox.\r\n    // Without it, the DnD won't work.\r\n    // But we are not using it.\r\n    event.dataTransfer.setData(\"text/html\", \"\");\r\n  }\r\n\r\n  // onDragOver fires when an element being dragged\r\n  // enters a droppable area.\r\n  // In this case, any of the items on the list\r\n  function onDragOver(event) {\r\n    // in order for the onDrop\r\n    // event to fire, we have\r\n    // to cancel out this one\r\n    event.preventDefault();\r\n\r\n    let newList = dragAndDrop.originalOrder;\r\n\r\n    // index of the item being dragged\r\n    const draggedFrom = dragAndDrop.draggedFrom;\r\n\r\n    // index of the droppable area being hovered\r\n    const draggedTo = Number(event.currentTarget.dataset.position);\r\n\r\n    const itemDragged = newList[draggedFrom];\r\n    const remainingItems = newList.filter(\r\n      (item, index) => index !== draggedFrom\r\n    );\r\n\r\n    newList = [\r\n      ...remainingItems.slice(0, draggedTo),\r\n      itemDragged,\r\n      ...remainingItems.slice(draggedTo),\r\n    ];\r\n\r\n    if (draggedTo !== dragAndDrop.draggedTo) {\r\n      setDragAndDrop({\r\n        ...dragAndDrop,\r\n        updatedOrder: newList,\r\n        draggedTo: draggedTo,\r\n      });\r\n      updateOrder(newList);\r\n    }\r\n  }\r\n\r\n  function onDrop(event) {\r\n    updateOrder(dragAndDrop.updatedOrder);\r\n\r\n    setDragAndDrop({\r\n      ...dragAndDrop,\r\n      draggedFrom: null,\r\n      draggedTo: null,\r\n      isDragging: false,\r\n    });\r\n  }\r\n\r\n  function onDragLeave() {\r\n    setDragAndDrop({\r\n      ...dragAndDrop,\r\n      draggedTo: null,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ul className=\"list-group droplist\">\r\n        {_list.map((item, index) => {\r\n          return (\r\n            <li\r\n              key={index}\r\n              data-position={index}\r\n              draggable\r\n              onDragStart={onDragStart}\r\n              onDragOver={onDragOver}\r\n              onDrop={onDrop}\r\n              onDragLeave={onDragLeave}\r\n              className={`list-group-item ${\r\n                dragAndDrop && dragAndDrop.draggedTo === Number(index)\r\n                  ? \"dropArea\"\r\n                  : \"\"\r\n              }`}\r\n              title=\"Drag and Drop to change order\"\r\n            >\r\n                {item.reactItem}\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DnDListComponent;\r\n","import React, { FC, ReactElement, useContext, useState } from \"react\";\r\nimport { Constant } from \"./constant\";\r\nimport { IWatchContext, WatchfaceContext } from \"../context\";\r\nimport \"./selectFileList.css\";\r\ninterface IProps {\r\n  title: string,\r\n  value: number;\r\n  onChange(id: number): void;\r\n}\r\n\r\nconst SelectFileListComponent: FC<IProps> = ({\r\n  title,\r\n  value,\r\n  onChange,\r\n}) => {\r\n  const { images } = useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  const [collapsed, setCollapsed] = useState<boolean>(true);\r\n\r\n  function onFileSelected(id: number) {\r\n    onChange(id);\r\n    setCollapsed(true);\r\n  }\r\n\r\n  function onRemove() {\r\n    onFileSelected(null);\r\n  }\r\n\r\n  const options: ReactElement[] = [];\r\n\r\n  options.push(\r\n    <option key={\"None\"} value={\"None\"}>\r\n      {\" \"}\r\n    </option>\r\n  );\r\n\r\n  if (images) {\r\n    for (var i = 0; i < images.length; i++) {\r\n      let img = images[i];\r\n\r\n      options.push(\r\n        <li\r\n          key={img.id}\r\n          value={img.id}\r\n          className=\"list-group-item fileitem\"\r\n          onClick={() => onFileSelected(img.id)}\r\n        >\r\n          {<img src={img.image.src} alt={img.name} width={30} />}\r\n          {img.name}\r\n        </li>\r\n      );\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <span className=\"input-group-text\">{title}</span>\r\n      <div className=\"input-group-text dropdown\">\r\n        <div>\r\n          {value !== null &&\r\n          value !== undefined &&\r\n          images[value - Constant.startImageIndex]\r\n            ? images[value - Constant.startImageIndex].name\r\n            : \"None\"}\r\n        </div>\r\n        {collapsed ? (\r\n          \"\"\r\n        ) : (\r\n          <ul className=\"list-group dropdown-content\">{options}</ul>\r\n        )}\r\n      </div>\r\n      <button\r\n        className=\"btn btn-outline-secondary\"\r\n        type=\"button\"\r\n        onClick={() => {\r\n          setCollapsed(!collapsed);\r\n        }}\r\n        disabled={!images || images.length === 0}\r\n      >\r\n        + \r\n      </button>\r\n      <button\r\n        className=\"btn btn-outline-secondary\"\r\n        type=\"button\"\r\n        onClick={onRemove}\r\n        disabled={!value}\r\n      >\r\n        x\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectFileListComponent;\r\n","import React, { FC } from 'react';\r\n\r\ninterface IProps {\r\n    title: string,\r\n    checked: boolean,\r\n    onChange(checked: boolean): void,\r\n    disabled?: boolean\r\n}\r\n\r\nconst CheckBoxBlockComponent: FC<IProps> = ({ title, checked, onChange, disabled }) => {\r\n    return (\r\n        <>\r\n            <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n                {title}\r\n            </span>\r\n            <div className=\"input-group-text\">\r\n                <input\r\n                    className=\"form-check-input form-check-input-sm\"\r\n                    type=\"checkbox\"\r\n                    disabled={disabled}\r\n                    checked={checked ? true : false}\r\n                    onChange={() => onChange(!checked)}\r\n                    />\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CheckBoxBlockComponent;","import React, { FC } from 'react';\r\n\r\ninterface IProps {\r\n    title: string,\r\n    value: string,\r\n    onChange(value: string): void\r\n}\r\nconst ColorBlockComponent: FC<IProps> = ({ title, value, onChange }) => {\r\n\r\n\r\n    return (\r\n        <>\r\n            <span className=\"input-group-text\">{title}</span>\r\n            <input\r\n              type=\"color\"\r\n              className=\"form-control form-control-sm\"\r\n              style={{ width: 40 }}\r\n              onChange={(e) => {\r\n                onChange(e.target.value)\r\n              }}\r\n              id=\"colorBackground\"\r\n              value={value}\r\n              title=\"Choose color\"\r\n              />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ColorBlockComponent;","import React, { FC } from 'react';\r\n\r\ninterface IProps {\r\n    title: string,\r\n    value: number,\r\n    onChange(value: number): void,\r\n    disabled?: boolean,\r\n    min?: number,\r\n    max?: number,\r\n}\r\nconst NumberBlockComponent: FC<IProps> = ({ title, value, onChange, disabled, min, max }) => {\r\n    return (\r\n        <>\r\n            <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n                {title}\r\n            </span>\r\n            <input\r\n                type=\"number\"\r\n                className=\"form-control form-control-sm\"\r\n                value={value || 0}\r\n                min={min}\r\n                max={max}\r\n                onChange={(e) => {\r\n                    let val = parseInt(e.target.value)\r\n                    onChange(isNaN(val) ? 0 : val)\r\n                }}\r\n                disabled={disabled}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default NumberBlockComponent;","import React, { FC } from 'react';\r\nimport { IOption } from '../model/blocks.model';\r\n\r\ninterface IProps {\r\n    title: string,\r\n    value: string,\r\n    onChange(value: string): void,\r\n    options: IOption[],\r\n    disabled?: boolean\r\n}\r\n\r\nconst SelectBlockComponent: FC<IProps> = ({ title, value, onChange, disabled, options }) => {\r\n    return (\r\n        <>\r\n            <span className=\"input-group-text\" >\r\n                {title}\r\n            </span>\r\n            <select\r\n                disabled={disabled}\r\n                value={value}\r\n                className=\"form-select form-select-sm\"\r\n                onChange={(e) => onChange(e.target.value)}\r\n            >\r\n                { options.map(\r\n                    (item) => \r\n                    <option key={item.value} value={item.value}>\r\n                        {item.title}\r\n                    </option>\r\n                )}\r\n            </select>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SelectBlockComponent;","import React, { FC } from 'react';\r\nimport { IRow, BlockType, IBlock } from '../model/blocks.model';\r\nimport SelectFileListComponent from '../shared/selectFileList.component';\r\nimport CheckBoxBlockComponent from './checkboxBlock.component';\r\nimport ColorBlockComponent from './colorBlock.component';\r\nimport NumberBlockComponent from './numberBlock.component';\r\nimport SelectBlockComponent from './selectBlock.component';\r\n\r\ninterface IProps {\r\n    row: IRow\r\n}\r\nconst RowComponent: FC<IProps> = ({ row }) => {\r\n\r\n    function getBlock(block: IBlock, index: number) {\r\n        let result: any = '';\r\n        switch (block.type) {\r\n            case BlockType.Empty:\r\n                result = <span key={index} className=\"input-group-text\">{block.title}</span>\r\n                break;\r\n            case BlockType.SelectFile:\r\n                result =\r\n                    <SelectFileListComponent\r\n                        key={index} \r\n                        title={block.title}\r\n                        onChange={block.onChange}\r\n                        value={block.nvalue}\r\n                    />\r\n                break;\r\n            case BlockType.Number:\r\n                result =\r\n                    <NumberBlockComponent\r\n                        key={index} \r\n                        title={block.title}\r\n                        onChange={block.onChange}\r\n                        value={block.nvalue}\r\n                        disabled={block.disabled}\r\n                    />\r\n                break;\r\n            case BlockType.Checkbox:\r\n                result =\r\n                    <CheckBoxBlockComponent\r\n                        key={index} \r\n                        title={block.title}\r\n                        onChange={block.onChange}\r\n                        checked={block.checked}\r\n                        disabled={block.disabled}\r\n                    />\r\n                break;\r\n            case BlockType.Select:\r\n                result = \r\n                    <SelectBlockComponent\r\n                        key={index} \r\n                        title={block.title}\r\n                        onChange={block.onChange}\r\n                        value={block.svalue}\r\n                        disabled={block.disabled}\r\n                        options={block.selectOptions}\r\n                    />\r\n                break;\r\n            case BlockType.Color:\r\n                result =\r\n                    <ColorBlockComponent\r\n                        key={index} \r\n                        title={block.title}\r\n                        onChange={block.onChange}\r\n                        value={block.svalue}\r\n                    />\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        return result\r\n    }\r\n    return (\r\n        <>\r\n            <div className={`input-group input-group-sm d-flex ${ row.showDelete ? 'justify-content-between' : ''}`}>\r\n                {row.blocks.map((block, index) =>\r\n                    getBlock(block, index))\r\n                }\r\n                { row.showDelete ?\r\n                    <button className=\"btn btn-outline-danger\" type=\"button\" onClick={row.onDelete} disabled={!row.onDelete}>Delete</button> : ''}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default RowComponent;\r\n\r\n\r\n","import React, { FC } from 'react';\r\nimport { IRow } from '../model/blocks.model';\r\nimport RowComponent from './row.component';\r\n\r\ninterface IProps {\r\n    ar: IRow[]\r\n}\r\nconst BlocksArrayComponent: FC<IProps> = ({ar}) => {\r\n    return (\r\n        <>\r\n            { ar.map((row, index) => \r\n                 !row.disabled ?\r\n                    <RowComponent key={index} row={row} /> : ''  )\r\n            }\r\n        </>\r\n    );\r\n};\r\n\r\nexport default BlocksArrayComponent;","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow, OptionsAlignment } from \"../../model/blocks.model\";\r\nimport { Image, ImageCoord, MultilangImage } from \"../../model/json.model\";\r\nimport { AlignmentType, FollowType, LangCodeType } from \"../../model/types.model\";\r\nimport { WatchCommonDigit } from \"../../model/watchFace.model\";\r\n\r\ninterface IProps {\r\n  title: string;\r\n  digit: WatchCommonDigit;\r\n  onUpdate(digit: WatchCommonDigit): void;\r\n  showNoData?: boolean;\r\n  showDecimalPointer?: boolean;\r\n  showDelimiter?: boolean;\r\n  paddingZeroFix?: boolean;\r\n  followDisabled?: boolean;\r\n  onCopyFromNormal?(): void\r\n}\r\n\r\nconst ImageDigitComponent: FC<IProps> = ({\r\n  title,\r\n  digit,\r\n  onUpdate,\r\n  showNoData,\r\n  showDecimalPointer,\r\n  showDelimiter,\r\n  paddingZeroFix,\r\n  followDisabled,\r\n  onCopyFromNormal\r\n}) => {\r\n\r\n  const imageSetIndex = useMemo<number>(() => findImageIndex(digit.json?.Digit?.Image?.MultilangImage), [digit])\r\n  const unitImageSetIndex = useMemo<number>(() => findImageIndex(digit.json?.Digit?.Image?.MultilangImageUnit), [digit])\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Image', type: BlockType.SelectFile, nvalue: digit.json?.Digit?.Image?.MultilangImage[imageSetIndex]?.ImageSet?.ImageIndex, onChange: onChangeImageIndex },\r\n        { title: `Count: ${digit.json?.Digit?.Image?.MultilangImage[imageSetIndex]?.ImageSet?.ImagesCount}`, type: BlockType.Empty },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'X', type: BlockType.Number, nvalue: digit.json.Digit?.Image?.X ? digit.json.Digit.Image.X : 0, onChange: onChangeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: digit.json.Digit?.Image?.Y ? digit.json.Digit.Image.Y : 0, onChange: onChangeY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Unit', type: BlockType.SelectFile, nvalue: digit.json?.Digit?.Image?.MultilangImageUnit ? digit.json?.Digit?.Image?.MultilangImageUnit[unitImageSetIndex].ImageSet?.ImageIndex : null, onChange: onChangeUnit },\r\n      ]\r\n    },\r\n    {\r\n      disabled: !showNoData,\r\n      blocks: [\r\n        { title: 'No data', type: BlockType.SelectFile, nvalue: digit.json?.Digit?.Image?.NoDataImageIndex, onChange: onChangeNoData },\r\n      ]\r\n    },\r\n    {\r\n      disabled: !showDelimiter,\r\n      blocks: [\r\n        { title: 'Minus', type: BlockType.SelectFile, nvalue: digit.json?.Digit?.Image?.DelimiterImageIndex, onChange: onChangeDelimiter },\r\n      ]\r\n    },\r\n    {\r\n      disabled: !showDecimalPointer,\r\n      blocks: [\r\n        { title: 'Decimal pointer', type: BlockType.SelectFile, nvalue: digit.json?.Digit?.Image?.DecimalPointImageIndex, onChange: onChangeDecimalPointer },\r\n      ]\r\n    },\r\n    {\r\n      disabled: digit.json.Digit.DisplayFormAnalog,\r\n      blocks: [\r\n        { title: 'padding zero', type: BlockType.Checkbox, checked: digit.json?.Digit?.PaddingZero || paddingZeroFix, onChange: onChangePaddingZero, disabled: paddingZeroFix },\r\n        { title: 'spacing', type: BlockType.Number, nvalue: digit.json?.Digit?.Spacing ? digit.json.Digit.Spacing : 0, onChange: onChangeSpacing },\r\n      ]\r\n    },\r\n    {\r\n      disabled: digit.json.Digit.DisplayFormAnalog,\r\n      blocks: [\r\n        { title: 'follow', type: BlockType.Checkbox, checked: digit.json?.CombingMode !== FollowType.Single.json, onChange: onChangeFollow, disabled: followDisabled },\r\n        { title: 'alignment', type: BlockType.Select, svalue: AlignmentType.fromJson(digit.json?.Digit?.Alignment).toString(), selectOptions: OptionsAlignment,  onChange: onChangeAlignment },\r\n      ]\r\n    },\r\n    {\r\n      disabled: digit.json.Digit.DisplayFormAnalog,\r\n      blocks: [\r\n        { title: 'Separator', type: BlockType.SelectFile, nvalue: digit.json?.Separator?.ImageIndex, onChange: onChangeSeparator },\r\n        { title: 'X', type: BlockType.Number, nvalue: digit.json.Separator?.Coordinates?.X ? digit.json.Separator.Coordinates.X : 0, onChange: onChangeSeparatorX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: digit.json.Separator?.Coordinates?.Y ? digit.json.Separator.Coordinates.Y : 0, onChange: onChangeSeparatorY },\r\n      ]\r\n    },\r\n  ], [digit]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function findImageIndex(ar: MultilangImage[]): number {\r\n    if (!ar) return null\r\n    let index = ar.findIndex((item) => item.LangCode === LangCodeType.All.json)\r\n    return index >= 0 ? index : 0\r\n  }\r\n\r\n  function onChangeImageIndex(index: number) {\r\n    const d = {...digit};\r\n    if (!d.json.Digit.Image.MultilangImage) {\r\n      d.json.Digit.Image.MultilangImage = []\r\n    }\r\n    if (!d.json.Digit.Image.MultilangImage[imageSetIndex]) {\r\n      let length = d.json.Digit.Image.MultilangImage.push(new MultilangImage())\r\n      d.json.Digit.Image.MultilangImage[length-1].LangCode = LangCodeType.All.json;\r\n      d.json.Digit.Image.MultilangImage[length-1].ImageSet.ImageIndex = index;\r\n      d.json.Digit.Image.MultilangImage[length-1].ImageSet.ImagesCount = d.con.count;\r\n    } else {\r\n      d.json.Digit.Image.MultilangImage[imageSetIndex].ImageSet.ImageIndex = index;\r\n    }\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeUnit(index: number) {\r\n    const d = {...digit};\r\n    if (!d.json.Digit.Image.MultilangImageUnit) {\r\n      d.json.Digit.Image.MultilangImageUnit = []\r\n    }\r\n    if (!d.json.Digit.Image.MultilangImageUnit[imageSetIndex]) {\r\n      let length = d.json.Digit.Image.MultilangImageUnit.push(new MultilangImage())\r\n      d.json.Digit.Image.MultilangImageUnit[length-1].LangCode = LangCodeType.All.json;\r\n      d.json.Digit.Image.MultilangImageUnit[length-1].ImageSet.ImageIndex = index;\r\n      d.json.Digit.Image.MultilangImageUnit[length-1].ImageSet.ImagesCount = 1;\r\n    } else {\r\n      d.json.Digit.Image.MultilangImageUnit[imageSetIndex].ImageSet.ImageIndex = index;\r\n    }\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeX(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Image.X = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeY(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Image.Y = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangePaddingZero(checked: boolean) {\r\n    const d = {...digit};\r\n    d.json.Digit.PaddingZero = checked;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeAlignment(val: string) {\r\n    const d = {...digit};\r\n    d.json.Digit.Alignment = AlignmentType.toJson(parseInt(val));\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeFollow(checked: boolean) {\r\n    const d = {...digit};\r\n    d.json.CombingMode = checked ? FollowType.Follow.json : FollowType.Single.json;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSpacing(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Spacing = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeNoData(index: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Image.NoDataImageIndex = index;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeDelimiter(index: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Image.DelimiterImageIndex = index;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeDecimalPointer(index: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Image.DecimalPointImageIndex = index;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSeparator(index: number) {\r\n    const d = {...digit};\r\n    if (!index) d.json.Separator = null\r\n    else {\r\n      if ( !d.json.Separator) d.json.Separator = new ImageCoord()\r\n      d.json.Separator.ImageIndex = index;\r\n    }\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSeparatorX(val: number) {\r\n    const d = {...digit};\r\n    if ( !d.json.Separator) d.json.Separator = new ImageCoord()\r\n    d.json.Separator.Coordinates.X = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSeparatorY(val: number) {\r\n    const d = {...digit};\r\n    if ( !d.json.Separator) d.json.Separator = new ImageCoord()\r\n    d.json.Separator.Coordinates.Y = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={digit.enabledImage}\r\n              onChange={() => {\r\n                const d = { ...digit };\r\n                d.enabledImage = !d.enabledImage;\r\n                d.enabled = d.enabledImage || d.enabledSystemFont\r\n                if ( !d.json.Digit.Image) {\r\n                  d.json.Digit.Image = new Image()\r\n                  let digitimage = new MultilangImage()\r\n                  digitimage.ImageSet.ImagesCount = d.con.count\r\n                  d.json.Digit.DisplayFormAnalog = d.con.displayAnalog\r\n                  d.json.Digit.Image.MultilangImage[0] = digitimage\r\n                }\r\n                onUpdate(d);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {digit.enabledImage ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ImageDigitComponent;\r\n","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow, OptionsUnitSystemFont } from \"../../model/blocks.model\";\r\nimport { Coordinates, ImageCoord, SystemFont } from \"../../model/json.model\";\r\nimport { FollowType } from \"../../model/types.model\";\r\nimport { WatchCommonDigit } from \"../../model/watchFace.model\";\r\nimport Color from \"../../shared/color\";\r\n\r\ninterface IProps {\r\n  title: string;\r\n  digit: WatchCommonDigit;\r\n  onUpdate(digit: WatchCommonDigit): void;\r\n  showNoData?: boolean;\r\n  showDecimalPointer?: boolean;\r\n  showDelimiter?: boolean;\r\n  paddingZeroFix?: boolean;\r\n  followDisabled?: boolean;\r\n  onCopyFromNormal?(): void\r\n}\r\n\r\nconst SystemFontComponent: FC<IProps> = ({\r\n  title,\r\n  digit,\r\n  onUpdate,\r\n  paddingZeroFix,\r\n  onCopyFromNormal,\r\n  followDisabled\r\n}) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'X', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.Coordinates?.X ? digit.json.Digit.SystemFont.Coordinates.X : 0, onChange: onChangeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.Coordinates?.Y ? digit.json.Digit.SystemFont.Coordinates.Y : 0, onChange: onChangeY },\r\n        { title: 'Color', type: BlockType.Color, svalue: digit.json.Digit?.SystemFont?.Color ? Color.colorRead(digit.json.Digit.SystemFont.Color) : Color.DEFAULT_COLOR, onChange: onChangeColor },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Size', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.Size ? digit.json.Digit.SystemFont.Size : 0, onChange: onChangeSize },\r\n        { title: 'Angle', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.Angle ? digit.json.Digit.SystemFont.Angle : 0, onChange: onChangeAngle },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'padding zero', type: BlockType.Checkbox, checked: digit.json?.Digit?.PaddingZero || paddingZeroFix, onChange: onChangePaddingZero, disabled: paddingZeroFix },\r\n        { title: 'follow', type: BlockType.Checkbox, checked: digit.json?.CombingMode !== FollowType.Single.json, onChange: onChangeFollow, disabled: followDisabled },\r\n        { title: 'spacing', type: BlockType.Number, nvalue: digit.json?.Digit?.Spacing ? digit.json.Digit.Spacing : 0, onChange: onChangeSpacing },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Unit', type: BlockType.Select, svalue: digit.json?.Digit?.SystemFont?.ShowUnitCheck ? digit.json?.Digit?.SystemFont.ShowUnitCheck?.toString() : '-1', onChange: onChangeUnitCheck, selectOptions: OptionsUnitSystemFont },\r\n        { title: 'Separator', type: BlockType.Checkbox, checked: digit.json?.Separator ? true : false, onChange: onChangeSeparator },\r\n      ]\r\n    }\r\n  ], [digit])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function onChangeColor(color: string) {\r\n      const d = { ...digit };\r\n      d.json.Digit.SystemFont.Color = Color.colorWrite(color);\r\n      onUpdate(d);\r\n  }\r\n\r\n  function onChangeX(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.Coordinates.X = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeY(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.Coordinates.Y = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangePaddingZero(val: boolean) {\r\n    const d = {...digit};\r\n    d.json.Digit.PaddingZero = val;\r\n    onUpdate(d);\r\n  }\r\n  function onChangeFollow(checked: boolean) {\r\n    const d = {...digit};\r\n    d.json.CombingMode = checked ? FollowType.Follow.json : FollowType.Single.json;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSpacing(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Spacing = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSize(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.Size = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeAngle(val: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.Angle = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSeparator() {\r\n    const d = {...digit};\r\n    if ( d.json.Separator) \r\n      d.json.Separator = null\r\n    else {\r\n      d.json.Separator = new ImageCoord()\r\n      d.json.Separator.Coordinates.X = -1\r\n      d.json.Separator.Coordinates.Y = -1\r\n    }\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeUnitCheck(val: string) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.ShowUnitCheck = parseInt(val);\r\n    onUpdate(d);\r\n  }\r\n \r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={digit.enabledSystemFont}\r\n              onChange={() => {\r\n                const d = { ...digit };\r\n                d.enabledSystemFont = !d.enabledSystemFont;\r\n                d.enabled = d.enabledImage || d.enabledSystemFont\r\n                if ( !d.json.Digit.SystemFont) {\r\n                  d.json.Digit.SystemFont = new SystemFont()\r\n                  d.json.Digit.SystemFont.Coordinates = new Coordinates()\r\n                }\r\n                onUpdate(d);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {digit.enabledSystemFont ? (\r\n        <Card.Body>\r\n          { !onCopyFromNormal ? '' : <div style={{clear:'both'}}><button className='btn btn-sm btn-secondary mb-1' style={{float:'right'}} onClick={onCopyFromNormal}>Copy from normal screen</button></div> }\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SystemFontComponent;\r\n","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow, OptionsSystemFontDirection, OptionsUnitSystemFont } from \"../../model/blocks.model\";\r\nimport { FontRotate, ImageCoord, SystemFont } from \"../../model/json.model\";\r\nimport { FollowType } from \"../../model/types.model\";\r\nimport { WatchCommonDigit } from \"../../model/watchFace.model\";\r\nimport Color from \"../../shared/color\";\r\n\r\ninterface IProps {\r\n  title: string;\r\n  digit: WatchCommonDigit;\r\n  onUpdate(digit: WatchCommonDigit): void;\r\n  showNoData?: boolean;\r\n  showDecimalPointer?: boolean;\r\n  showDelimiter?: boolean;\r\n  paddingZeroFix?: boolean;\r\n  followDisabled?: boolean;\r\n  onCopyFromNormal?(): void\r\n}\r\n\r\nconst SystemFontCircleComponent: FC<IProps> = ({\r\n  title,\r\n  digit,\r\n  onUpdate,\r\n  paddingZeroFix,\r\n  onCopyFromNormal,\r\n  followDisabled\r\n}) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'X', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.FontRotate?.X ? digit.json.Digit.SystemFont.FontRotate.X : 0, onChange: onChangeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.FontRotate?.Y ? digit.json.Digit.SystemFont.FontRotate.Y : 0, onChange: onChangeY },\r\n        { title: 'Color', type: BlockType.Color, svalue: digit.json.Digit?.SystemFont?.Color ? Color.colorRead(digit.json.Digit.SystemFont.Color) : Color.DEFAULT_COLOR, onChange: onChangeColor },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Size', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.Size ? digit.json.Digit.SystemFont.Size : 0, onChange: onChangeSize },\r\n        { title: 'Radius', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.FontRotate?.Radius ? digit.json.Digit.SystemFont.FontRotate.Radius : 0, onChange: onChangeRadius },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Angle', type: BlockType.Number, nvalue: digit.json.Digit?.SystemFont?.Angle ? digit.json.Digit.SystemFont.Angle : 0, onChange: onChangeAngle },\r\n        { title: 'Direction', type: BlockType.Select, svalue: digit.json?.Digit?.SystemFont?.FontRotate?.RotateDirection ? digit.json.Digit.SystemFont.FontRotate.RotateDirection.toString() : '0', onChange: onChangeDirection, selectOptions: OptionsSystemFontDirection },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'padding zero', type: BlockType.Checkbox, checked: digit.json?.Digit?.PaddingZero || paddingZeroFix, onChange: onChangePaddingZero, disabled: paddingZeroFix },\r\n        { title: 'follow', type: BlockType.Checkbox, checked: digit.json?.CombingMode !== FollowType.Single.json, onChange: onChangeFollow, disabled: followDisabled },\r\n        { title: 'spacing', type: BlockType.Number, nvalue: digit.json?.Digit?.Spacing ? digit.json.Digit.Spacing : 0, onChange: onChangeSpacing },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Unit', type: BlockType.Select, svalue: digit.json?.Digit?.SystemFont?.ShowUnitCheck ? digit.json?.Digit?.SystemFont.ShowUnitCheck?.toString() : '-1', onChange: onChangeUnitCheck, selectOptions: OptionsUnitSystemFont },\r\n        { title: 'Separator', type: BlockType.Checkbox, checked: digit.json?.Separator ? true : false, onChange: onChangeSeparator },\r\n      ]\r\n    }\r\n  ], [digit])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function onChangeX(value: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.FontRotate.X = value;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeY(value: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.FontRotate.Y = value;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeColor(color: string) {\r\n    const d = { ...digit };\r\n    d.json.Digit.SystemFont.Color = Color.colorWrite(color);\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangePaddingZero(checked: boolean) {\r\n    const d = {...digit};\r\n    d.json.Digit.PaddingZero = checked;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeFollow(checked: boolean) {\r\n    const d = {...digit};\r\n    d.json.CombingMode = checked ? FollowType.Follow.json : FollowType.Single.json;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSpacing(value: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.Spacing = value;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSize(value: number) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.Size = value;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeRadius(value) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.FontRotate.Radius = value;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeAngle(value) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.Angle = value;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeSeparator() {\r\n    const d = {...digit};\r\n    if ( d.json.Separator) \r\n      d.json.Separator = null\r\n    else {\r\n      d.json.Separator = new ImageCoord()\r\n      d.json.Separator.Coordinates.X = -1\r\n      d.json.Separator.Coordinates.Y = -1\r\n    }\r\n    onUpdate(d);\r\n  }\r\n\r\n  function onChangeUnitCheck(value: string) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.ShowUnitCheck = parseInt(value);\r\n    onUpdate(d);\r\n  }\r\n \r\n  function onChangeDirection(value: string) {\r\n    const d = {...digit};\r\n    d.json.Digit.SystemFont.FontRotate.RotateDirection = parseInt(value);\r\n    onUpdate(d);\r\n  }\r\n \r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={digit.enabledSystemFontCircle}\r\n              onChange={() => {\r\n                const d = { ...digit };\r\n                d.enabledSystemFontCircle = !d.enabledSystemFontCircle;\r\n                d.enabled = d.enabledImage || d.enabledSystemFont || d.enabledSystemFontCircle\r\n                if ( !d.json.Digit.SystemFont) d.json.Digit.SystemFont = new SystemFont()\r\n                if ( !d.json.Digit.SystemFont.FontRotate) {\r\n                  d.json.Digit.SystemFont.FontRotate = new FontRotate()\r\n                }\r\n                onUpdate(d);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {digit.enabledSystemFontCircle ? (\r\n        <Card.Body>\r\n          { !onCopyFromNormal ? '' : <div style={{clear:'both'}}><button className='btn btn-sm btn-secondary mb-1' style={{float:'right'}} onClick={onCopyFromNormal}>Copy from normal screen</button></div> }\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default SystemFontCircleComponent;\r\n","import React, { FC } from 'react';\r\nimport { WatchCommonDigit } from '../../model/watchFace.model';\r\nimport ImageDigitComponent from './imageDigit.component';\r\nimport SystemFontComponent from './systemFont.component';\r\nimport SystemFontCircleComponent from './systemFontCircle.component';\r\n\r\ninterface IProps {\r\n    digit: WatchCommonDigit;\r\n    title: string;\r\n    onUpdate(digit: WatchCommonDigit): void;\r\n    showDecimalPointer: boolean;\r\n    showDelimiter: boolean;\r\n    showNoData: boolean;\r\n    paddingZeroFix: boolean;\r\n  }\r\n\r\nconst ActivityDigitComponent: FC<IProps> = ({\r\n    digit,\r\n    title,\r\n    onUpdate,\r\n    showDecimalPointer,\r\n    showDelimiter,\r\n    showNoData,\r\n    paddingZeroFix,\r\n  }) => {\r\n\r\n    return (\r\n        <div>\r\n            <ImageDigitComponent\r\n            title={`Numerical (${title})`}\r\n            digit={digit}\r\n            onUpdate={onUpdate}\r\n            showDecimalPointer={showDecimalPointer}\r\n            showDelimiter={showDelimiter}\r\n            showNoData={showNoData}\r\n            paddingZeroFix={paddingZeroFix}\r\n          />\r\n\r\n          <SystemFontComponent\r\n            title={`Systemfont Rotated (${title})`}\r\n            digit={digit}\r\n            onUpdate={onUpdate}\r\n            paddingZeroFix={paddingZeroFix}\r\n          />\r\n          <SystemFontCircleComponent\r\n            title={`Systemfont Circle (${title})`}\r\n            digit={digit}\r\n            onUpdate={onUpdate}\r\n            paddingZeroFix={paddingZeroFix}\r\n          />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ActivityDigitComponent","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\nimport { ClockHand, Coordinates, ImageCoord, MultilangImage, MultilangImageCoord } from \"../../model/json.model\";\r\nimport { LangCodeType } from \"../../model/types.model\";\r\nimport { WatchClockHand } from \"../../model/watchFace.model\";\r\n\r\ninterface IProps {\r\n  title: string,\r\n  clockHand: WatchClockHand;\r\n  onUpdate(clockHand: WatchClockHand): void;\r\n  showAngle: boolean;\r\n  onCopyFromNormal?(): void\r\n}\r\n\r\nconst ClockHandComponent: FC<IProps> = ({ title, clockHand, onUpdate, showAngle, onCopyFromNormal }) => {\r\n\r\n  const scaleImageSetIndex = useMemo<number>(() => findImageIndex(clockHand.json?.Scale?.ImageSet), [clockHand])\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Pointer', type: BlockType.SelectFile, nvalue: clockHand.json?.Pointer?.ImageIndex, onChange: changePointerImageIndex },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Center of rotation', type: BlockType.Empty },\r\n        { title: 'X', type: BlockType.Number, nvalue: clockHand.json?.X ? clockHand.json.X : 0, onChange: changeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: clockHand.json?.Y ? clockHand.json.Y : 0, onChange: changeY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Pointer offset', type: BlockType.Empty },\r\n        { title: 'X', type: BlockType.Number, nvalue: clockHand.json?.Pointer?.Coordinates?.X ? clockHand.json.Pointer.Coordinates.X : 0, onChange: changePointerX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: clockHand.json?.Pointer?.Coordinates?.Y ? clockHand.json.Pointer.Coordinates.Y : 0, onChange: changePointerY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Cover', type: BlockType.SelectFile, nvalue: clockHand.json?.Cover?.ImageIndex, onChange: changeCoverImageIndex },\r\n        { title: 'X', type: BlockType.Number, nvalue: clockHand.json?.Cover?.Coordinates?.X ? clockHand.json?.Cover?.Coordinates?.X : 0, onChange: changeCoverX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: clockHand.json?.Cover?.Coordinates?.Y ? clockHand.json?.Cover?.Coordinates?.Y : 0, onChange: changeCoverY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Scale', type: BlockType.SelectFile, nvalue: clockHand.json?.Scale?.ImageSet[scaleImageSetIndex]?.ImageSet?.ImageIndex, onChange: changeScaleImageIndex },\r\n        { title: 'X', type: BlockType.Number, nvalue: clockHand.json?.Scale?.Coordinates?.X ? clockHand.json?.Scale?.Coordinates?.X : 0, onChange: changeScaleX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: clockHand.json?.Scale?.Coordinates?.Y ? clockHand.json?.Scale?.Coordinates?.Y : 0, onChange: changeScaleY },\r\n      ]\r\n    },\r\n    {\r\n      disabled: !showAngle,\r\n      blocks: [\r\n        { title: 'Start angle', type: BlockType.Number, nvalue: clockHand.json?.StartAngle, onChange: changeStartAngle },\r\n        { title: 'End angle', type: BlockType.Number, nvalue: clockHand.json?.EndAngle, onChange: changeEndAngle },\r\n      ]\r\n    },\r\n  ], [clockHand]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function findImageIndex(ar: MultilangImage[]): number {\r\n    if (!ar) return null\r\n    let index = ar.findIndex((item) => item.LangCode === LangCodeType.All.json)\r\n    return index ? index : 0\r\n  }\r\n\r\n  function toggleClockHand(e) {\r\n    const ch = { ...clockHand };\r\n    ch.enabled = !ch.enabled;\r\n    if (ch.enabled && !ch.json) { ch.json = new ClockHand(); ch.json.StartAngle = 0; ch.json.EndAngle = 360; }\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeEndAngle(val: number) {\r\n    const ch = {...clockHand};\r\n    ch.json.EndAngle = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeStartAngle(val: number) {\r\n    const ch = {...clockHand};\r\n    ch.json.StartAngle = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changePointerImageIndex(i: number) {\r\n    let ch = {...clockHand};\r\n    if (!ch.json.Pointer) ch.json.Pointer = new ImageCoord()\r\n    ch.json.Pointer.ImageIndex = i;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeX(val: number) {\r\n    const ch = {...clockHand};\r\n    ch.json.X = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeY(val: number) {\r\n    const ch = {...clockHand};\r\n    ch.json.Y = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changePointerX(val: number) {\r\n    const ch = {...clockHand};\r\n    if (!ch.json.Pointer) ch.json.Pointer = new ImageCoord()\r\n    if (!ch.json.Pointer.Coordinates) ch.json.Pointer.Coordinates = new Coordinates()\r\n    ch.json.Pointer.Coordinates.X = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changePointerY(val: number) {\r\n    const ch = {...clockHand};\r\n    if (!ch.json.Pointer) ch.json.Pointer = new ImageCoord()\r\n    if (!ch.json.Pointer.Coordinates) ch.json.Pointer.Coordinates = new Coordinates()\r\n    ch.json.Pointer.Coordinates.Y = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeCoverImageIndex(i: number) {\r\n    let ch = {...clockHand};\r\n    if (!ch.json.Cover) ch.json.Cover = new ImageCoord()\r\n    ch.json.Cover.ImageIndex = i;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeCoverX(val: number) {\r\n    const ch = {...clockHand};\r\n    if (!ch.json.Cover) ch.json.Cover = new ImageCoord()\r\n    if (!ch.json.Cover.Coordinates) ch.json.Cover.Coordinates = new Coordinates()\r\n    ch.json.Cover.Coordinates.X = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeCoverY(val: number) {\r\n    const ch = {...clockHand};\r\n    if (!ch.json.Cover) ch.json.Cover = new ImageCoord()\r\n    if (!ch.json.Cover.Coordinates) ch.json.Cover.Coordinates = new Coordinates()\r\n    ch.json.Cover.Coordinates.Y = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeScaleImageIndex(i: number) {\r\n    let ch = {...clockHand};\r\n    if (!ch.json.Scale) {\r\n      ch.json.Scale = new MultilangImageCoord()\r\n      ch.json.Scale.ImageSet[0].ImageSet.ImageIndex = i;\r\n    } else {\r\n      ch.json.Scale.ImageSet[scaleImageSetIndex].ImageSet.ImageIndex = i;\r\n    }\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeScaleX(val: number) {\r\n    const ch = {...clockHand};\r\n    if (!ch.json.Scale) ch.json.Scale = new MultilangImageCoord()\r\n    if (!ch.json.Scale.Coordinates) ch.json.Scale.Coordinates = new Coordinates()\r\n    ch.json.Scale.Coordinates.X = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  function changeScaleY(val: number) {\r\n    const ch = {...clockHand};\r\n    if (!ch.json.Scale) ch.json.Scale = new MultilangImageCoord()\r\n    if (!ch.json.Scale.Coordinates) ch.json.Scale.Coordinates = new Coordinates()\r\n    ch.json.Scale.Coordinates.Y = val;\r\n    onUpdate(ch);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={clockHand.enabled}\r\n              onChange={toggleClockHand}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {clockHand.enabled ? (\r\n        <Card.Body>\r\n          {!onCopyFromNormal ? '' : <div style={{ clear: 'both' }}><button className='btn btn-sm btn-secondary mb-1' style={{ float: 'right' }} onClick={onCopyFromNormal}>Copy from normal screen</button></div>}\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n\r\n\r\n};\r\n\r\nexport default ClockHandComponent;\r\n","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\nimport { WatchImageCoords } from \"../../model/watchFace.model\";\r\n\r\ninterface IProps {\r\n  title: string;\r\n  imageCoords: WatchImageCoords;\r\n  onUpdate(imageCoords: WatchImageCoords): void;\r\n}\r\n\r\nconst ImageCoordsComponent: FC<IProps> = ({ title, imageCoords, onUpdate }) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Image', type: BlockType.SelectFile, nvalue: imageCoords.json.ImageIndex, onChange: onChangeImageIndex },\r\n        { title: 'X', type: BlockType.Number, nvalue: imageCoords.json.Coordinates.X, onChange: onChangeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: imageCoords.json.Coordinates.Y, onChange: onChangeY },\r\n      ]\r\n    }\r\n  ], [imageCoords]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function onChangeImageIndex(index: number) {\r\n    const ip = { ...imageCoords };\r\n    ip.json.ImageIndex = index;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function onChangeX(val: number) {\r\n    const ip = { ...imageCoords };\r\n    ip.json.Coordinates.X = val;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function onChangeY(val: number) {\r\n    const ip = { ...imageCoords };\r\n    ip.json.Coordinates.Y = val;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={imageCoords.enabled}\r\n              onChange={() => {\r\n                const ic: WatchImageCoords = { ...imageCoords };\r\n                ic.enabled = !ic.enabled;\r\n                onUpdate(ic);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {imageCoords.enabled ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ImageCoordsComponent;\r\n","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { WatchImageProgress } from \"../../model/watchFace.model\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { Coordinates } from \"../../model/json.model\";\r\n\r\ninterface IProps {\r\n  imageProgress: WatchImageProgress;\r\n  onUpdate(imageProgress: WatchImageProgress): void;\r\n}\r\n\r\nconst ImageProgressComponent: FC<IProps> = ({ imageProgress, onUpdate }) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Image', type: BlockType.SelectFile, nvalue: imageProgress.json?.ImageSet?.ImageIndex, onChange: changeImageIndex },\r\n        { title: 'Count', type: BlockType.Number, nvalue: imageProgress.json?.ImageSet?.ImagesCount, onChange: changeCount },\r\n      ]\r\n    },\r\n    ], [imageProgress]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function toggle() {\r\n    const ip = { ...imageProgress };\r\n    ip.enabled = !ip.enabled;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeImageIndex(i: number) {\r\n    let ip = { ...imageProgress };\r\n    ip.json.ImageSet.ImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeCount(val: number) {\r\n    const d = { ...imageProgress };\r\n    d.json.ImageSet.ImagesCount = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeX(val: number, index: number) {\r\n    const d = {...imageProgress};\r\n    d.json.Coordinates[index].X = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeY(val: number, index: number) {\r\n    const d = {...imageProgress};\r\n    d.json.Coordinates[index].Y = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function addCoordinates() {\r\n    const d = {...imageProgress};\r\n    let coords = new Coordinates();\r\n    coords.X = d.json.Coordinates.length > 0 ? d.json.Coordinates[d.json.Coordinates.length-1].X : 0\r\n    coords.Y = d.json.Coordinates.length > 0 ? d.json.Coordinates[d.json.Coordinates.length-1].Y : 0\r\n    d.json.Coordinates.push(coords)\r\n    onUpdate(d)\r\n  }\r\n\r\n  function onDelete(index: number) {\r\n    const d = {...imageProgress};\r\n    d.json.Coordinates.splice(index, 1)\r\n    onUpdate(d)\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">Image Progress</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={imageProgress.enabled}\r\n              onChange={toggle}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {imageProgress.enabled ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n          <Card className=\"mt-1\">\r\n            <Card.Header\r\n              className=\"input-group input-group-sm d-flex justify-content-between\">\r\n            <span>Coordinates</span>\r\n            <button className=\"btn btn-outline-success\" type=\"button\" title=\"add coordinates\" onClick={addCoordinates}>Add</button>\r\n            </Card.Header>\r\n          <BlocksArrayComponent ar={ \r\n            imageProgress.json.Coordinates.map((coords, index) => \r\n            ({\r\n              blocks: [\r\n                { title: `${index}`, type: BlockType.Empty },\r\n                { title: 'X', type: BlockType.Number, nvalue: coords.X ? coords.X : 0, onChange: (e) => changeX(e, index) },\r\n                { title: 'Y', type: BlockType.Number, nvalue: coords.Y ? coords.Y : 0, onChange: (e) => changeY(e, index) },\r\n              ],\r\n              onDelete: index > 0 ? () => onDelete(index) : null,\r\n              showDelete: true\r\n            }))\r\n          }\r\n          />\r\n          </Card> \r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ImageProgressComponent;\r\n","import React, { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow, OptionsLineEndingCircle } from \"../../model/blocks.model\";\r\nimport { AngleSettings, ProgressBar } from \"../../model/json.model\";\r\nimport { WatchProgressBar } from \"../../model/watchFace.model\";\r\nimport Color from \"../../shared/color\";\r\n\r\ninterface IProps {\r\n  progressBar: WatchProgressBar;\r\n  onUpdate(progressBar: WatchProgressBar): void;\r\n}\r\n\r\nconst ProgressbarCircleCodmponent: FC<IProps> = ({ progressBar, onUpdate }) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Center', type: BlockType.Empty },\r\n        { title: 'X', type: BlockType.Number, nvalue: progressBar.jsonObj?.AngleSettings?.X ? progressBar.jsonObj.AngleSettings.X : 0, onChange: changeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: progressBar.jsonObj?.AngleSettings?.Y ? progressBar.jsonObj.AngleSettings.Y : 0, onChange: changeY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Radius', type: BlockType.Number, nvalue: progressBar.jsonObj?.AngleSettings?.Radius ? progressBar.jsonObj.AngleSettings.Radius : 0, onChange: changeRadius },\r\n        { title: 'Width', type: BlockType.Number, nvalue: progressBar.jsonObj?.Width ? progressBar.jsonObj.Width : 0, onChange: changeWidth, min: 0, max: 100 },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Start angle', type: BlockType.Number, nvalue: progressBar.jsonObj?.AngleSettings?.StartAngle ? progressBar.jsonObj.AngleSettings.StartAngle : 0, onChange: changeStartAngle },\r\n        { title: 'End angle', type: BlockType.Number, nvalue: progressBar.jsonObj?.AngleSettings?.EndAngle ? progressBar.jsonObj.AngleSettings.EndAngle : 0, onChange: changeEndAngle },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Foreground', type: BlockType.SelectFile, nvalue: progressBar.jsonObj?.ForegroundImageIndex, onChange: changeForegroundImageIndex },\r\n        { title: 'Color', type: BlockType.Color, svalue: progressBar.jsonObj?.Color ? Color.colorRead(progressBar.jsonObj.Color) : Color.DEFAULT_COLOR, onChange: changeColor },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Line ending', type: BlockType.Select, svalue: progressBar.jsonObj?.Flatness ? progressBar.jsonObj.Flatness.toString() : '0', onChange: changeLineEnding, selectOptions: OptionsLineEndingCircle },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Pointer', type: BlockType.SelectFile, nvalue: progressBar.jsonObj?.PointerImageIndex, onChange: changePointerImageIndex },\r\n        { title: 'Background image', type: BlockType.SelectFile, nvalue: progressBar.jsonObj?.BackgroundImageIndex, onChange: changeBackgroundImageIndex },\r\n      ]\r\n    },\r\n   ], [progressBar]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function changeLineEnding(val: string) {\r\n    const pBar = { ...progressBar };\r\n    pBar.jsonObj.Flatness = parseInt(val)\r\n    onUpdate(pBar);\r\n  }\r\n\r\n  function toggle() {\r\n    const pb = { ...progressBar };\r\n    pb.enabledCircle = !pb.enabledCircle;\r\n    if (!pb.jsonObj)\r\n      pb.jsonObj = new ProgressBar();\r\n    if (!pb.jsonObj.AngleSettings)\r\n      pb.jsonObj.AngleSettings = new AngleSettings();\r\n    onUpdate(pb);\r\n  }\r\n\r\n  function changeX(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.AngleSettings.X = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeY(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.AngleSettings.Y = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeRadius(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.AngleSettings.Radius = Math.abs(val);\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeWidth(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.Width = Math.max(0, Math.min(val, 100));\r\n    onUpdate(d)\r\n  }\r\n\r\n  function changeStartAngle(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.AngleSettings.StartAngle = val;\r\n    onUpdate(d)\r\n  }\r\n\r\n  function changeEndAngle(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.AngleSettings.EndAngle = val;\r\n    onUpdate(d)\r\n  }\r\n\r\n  function changeForegroundImageIndex(i: number) {\r\n    const ip = { ...progressBar };\r\n    ip.jsonObj.ForegroundImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeColor(color: string) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.Color = Color.colorWrite(color);\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changePointerImageIndex(i: number) {\r\n    const ip = { ...progressBar };\r\n    ip.jsonObj.PointerImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeBackgroundImageIndex(i: number) {\r\n    const ip = { ...progressBar };\r\n    ip.jsonObj.BackgroundImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">Progress circle</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={progressBar.enabledCircle}\r\n              onChange={toggle}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {progressBar.enabledCircle ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ProgressbarCircleCodmponent;\r\n","import React, { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport Color from \"../../shared/color\";\r\nimport { LinearSettings, ProgressBar } from \"../../model/json.model\";\r\nimport { WatchProgressBar } from \"../../model/watchFace.model\";\r\nimport { BlockType, IRow, OptionsLineEndingLine } from \"../../model/blocks.model\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\n\r\ninterface IProps {\r\n  progressBar: WatchProgressBar;\r\n  onUpdate(progressBar: WatchProgressBar): void;\r\n}\r\n\r\nconst ProgressbarLinearCodmponent: FC<IProps> = ({ progressBar, onUpdate }) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'X', type: BlockType.Number, nvalue: progressBar.jsonObj?.LinearSettings?.StartX ? progressBar.jsonObj.LinearSettings.StartX : 0, onChange: changeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: progressBar.jsonObj?.LinearSettings?.StartY ? progressBar.jsonObj.LinearSettings.StartY : 0, onChange: changeY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Length', type: BlockType.Number, nvalue: progressBar.jsonObj?.LinearSettings?.EndX ? (progressBar.jsonObj.LinearSettings.EndX - progressBar.jsonObj.LinearSettings.StartX) : 0, onChange: changeLength },\r\n        { title: 'Width', type: BlockType.Number, nvalue: progressBar.jsonObj?.Width ? progressBar.jsonObj.Width : 0, onChange: changeWidth, min: 0 },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Foreground', type: BlockType.SelectFile, nvalue: progressBar.jsonObj?.ForegroundImageIndex, onChange: changeForegroundImageIndex },\r\n        { title: 'Color', type: BlockType.Color, svalue: progressBar.jsonObj?.Color ? Color.colorRead(progressBar.jsonObj.Color) : Color.DEFAULT_COLOR, onChange: changeColor },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Line ending', type: BlockType.Select, svalue: progressBar.jsonObj?.Flatness ? progressBar.jsonObj.Flatness.toString() : '0', onChange: changeLineEnding, selectOptions: OptionsLineEndingLine },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Pointer', type: BlockType.SelectFile, nvalue: progressBar.jsonObj?.PointerImageIndex, onChange: changePointerImageIndex },\r\n        { title: 'Background image', type: BlockType.SelectFile, nvalue: progressBar.jsonObj?.BackgroundImageIndex, onChange: changeBackgroundImageIndex },\r\n      ]\r\n    },\r\n   ], [progressBar]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  \r\n   function toggle() {\r\n    const pb = { ...progressBar };\r\n    pb.enabledLinear = !pb.enabledLinear;\r\n    if (!pb.jsonObj)\r\n      pb.jsonObj = new ProgressBar();\r\n    if (!pb.jsonObj.LinearSettings)\r\n      pb.jsonObj.LinearSettings = new LinearSettings();\r\n    onUpdate(pb);\r\n  }\r\n\r\n  function changeX(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.LinearSettings.StartX = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeY(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.LinearSettings.StartY = val;\r\n    d.jsonObj.LinearSettings.EndY = val;\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeLength(val: number) {\r\n    const d = { ...progressBar };\r\n    let start = d.jsonObj?.LinearSettings?.StartX ? d.jsonObj.LinearSettings.StartX : 0\r\n    d.jsonObj.LinearSettings.EndX = start + Math.abs(val);\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changeWidth(val: number) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.Width = Math.max(0, val);\r\n    onUpdate(d)\r\n  }\r\n\r\n  function changeForegroundImageIndex(i: number) {\r\n    const ip = { ...progressBar };\r\n    ip.jsonObj.ForegroundImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeColor(color: string) {\r\n    const d = { ...progressBar };\r\n    d.jsonObj.Color = Color.colorWrite(color);\r\n    onUpdate(d);\r\n  }\r\n\r\n  function changePointerImageIndex(i: number) {\r\n    const ip = { ...progressBar };\r\n    ip.jsonObj.PointerImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeBackgroundImageIndex(i: number) {\r\n    const ip = { ...progressBar };\r\n    ip.jsonObj.BackgroundImageIndex = i;\r\n    onUpdate(ip);\r\n  }\r\n\r\n\r\n  function changeLineEnding(val: string) {\r\n    const pBar = { ...progressBar };\r\n    const value = parseInt(val);\r\n    if (!isNaN(value)) pBar.jsonObj.Flatness = value;\r\n    else pBar.jsonObj.Flatness = 0;\r\n    onUpdate(pBar);\r\n  }\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">Progress linear</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={progressBar.enabledLinear}\r\n              onChange={toggle}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {progressBar.enabledLinear ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ProgressbarLinearCodmponent;\r\n","import { FC } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { ActivityType } from \"../../model/types.model\";\r\nimport { WatchActivity, WatchCommonDigit } from \"../../model/watchFace.model\";\r\nimport ActivityDigitComponent from \"./activityDigit.component\";\r\nimport ClockHandComponent from \"./clockHand.component\";\r\nimport ImageCoordsComponent from \"./imageCoords.component\";\r\nimport ImageProgressComponent from \"./imageProgress.component\";\r\nimport ProgressbarCircleCodmponent from \"./progressbarCircle.component\";\r\nimport ProgressbarLinearCodmponent from \"./progressbarLinear.component\";\r\n\r\n\r\ninterface IProps {\r\n  activity: WatchActivity;\r\n  title: string;\r\n  onUpdateActivity(activity: WatchActivity): void;\r\n  onDelete(e): void;\r\n  showDecimalPointer?: boolean;\r\n  showDelimiter?: boolean;\r\n  showNoData?: boolean;\r\n  paddingZeroFix?: boolean;\r\n  showProgress?: boolean;\r\n  onCopy?(): void;\r\n  titleDefault?: string;\r\n  titleMin?: string;\r\n  titleMax?: string;\r\n}\r\n\r\nconst ActivityComponent: FC<IProps> = ({\r\n  activity,\r\n  title,\r\n  onUpdateActivity,\r\n  showDecimalPointer,\r\n  showDelimiter,\r\n  showNoData,\r\n  paddingZeroFix,\r\n  showProgress,\r\n  onCopy,\r\n  onDelete,\r\n  titleDefault,\r\n  titleMin,\r\n  titleMax,\r\n}) => {\r\n\r\n  function onUpdateDigit(d: WatchCommonDigit) {\r\n    let a = { ...activity }\r\n    a.digit = { ...d }\r\n    onUpdateActivity(a)\r\n  }\r\n\r\n  function onUpdateDigitMin(d: WatchCommonDigit) {\r\n    let a = { ...activity }\r\n    a.digitMin = { ...d }\r\n    onUpdateActivity(a)\r\n  }\r\n\r\n  function onUpdateDigitMax(d: WatchCommonDigit) {\r\n    let a = { ...activity }\r\n    a.digitMax = { ...d }\r\n    onUpdateActivity(a)\r\n  }\r\n\r\n  return (\r\n    <Card className=\"activity w-100\">\r\n      <Card.Header\r\n        className=\"d-flex justify-content-between align-items-center\"\r\n        onClick={() => {\r\n          let a = { ...activity };\r\n          a.collapsed = !a.collapsed;\r\n          onUpdateActivity(a);\r\n        }}>\r\n        <span className=\"input-group-text\">{title}</span>\r\n        <button className=\"btn btn-outline-danger\" type=\"button\" onClick={(e) => { e.stopPropagation(); onDelete(e); }}>Delete</button>\r\n      </Card.Header>\r\n      {!activity.collapsed ? (\r\n        <Card.Body>\r\n          {!onCopy ? '' : <button className='btn btn-outline-secondary btn-sm' onClick={onCopy}>Copy from normal screen</button>}\r\n\r\n          {activity.type === ActivityType.Weather ?\r\n            <div className=\"alert alert-info\" role=\"alert\">\r\n              In order to center the temperature correctly under the weather Icon \r\n              (only if weather icon as ImageProgress is enabled), weather icon should \r\n              be defined in separated activity and placed before \r\n              activity with temperature.\r\n            </div> : ''}\r\n          <ActivityDigitComponent\r\n            digit={activity.digit}\r\n            title={titleDefault ? titleDefault : title}\r\n            onUpdate={onUpdateDigit}\r\n            showDecimalPointer={showDecimalPointer}\r\n            showDelimiter={showDelimiter}\r\n            showNoData={showNoData}\r\n            paddingZeroFix={paddingZeroFix}\r\n          />\r\n\r\n          {titleMin ?\r\n            <ActivityDigitComponent\r\n              digit={activity.digitMin}\r\n              title={titleMin}\r\n              onUpdate={onUpdateDigitMin}\r\n              showDecimalPointer={showDecimalPointer}\r\n              showDelimiter={showDelimiter}\r\n              showNoData={showNoData}\r\n              paddingZeroFix={paddingZeroFix}\r\n            /> : ''}\r\n\r\n          {titleMax ?\r\n            <ActivityDigitComponent\r\n              digit={activity.digitMax}\r\n              title={titleMax}\r\n              onUpdate={onUpdateDigitMax}\r\n              showDecimalPointer={showDecimalPointer}\r\n              showDelimiter={showDelimiter}\r\n              showNoData={showNoData}\r\n              paddingZeroFix={paddingZeroFix}\r\n            /> : ''}\r\n\r\n          {showProgress === undefined || showProgress === true ?\r\n            <>\r\n              <ImageProgressComponent\r\n                imageProgress={activity.imageProgress}\r\n                onUpdate={(d) => {\r\n                  const a = { ...activity };\r\n                  a.imageProgress = d;\r\n                  onUpdateActivity(a);\r\n                }}\r\n              />\r\n              <ProgressbarCircleCodmponent\r\n                progressBar={activity.progressBar}\r\n                onUpdate={(d) => {\r\n                  const a = { ...activity };\r\n                  a.progressBar = d;\r\n                  onUpdateActivity(a);\r\n                }}\r\n              />\r\n              <ProgressbarLinearCodmponent\r\n                progressBar={activity.progressBar}\r\n                onUpdate={(d) => {\r\n                  const a = { ...activity };\r\n                  a.progressBar = d;\r\n                  onUpdateActivity(a);\r\n                }}\r\n              />\r\n              <ClockHandComponent\r\n                title=\"Pointer Progress\"\r\n                clockHand={activity.pointerProgress}\r\n                onUpdate={(ch) => {\r\n                  const a = { ...activity };\r\n                  a.pointerProgress = ch;\r\n                  onUpdateActivity(a);\r\n                }}\r\n                showAngle={true}\r\n              />\r\n            </> : \"\"}\r\n          {activity.icon ? (\r\n            <ImageCoordsComponent\r\n              title=\"Icon\"\r\n              imageCoords={activity.icon}\r\n              onUpdate={(ip) => {\r\n                const a = { ...activity };\r\n                a.icon = ip;\r\n                onUpdateActivity(a);\r\n              }}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ActivityComponent;\r\n","import { FC, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { ActivityType, JsonType } from \"../../model/types.model\";\r\nimport { getActivityFromJson, WatchActivity } from \"../../model/watchFace.model\";\r\nimport DnDListComponent, { IDNDItem } from \"../../shared/draganddroplist.component\";\r\nimport ActivityComponent from \"./activity.component\";\r\n\r\n\r\ninterface IProps {\r\n  activitys: WatchActivity[];\r\n  onUpdate(activitys: WatchActivity[]): void;\r\n  collapsed: boolean;\r\n  setCollapsed(collapsed: boolean): void\r\n}\r\n\r\nconst ActivityListComponent: FC<IProps> = ({activitys, onUpdate, collapsed, setCollapsed}) => {\r\n\r\n  const [activityToAdd, setActivityToAdd] = useState<number>(ActivityType.Battery.index);\r\n\r\n  function updateOrder(list: IDNDItem<WatchActivity>[]) {\r\n    let al = list.map((value) => value.item)\r\n    onUpdate(al)\r\n  }\r\n\r\n  function updateActivity(index: number, a: WatchActivity) {\r\n    let al = [...activitys]\r\n    al[index] = {...a}\r\n    onUpdate(al)\r\n  }\r\n\r\n  function addActivity(e) {\r\n    e.stopPropagation()\r\n    if (activityToAdd) {\r\n      let _a = getActivityFromJson(null, ActivityType.findByIndex(activityToAdd) )\r\n      if (_a) {\r\n        let al = [...activitys]\r\n        al.push(_a)\r\n        onUpdate(al)\r\n      }\r\n    }\r\n  }\r\n\r\n  function deleteActivity(e, index: number) {\r\n    e.stopPropagation()\r\n    if ( window.confirm(`would you delete this \"${activitys[index].digit.con.title}\" activity?`)) {\r\n      let al = [...activitys]\r\n      al.splice(index, 1)\r\n      onUpdate(al)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header className=\"d-flex justify-content-between align-items-center\"\r\n        title='Click to open / close'\r\n        onClick={() => {\r\n          setCollapsed(!collapsed)\r\n        }}\r\n      >\r\n        Activity [{activitys?.length}]\r\n        <span className=\"d-flex flex-nowrap\">\r\n          <select className=\"form-select\" \r\n            onChange={(e) => setActivityToAdd(parseInt(e.target.value))}\r\n            onClick={(e) => e.stopPropagation()}\r\n            value={activityToAdd}\r\n            >\r\n              {\r\n                Object.keys(ActivityType).map((key) => \r\n                  ActivityType[key] instanceof JsonType ?\r\n                    <option key={ActivityType[key].index} value={ActivityType[key].index}>{ActivityType[key].json}</option>\r\n                    : ''\r\n                )\r\n              }\r\n          </select>\r\n          <button className=\"btn btn-outline-success\" type=\"button\" onClick={addActivity}>Add</button>\r\n        </span>\r\n      </Card.Header>\r\n      { !collapsed  ? (\r\n        <Card.Body>\r\n          {activitys?.length > 0 ? \r\n              <DnDListComponent\r\n              _list={activitys.map((item, index) => ( { item: item, reactItem:\r\n                <ActivityComponent\r\n                  key={item.key}\r\n                  activity={item}\r\n                  onUpdateActivity={(a) => updateActivity(index, a)}\r\n                  onDelete={(e) => deleteActivity(e, index)}\r\n                  showNoData={true}\r\n                  showDecimalPointer={item.type === ActivityType.Distance}\r\n                  showProgress={item.type !== ActivityType.Distance}\r\n                  showDelimiter={item.type === ActivityType.Weather}\r\n                  title={item.digit ? item.digit.con.title : null}\r\n                  titleDefault={item.digit ? item.digit.con.titleDefault : null}\r\n                  titleMin={item.digitMin ? item.digitMin.con.titleMin : null}\r\n                  titleMax={item.digitMax ? item.digitMax.con.titleMax : null}\r\n                />})\r\n              )}\r\n              updateOrder={updateOrder}\r\n              />\r\n          : 'no activitys addes'}\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ActivityListComponent;\r\n","import React, { FC, useContext, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\n\r\nconst BackgroundComponent: FC = () => {\r\n  const { watchface, setWatchface } = useContext<IWatchContext>(WatchfaceContext)\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Preview', type: BlockType.SelectFile, nvalue: watchface.background.previewIndex, onChange: onChangeBackgroundPreviewImage },\r\n        { title: 'Background', type: BlockType.SelectFile, nvalue: watchface.background.imageIndex, onChange: onChangeBackgroundImageIndex },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Color', type: BlockType.Color, svalue: watchface.background.color, onChange: onChangeBackgroundColor },\r\n      ]\r\n    }\r\n  ], [watchface.background])  // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function onChangeBackgroundPreviewImage(index: number) {\r\n    setWatchface({\r\n      ...watchface,\r\n      background: { ...watchface.background, previewIndex: index },\r\n    });\r\n  }\r\n\r\n  function onChangeBackgroundImageIndex(index: number) {\r\n    setWatchface({\r\n      ...watchface,\r\n      background: { ...watchface.background, imageIndex: index },\r\n    });\r\n  }\r\n\r\n  function onChangeBackgroundColor(value: string) {\r\n    setWatchface({\r\n      ...watchface,\r\n      background: { ...watchface.background, color: value },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        className=\"clickable\"\r\n        onClick={() => {\r\n          let w = { ...watchface };\r\n          w.background.collapsed = !w.background.collapsed;\r\n          setWatchface(w);\r\n        }}\r\n      >\r\n        Background\r\n      </Card.Header>\r\n      {!watchface.background.collapsed ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BackgroundComponent;\r\n","import { FC, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { ElementOrderItem, WatchCommonDigit, WatchDate } from \"../../model/watchFace.model\";\r\nimport DnDListComponent, { IDNDItem } from \"../../shared/draganddroplist.component\";\r\nimport ImageDigitComponent from \"./imageDigit.component\";\r\nimport SystemFontComponent from \"./systemFont.component\";\r\nimport SystemFontCircleComponent from \"./systemFontCircle.component\";\r\n\r\ninterface IProps {\r\n  date: WatchDate,\r\n  onUpdate(date: WatchDate): void,\r\n  collapsed: boolean,\r\n  setCollapsed(collapsed: boolean): void,\r\n}\r\n\r\nconst DateComponent: FC<IProps> = ({ date, onUpdate, collapsed, setCollapsed }) => {\r\n\r\n  const [collapsedOrderElement, setCollapsedOrderelement] = useState<boolean>(true)\r\n\r\n  function updateDay(d: WatchCommonDigit) {\r\n    const _date = { ...date };\r\n    _date.day = d;\r\n    onUpdate(_date);\r\n  }\r\n  function updateMonth(d: WatchCommonDigit) {\r\n    const _date = { ...date };\r\n    _date.month = d;\r\n    onUpdate(_date);\r\n  }\r\n  function updateMonthAsWord(d: WatchCommonDigit) {\r\n    const _date = { ...date };\r\n    _date.monthAsWord = d;\r\n    onUpdate(_date);\r\n  }\r\n  function updateYear(d: WatchCommonDigit) {\r\n    const _date = { ...date };\r\n    _date.year = d;\r\n    onUpdate(_date);\r\n  }\r\n  function updateWeekday(d: WatchCommonDigit) {\r\n    const _date = { ...date };\r\n    _date.weekDay = d;\r\n    onUpdate(_date);\r\n  }\r\n\r\n  function ononUpdateOrder(list: IDNDItem<ElementOrderItem>[]) {\r\n    const _date = { ...date };\r\n    _date.orderElements = list.map((item) => item.item)\r\n    onUpdate(_date)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Card>\r\n        <Card.Header\r\n          onClick={() => {\r\n            setCollapsed(!collapsed);\r\n          }}\r\n        >\r\n          Date\r\n        </Card.Header>\r\n        <Card.Body className={`${collapsed ? \"collapse\" : \"\"}`}>\r\n\r\n          <Card className='mb-1'>\r\n            <Card.Header\r\n                      onClick={() => {\r\n                        setCollapsedOrderelement(!collapsedOrderElement);\r\n                      }}>\r\n              Order of date elements\r\n            </Card.Header>\r\n              { !collapsedOrderElement ? \r\n            <Card.Body>\r\n              <DnDListComponent\r\n                _list={date.orderElements.map((value) => ({ item: value, reactItem: value.title }))}\r\n                updateOrder={ononUpdateOrder} />\r\n            </Card.Body>\r\n               : '' }\r\n          </Card>\r\n\r\n          <ImageDigitComponent\r\n            title=\"Day Digit\"\r\n            digit={date.day}\r\n            onUpdate={updateDay}\r\n          />\r\n          <SystemFontComponent\r\n            title=\"Day Systemfont Rotated\"\r\n            digit={date.day}\r\n            onUpdate={updateDay}\r\n          />\r\n          <SystemFontCircleComponent\r\n            title=\"Day Systemfont Circle\"\r\n            digit={date.day}\r\n            onUpdate={updateDay}\r\n          />\r\n\r\n          <ImageDigitComponent\r\n            title=\"Month\"\r\n            digit={date.month}\r\n            onUpdate={updateMonth}\r\n          />\r\n          <SystemFontComponent\r\n            title=\"Month Systemfont Rotated\"\r\n            digit={date.month}\r\n            onUpdate={updateMonth}\r\n          />\r\n          <SystemFontCircleComponent\r\n            title=\"Month Systemfont Circle\"\r\n            digit={date.month}\r\n            onUpdate={updateMonth}\r\n          />\r\n          <ImageDigitComponent\r\n            title=\"Month as word\"\r\n            digit={date.monthAsWord}\r\n            onUpdate={updateMonthAsWord}\r\n            paddingZeroFix={true}\r\n          />\r\n          <ImageDigitComponent\r\n            title=\"Year\"\r\n            digit={date.year}\r\n            onUpdate={updateYear}\r\n          />\r\n          <SystemFontComponent\r\n            title=\"Year Systemfont Rotated\"\r\n            digit={date.year}\r\n            onUpdate={updateYear}\r\n          />\r\n          <SystemFontCircleComponent\r\n            title=\"Year Systemfont Circle\"\r\n            digit={date.year}\r\n            onUpdate={updateYear}\r\n          />\r\n          <ImageDigitComponent\r\n            title=\"Weekday\"\r\n            digit={date.weekDay}\r\n            onUpdate={updateWeekday}\r\n            paddingZeroFix={true}\r\n          />\r\n        </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DateComponent;\r\n","import { FC, useContext, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WatchStatus } from \"../../model/watchFace.model\";\r\nimport ImageCoordsComponent from \"./imageCoords.component\";\r\n\r\nconst StatusComponent: FC = () => {\r\n  const { watchface, setWatchface } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  const [collapsed, setCollapsed] = useState<boolean>(true);\r\n\r\n  function updateStatus(status: WatchStatus) {\r\n    setWatchface({ ...watchface, status: status });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        onClick={() => {\r\n          setCollapsed(!collapsed);\r\n        }}\r\n      >\r\n        Status\r\n      </Card.Header>\r\n      <Card.Body className={`${collapsed ? \"collapse\" : \"\"}`}>\r\n        <ImageCoordsComponent\r\n          title=\"Bluetooth\"\r\n          imageCoords={watchface.status.bluetooth}\r\n          onUpdate={(ic) => {\r\n            const status: WatchStatus = {...watchface.status, bluetooth: ic}\r\n            updateStatus(status)\r\n          }}\r\n        />\r\n        <ImageCoordsComponent\r\n          title=\"Do Not Disturb\"\r\n          imageCoords={watchface.status.dnd}\r\n          onUpdate={(ic) => {\r\n            const status: WatchStatus = {...watchface.status, dnd: ic}\r\n            updateStatus(status)\r\n          }}\r\n        />\r\n        <ImageCoordsComponent\r\n          title=\"Alarm\"\r\n          imageCoords={watchface.status.alarm}\r\n          onUpdate={(ic) => {\r\n            const status: WatchStatus = {...watchface.status, alarm: ic}\r\n            updateStatus(status)\r\n          }}\r\n        />\r\n        <ImageCoordsComponent\r\n          title=\"Lock\"\r\n          imageCoords={watchface.status.lock}\r\n          onUpdate={(ic) => {\r\n            const status: WatchStatus = {...watchface.status, lock: ic}\r\n            updateStatus(status)\r\n          }}\r\n        />\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\nexport default StatusComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport ClockHandComponent from \"./clockHand.component\";\r\n\r\ninterface IProps {\r\n  collapsed: boolean,\r\n  setCollapsed(collapsed: boolean): void,\r\n}\r\n\r\nconst TimeAnalogComponent: FC<IProps> = ({collapsed = true, setCollapsed}) => {\r\n  const { watchface, setWatchface } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        onClick={() => {\r\n          setCollapsed(!collapsed);\r\n        }}\r\n      >\r\n        Time Analog\r\n      </Card.Header>\r\n      <Card.Body className={`${collapsed ? \"collapse\" : \"\"}`}>\r\n        <ClockHandComponent\r\n          title=\"Hours\"\r\n          clockHand={watchface.dialFace.hoursClockhand}\r\n          showAngle={false}\r\n          onUpdate={(ch) => {\r\n            const w = { ...watchface };\r\n            w.dialFace.hoursClockhand = ch;\r\n            setWatchface(w);\r\n          }}\r\n        />\r\n\r\n        <ClockHandComponent\r\n          title=\"Minutes\"\r\n          clockHand={watchface.dialFace.minutesClockhand}\r\n          onUpdate={(ch) => {\r\n            const d = { ...watchface };\r\n            d.dialFace.minutesClockhand = ch;\r\n            setWatchface(d);\r\n          }}\r\n          showAngle={false}\r\n        />\r\n\r\n        <ClockHandComponent\r\n          title=\"Seconds\"\r\n          clockHand={watchface.dialFace.secondsClockhand}\r\n          onUpdate={(ch) => {\r\n            const w = { ...watchface };\r\n            w.dialFace.secondsClockhand = ch;\r\n            setWatchface(w);\r\n          }}\r\n          showAngle={false}\r\n        />\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TimeAnalogComponent;\r\n","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\nimport { Coordinates, MultilangImage } from \"../../model/json.model\";\r\nimport { LangCodeType } from \"../../model/types.model\";\r\nimport { WatchMultilangImageCoords } from \"../../model/watchFace.model\";\r\n\r\n\r\ninterface IProps {\r\n  title: string;\r\n  imageCoords: WatchMultilangImageCoords;\r\n  onUpdate(imageCoords: WatchMultilangImageCoords): void;\r\n}\r\n\r\nconst MultilangImageCoordsComponent: FC<IProps> = ({ title, imageCoords, onUpdate }) => {\r\n\r\n  const imageSetIndex = useMemo<number>(() => findImageIndex(imageCoords.json.ImageSet), [imageCoords])\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Image', type: BlockType.SelectFile, nvalue: imageCoords.json?.ImageSet[imageSetIndex]?.ImageSet.ImageIndex, onChange: changeImageIndex },\r\n        { title: 'X', type: BlockType.Number, nvalue: imageCoords.json.Coordinates?.X ? imageCoords.json.Coordinates?.X : 0, onChange: changeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: imageCoords.json.Coordinates?.Y ? imageCoords.json.Coordinates?.Y : 0, onChange: changeY },\r\n      ]\r\n    },\r\n  ], [imageCoords]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function findImageIndex(ar: MultilangImage[]): number {\r\n    if (!ar) return null\r\n    let index = ar.findIndex((item) => item.LangCode === LangCodeType.All.json)\r\n    return index >= 0 ? index : 0\r\n  }\r\n\r\n  function toggle() {\r\n    const d = { ...imageCoords };\r\n    d.enabled = !d.enabled;\r\n    if ( !d.json.ImageSet) {\r\n      d.json.ImageSet = []\r\n      let digitimage = new MultilangImage()\r\n      digitimage.ImageSet.ImagesCount = d.count\r\n      d.json.ImageSet[0] = digitimage\r\n    }\r\n    onUpdate(d)\r\n  }\r\n\r\n  function changeImageIndex(ix: number) {\r\n    const ip = { ...imageCoords };\r\n    ip.json.ImageSet[imageSetIndex].ImageSet.ImageIndex = ix;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeX(val: number) {\r\n    const ip = { ...imageCoords };\r\n    if (!ip.json.Coordinates) ip.json.Coordinates = new Coordinates()\r\n    ip.json.Coordinates.X = val;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  function changeY(val: number) {\r\n    const ip = { ...imageCoords };\r\n    if (!ip.json.Coordinates) ip.json.Coordinates = new Coordinates()\r\n    ip.json.Coordinates.Y = val;\r\n    onUpdate(ip);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header>\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={imageCoords.enabled}\r\n              onChange={toggle}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card.Header>\r\n      {imageCoords.enabled ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default MultilangImageCoordsComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WatchCommonDigit, WatchDialFace, WatchMultilangImageCoords } from \"../../model/watchFace.model\";\r\nimport ImageDigitComponent from \"./imageDigit.component\";\r\nimport MultilangImageCoordsComponent from \"./multiLangImageCoords.component\";\r\nimport SystemFontComponent from \"./systemFont.component\";\r\nimport SystemFontCircleComponent from \"./systemFontCircle.component\";\r\n\r\ninterface IProps {\r\n  collapsed: boolean,\r\n  setCollapsed(collapsed: boolean): void,\r\n}\r\n\r\nconst TimeDigitalComponent: FC<IProps> = ({collapsed = true, setCollapsed}) => {\r\n  const { watchface, setWatchface } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n\r\n  function updateHoursDigit(h: WatchCommonDigit) {\r\n    const t = {...watchface.dialFace};\r\n    t.hoursDigital = h;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n  function updateMinutesDigit(m: WatchCommonDigit) {\r\n    const t = {...watchface.dialFace};\r\n    t.minutesDigital = m;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n  function updateSecondsDigit(s: WatchCommonDigit) {\r\n    const t = {...watchface.dialFace};\r\n    t.secondsDigital = s;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n  function updateAm(s: WatchMultilangImageCoords) {\r\n    const t = {...watchface.dialFace};\r\n    t.am = s;\r\n    updateTimeDigital(t);\r\n  }\r\n  function updatePm(s: WatchMultilangImageCoords) {\r\n    const t = {...watchface.dialFace};\r\n    t.pm = s;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n  function updateTimeDigital(wdf: WatchDialFace) {\r\n    setWatchface({ ...watchface, dialFace: wdf });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        onClick={() => {\r\n          setCollapsed(!collapsed);\r\n        }}\r\n      >\r\n        Time Digital\r\n      </Card.Header>\r\n      <Card.Body className={`${collapsed ? \"collapse\" : \"\"}`}>\r\n        <ImageDigitComponent\r\n          title=\"Hours Digits\"\r\n          digit={watchface.dialFace.hoursDigital}\r\n          onUpdate={updateHoursDigit}\r\n          followDisabled={true}\r\n        />\r\n        <SystemFontComponent\r\n            title=\"Hours Systemfont Rotated\"\r\n            digit={watchface.dialFace.hoursDigital}\r\n            onUpdate={updateHoursDigit}\r\n            followDisabled={true}\r\n          />\r\n        <SystemFontCircleComponent\r\n            title=\"Hours Systemfont Circle\"\r\n            digit={watchface.dialFace.hoursDigital}\r\n            onUpdate={updateHoursDigit}\r\n            followDisabled={true}\r\n        />\r\n        <ImageDigitComponent\r\n          title=\"Minutes\"\r\n          digit={watchface.dialFace.minutesDigital}\r\n          onUpdate={updateMinutesDigit}\r\n          paddingZeroFix={true}\r\n        />\r\n        <SystemFontComponent\r\n            title=\"Minutes Systemfont Rotated\"\r\n            digit={watchface.dialFace.minutesDigital}\r\n            onUpdate={updateMinutesDigit}\r\n          />\r\n        <SystemFontCircleComponent\r\n            title=\"Minutes Systemfont Circle\"\r\n            digit={watchface.dialFace.minutesDigital}\r\n            onUpdate={updateMinutesDigit}\r\n        />\r\n        <ImageDigitComponent\r\n          title=\"Seconds\"\r\n          digit={watchface.dialFace.secondsDigital}\r\n          onUpdate={updateSecondsDigit}\r\n          paddingZeroFix={true}\r\n        />\r\n        <SystemFontComponent\r\n            title=\"Seconds Systemfont Rotated\"\r\n            digit={watchface.dialFace.secondsDigital}\r\n            onUpdate={updateSecondsDigit}\r\n          />\r\n        <SystemFontCircleComponent\r\n            title=\"Seconds Systemfont Circle\"\r\n            digit={watchface.dialFace.secondsDigital}\r\n            onUpdate={updateSecondsDigit}\r\n        />\r\n        <MultilangImageCoordsComponent\r\n          title=\"AM\"\r\n          imageCoords={watchface.dialFace.am}\r\n          onUpdate={updateAm} />\r\n        <MultilangImageCoordsComponent\r\n          title=\"PM\"\r\n          imageCoords={watchface.dialFace.pm}\r\n          onUpdate={updatePm} />\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\nexport default TimeDigitalComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport ActivityListComponent from \"../watchface/activitylist.component\";\r\nimport BackgroundComponent from \"../watchface/background.component\";\r\nimport DateComponent from \"../watchface/date.component\";\r\nimport StatusComponent from \"../watchface/status.component\";\r\nimport TimeAnalogComponent from \"../watchface/timeAnalog.component\";\r\nimport TimeDigitalComponent from \"../watchface/timeDigital.component\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WatchActivity, WatchDate } from \"../../model/watchFace.model\";\r\n\r\nconst ScreenNormalcomponent: FC = () => {\r\n\r\n  const { watchface, setWatchface } = useContext<IWatchContext>(WatchfaceContext)\r\n\r\n  function updateDate(d: WatchDate) {\r\n    let w = { ...watchface }\r\n    w.date = d\r\n    setWatchface(w)\r\n  }\r\n\r\n  function updateActivitys(al: WatchActivity[]) {\r\n    let w = { ...watchface }\r\n    w.activity = al\r\n    w.activitylistCollapsed = false;\r\n    setWatchface(w)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BackgroundComponent />\r\n      <TimeDigitalComponent\r\n        collapsed={watchface.dialFace.collapsedDigital}\r\n        setCollapsed={(c) => {\r\n          let wf = { ...watchface };\r\n          wf.dialFace.collapsedDigital = c;\r\n          setWatchface(wf)\r\n        }}\r\n      />\r\n      <TimeAnalogComponent\r\n        collapsed={watchface.dialFace.collapsedAnalog}\r\n        setCollapsed={(c) => {\r\n          let wf = { ...watchface };\r\n          wf.dialFace.collapsedAnalog = c;\r\n          setWatchface(wf)\r\n        }}\r\n      />\r\n      <DateComponent\r\n        date={watchface.date}\r\n        onUpdate={updateDate}\r\n        collapsed={watchface.date.collapsed}\r\n        setCollapsed={(c) => {\r\n          let wf = { ...watchface };\r\n          wf.date.collapsed = c;\r\n          setWatchface(wf)\r\n        }}\r\n\r\n      />\r\n      <ActivityListComponent\r\n        activitys={watchface.activity}\r\n        onUpdate={updateActivitys}\r\n        collapsed={watchface.activitylistCollapsed}\r\n        setCollapsed={(collapsed) => {\r\n          let w = { ...watchface };\r\n          w.activitylistCollapsed = collapsed;\r\n          setWatchface(w);\r\n        }}\r\n      />\r\n      <StatusComponent />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ScreenNormalcomponent;\r\n","export class WeatherStates {\r\n public static ar: string[] = [\r\n    'Cloudy',\r\n    'Chance of rain',\r\n    'Chance of snow',\r\n    'Sunny',\r\n    'Overcast',\r\n    'Light rain',\r\n    'Light snow',\r\n    'Moderate rain',\r\n    'Moderate snow',\r\n    'Heavy snowfall',\r\n    'Heavy rain',\r\n    'Sandstorm',\r\n    'Sleet',\r\n    'Fog',\r\n    'Haze',\r\n    'Thunderstorm',\r\n    'Snowstorm',\r\n    'Dusty',\r\n    'Extreme rain',\r\n    'Rain with hail',\r\n    'Heavy rain with hail',\r\n    'Rainstorm',\r\n    'Dust storm',\r\n    'Severe sandstorm',\r\n    'Torrential rain',\r\n    'Unknown weather',\r\n    'Cloudy night',\r\n    'Rainy night',\r\n    'Clear night'\r\n ]\r\n}","import React, { FC, useContext, useEffect, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WeatherStates } from \"../../model/weather.states\";\r\n\r\nconst PreviewStatesComponent: FC = () => {\r\n  const { watchface, watchState, setWatchState } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  useEffect(() => {\r\n    const ws = { ...watchState };\r\n    if ( watchface.widgets?.widgets && watchface.widgets.widgets.length > 0 ) {\r\n      if ( watchState.widgets.length > watchface.widgets.widgets.length) {\r\n        ws.widgets.splice(watchface.widgets.widgets.length-1)\r\n        setWatchState(ws)\r\n      } else if ( watchState.widgets.length < watchface.widgets.widgets.length) {\r\n        for(let i = watchState.widgets.length; i < watchface.widgets.widgets.length; i++) {\r\n          ws.widgets.push(0)\r\n        }\r\n        setWatchState(ws)\r\n      }\r\n    } else {\r\n      ws.widgets = []\r\n      setWatchState(ws)\r\n    }\r\n  }, [watchface]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  const date = useMemo(\r\n    () =>\r\n      `${watchState.year.toString().padStart(4, \"0\")}-${watchState.month\r\n        .toString()\r\n        .padStart(2, \"0\")}-${watchState.day.toString().padStart(2, \"0\")}`,\r\n    [watchState]\r\n  );\r\n\r\n  const time = useMemo(\r\n    () =>\r\n      `${watchState.hours.toString().padStart(2, \"0\")}:${watchState.minutes\r\n        .toString()\r\n        .padStart(2, \"0\")}:${watchState.seconds.toString().padStart(2, \"0\")}`,\r\n    [watchState]\r\n  );\r\n\r\n  function updateDate(e: React.ChangeEvent<HTMLInputElement>) {\r\n    let date = new Date(e.target.value);\r\n    const ws = { ...watchState };\r\n    ws.year = date.getFullYear();\r\n    ws.month = date.getMonth() + 1;\r\n    ws.monthasword = date.getMonth();\r\n    ws.day = date.getDate();\r\n    ws.weekday = date.getDay() > 0 ? date.getDay() - 1 : 6;\r\n    setWatchState(ws);\r\n  }\r\n\r\n  function updateTime(e: React.ChangeEvent<HTMLInputElement>) {\r\n    let [h, m, s] = e.target.value.split(\":\");\r\n    const ws = { ...watchState };\r\n    if (!isNaN(parseInt(h))) ws.hours = parseInt(h);\r\n    if (!isNaN(parseInt(m))) ws.minutes = parseInt(m);\r\n    if (!isNaN(parseInt(s))) ws.seconds = parseInt(s);\r\n    setWatchState(ws);\r\n  }\r\n  return (\r\n    <div>\r\n      <>\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Date</span>\r\n          <input\r\n            type=\"date\"\r\n            className=\"form-control form-control-sm\"\r\n            value={date}\r\n            onChange={updateDate}\r\n          />\r\n          <span className=\"input-group-text\">Time</span>\r\n          <input\r\n            type=\"time\"\r\n            className=\"form-control form-control-sm\"\r\n            step=\"1\"\r\n            value={time}\r\n            onChange={updateTime}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Battery</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            value={watchState.battery}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.battery = !isNaN(v) ? Math.min(v, 100) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Calories</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"999\"\r\n            value={watchState.calories}\r\n            onChange={(e) => {\r\n              let ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.calories = !isNaN(v) ? Math.min(v, 999) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Steps</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"99999\"\r\n            value={watchState.steps}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.steps = !isNaN(v) ? Math.min(v, 99999) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Steps Goal</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"99999\"\r\n            value={watchState.stepsGoal}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.stepsGoal = !isNaN(v) ? Math.min(v, 99999) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Hearthrate</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max={watchState.hearthrateGoal}\r\n            value={watchState.hearthrate}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.hearthrate = !isNaN(v) ? Math.min(v, watchState.hearthrateGoal) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Distance</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"9999\"\r\n            value={watchState.distance}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.distance = !isNaN(v) ? Math.min(v, 9999) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">PAI</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max={watchState.paiGoal}\r\n            value={watchState.pai}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.pai = !isNaN(v) ? Math.min(v, watchState.paiGoal) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">StandUp</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max={watchState.standupGoal}\r\n            value={watchState.standup}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.standup = !isNaN(v) ? Math.min(v, watchState.standupGoal) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Stress</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"999\"\r\n            value={watchState.stress}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.stress = !isNaN(v) ? Math.min(v, 999) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Fat Burning</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"99\"\r\n            value={watchState.fatBurning}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.fatBurning = !isNaN(v) ? Math.min(v, 99) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Weather Icon</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"28\"\r\n            value={watchState.weatherIcon}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.weatherIcon = !isNaN(v) ? Math.min(v, 28) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">{WeatherStates.ar[watchState.weatherIcon]}</span>\r\n        </div>\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Current</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"-99\"\r\n            max=\"99\"\r\n            value={watchState.temperature}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.temperature = !isNaN(v) ? Math.max(Math.min(v, 99), -99) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Min</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"-99\"\r\n            max=\"99\"\r\n            value={watchState.temperatureMin}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.temperatureMin = !isNaN(v) ? Math.max(Math.min(v, 99), -99) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Max</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"-99\"\r\n            max=\"99\"\r\n            value={watchState.temperatureMax}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.temperatureMax = !isNaN(v) ? Math.max(Math.min(v, 99), -99) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">UV Index</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"11\"\r\n            value={watchState.uvIndex}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.uvIndex = !isNaN(v) ? Math.min(v, 11) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Air Quality</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"500\"\r\n            value={watchState.airQuality}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.airQuality = !isNaN(v) ? Math.min(v, 500) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"input-group input-group-sm mb-1\">\r\n          <span className=\"input-group-text\">Humidity</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"100\"\r\n            value={watchState.humidity}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.humidity = !isNaN(v) ? Math.min(v, 100) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Windforce</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max=\"12\"\r\n            value={watchState.windForce}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.windForce = !isNaN(v) ? Math.min(v, 12) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n          <span className=\"input-group-text\">Air Pressure</span>\r\n          <input\r\n            type=\"number\"\r\n            className=\"form-control form-control-sm\"\r\n            min=\"0\"\r\n            max={watchState.airPressureGoal}\r\n            value={watchState.airPressure}\r\n            onChange={(e) => {\r\n              const ws = { ...watchState };\r\n              const v = parseInt(e.target.value);\r\n              ws.airPressure = !isNaN(v) ? Math.min(v, watchState.airPressureGoal) : 0;\r\n              setWatchState(ws);\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"input-group input-group-sm\">\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            Blutooth\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={watchState.bluetooth}\r\n              onChange={() => {\r\n                let ws = { ...watchState };\r\n                ws.bluetooth = !ws.bluetooth;\r\n                setWatchState(ws);\r\n              }}\r\n            />\r\n          </div>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            DnD\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={watchState.dnd}\r\n              onChange={() => {\r\n                let ws = { ...watchState };\r\n                ws.dnd = !ws.dnd;\r\n                setWatchState(ws);\r\n              }}\r\n            />\r\n          </div>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            Alarm\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={watchState.alarm}\r\n              onChange={() => {\r\n                let ws = { ...watchState };\r\n                ws.alarm = !ws.alarm;\r\n                setWatchState(ws);\r\n              }}\r\n            />\r\n          </div>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            Lock\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={watchState.lock}\r\n              onChange={() => {\r\n                let ws = { ...watchState };\r\n                ws.lock = !ws.lock;\r\n                setWatchState(ws);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        <Card className='mt-3'>\r\n          <Card.Header>\r\n            <h3>Preview of widgets element</h3>\r\n          </Card.Header>\r\n          <Card.Body>\r\n            { watchState.widgets?.length > 0 ? \r\n              <div className=\"input-group input-group-sm mb-1\">\r\n              <span className=\"input-group-text\">Active widget</span>\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control form-control-sm\"\r\n                value={watchState.activeWidget + 1}\r\n                min={1}\r\n                max={watchface.widgets?.widgets.length}\r\n                onChange={(e) => {\r\n                  const ws = { ...watchState };\r\n                  const v = parseInt(e.target.value);\r\n                  ws.activeWidget = !isNaN(v) ? Math.max(0, v-1) : 0;\r\n                  setWatchState(ws);\r\n                }}\r\n              />\r\n            </div>\r\n             : '' }\r\n            { watchState.widgets?.length > 0 ? watchState.widgets.map((w, index) =>\r\n            <div key={index} className=\"input-group input-group-sm mb-1\">\r\n              <span className=\"input-group-text\">Widget {index+1}. Element for preview </span>\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control form-control-sm\"\r\n                value={w+1}\r\n                min={1}\r\n                max={watchface.widgets?.widgets[index]?.widgetElements?.length}\r\n                onChange={(e) => {\r\n                  const ws = { ...watchState };\r\n                  const v = parseInt(e.target.value);\r\n                  ws.widgets[index] = !isNaN(v) ? Math.max(0, v-1) : 0;\r\n                  setWatchState(ws);\r\n                }}\r\n              />\r\n            </div>\r\n          ) : 'no widgets in watchface' }\r\n          </Card.Body>\r\n        </Card>\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PreviewStatesComponent;\r\n","import React, { FC, useContext, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\n\r\nconst BackgroundAODComponent: FC = () => {\r\n  const { watchface, setWatchface }  = useContext<IWatchContext>(WatchfaceContext)\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'Background', type: BlockType.SelectFile, nvalue: watchface.aod.backgroundImageIndex, onChange: onChangeBackgroundImageIndex },\r\n      ]\r\n    },\r\n  ], [watchface.aod.backgroundImageIndex]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function onChangeBackgroundImageIndex(index: number) {\r\n    setWatchface({\r\n      ...watchface,\r\n      aod: { ...watchface.aod, backgroundImageIndex: index },\r\n    });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        className=\"clickable\"\r\n        onClick={() => {\r\n          let w = {...watchface};\r\n          w.aod.backgroundCollapsed = !w.aod.backgroundCollapsed;\r\n          setWatchface(w);\r\n        }}\r\n      >\r\n        Background\r\n      </Card.Header>\r\n      {!watchface.aod.backgroundCollapsed ? (\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n        </Card.Body>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default BackgroundAODComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport ClockHandComponent from \"./clockHand.component\";\r\n\r\ninterface IProps {\r\n  collapsed: boolean,\r\n  setCollapsed(collapsed: boolean): void,\r\n}\r\n\r\nconst TimeAnalogAODComponent: FC<IProps> = ({collapsed = true, setCollapsed}) => {\r\n  const { watchface, setWatchface } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  function copyHoursFromNormal() {\r\n    const t = {...watchface.aod.dialFace}\r\n    t.hoursClockhand = {...watchface.dialFace.hoursClockhand}\r\n    setWatchface({ ...watchface, aod: {...watchface.aod, dialFace: t} });\r\n  }\r\n  function copyMinutesFromNormal() {\r\n    const t = {...watchface.aod.dialFace}\r\n    t.minutesClockhand = {...watchface.dialFace.minutesClockhand}\r\n    setWatchface({ ...watchface, aod: {...watchface.aod, dialFace: t} });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        onClick={() => {\r\n          setCollapsed(!collapsed);\r\n        }}\r\n      >\r\n        Time Analog\r\n      </Card.Header>\r\n      <Card.Body className={`${collapsed ? \"collapse\" : \"\"}`}>\r\n        <ClockHandComponent\r\n          title=\"Hours\"\r\n          clockHand={watchface.aod.dialFace.hoursClockhand}\r\n          showAngle={false}\r\n          onUpdate={(ch) => {\r\n            const w = { ...watchface };\r\n            w.aod.dialFace.hoursClockhand = ch;\r\n            setWatchface(w);\r\n          }}\r\n          onCopyFromNormal={copyHoursFromNormal}\r\n        />\r\n\r\n        <ClockHandComponent\r\n          title=\"Minutes\"\r\n          clockHand={watchface.aod.dialFace.minutesClockhand}\r\n          onUpdate={(ch) => {\r\n            const w = { ...watchface };\r\n            w.aod.dialFace.minutesClockhand = ch;\r\n            setWatchface(w);\r\n          }}\r\n          showAngle={false}\r\n          onCopyFromNormal={copyMinutesFromNormal}\r\n        />\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TimeAnalogAODComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WatchCommonDigit, WatchDialFace, WatchMultilangImageCoords } from \"../../model/watchFace.model\";\r\nimport ImageDigitComponent from \"./imageDigit.component\";\r\nimport MultilangImageCoordsComponent from \"./multiLangImageCoords.component\";\r\nimport SystemFontComponent from \"./systemFont.component\";\r\nimport SystemFontCircleComponent from \"./systemFontCircle.component\";\r\n\r\ninterface IProps {\r\n  collapsed: boolean,\r\n  setCollapsed(collapsed: boolean): void,\r\n}\r\n\r\nconst TimeDigitalAODComponent: FC<IProps> = ({collapsed = true, setCollapsed}) => {\r\n  const { watchface, setWatchface } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  function updateHoursDigit(h: WatchCommonDigit) {\r\n    const t = {...watchface.aod.dialFace};\r\n    t.hoursDigital = h;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n  function updateMinutesDigit(m: WatchCommonDigit) {\r\n    const t = {...watchface.aod.dialFace};\r\n    t.minutesDigital = m;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n\r\n  function copyHoursFromNormal() {\r\n    const t = {...watchface.aod.dialFace}\r\n    t.hoursDigital = {...watchface.dialFace.hoursDigital}\r\n    updateTimeDigital(t)\r\n  }\r\n  function copyMinutesFromNormal() {\r\n    const t = {...watchface.aod.dialFace}\r\n    t.minutesDigital = {...watchface.dialFace.minutesDigital}\r\n    updateTimeDigital(t)\r\n  }\r\n\r\n  function updateAm(s: WatchMultilangImageCoords) {\r\n    const t = {...watchface.aod.dialFace};\r\n    t.am = s;\r\n    updateTimeDigital(t);\r\n  }\r\n  function updatePm(s: WatchMultilangImageCoords) {\r\n    const t = {...watchface.aod.dialFace};\r\n    t.pm = s;\r\n    updateTimeDigital(t);\r\n  }\r\n\r\n  function updateTimeDigital(wdf: WatchDialFace) {\r\n    setWatchface({ ...watchface, aod: {...watchface.aod, dialFace: wdf} });\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header\r\n        onClick={() => {\r\n          setCollapsed(!collapsed);\r\n        }}\r\n      >\r\n        Time Digital\r\n      </Card.Header>\r\n      <Card.Body className={`${collapsed ? \"collapse\" : \"\"}`}>\r\n        <ImageDigitComponent\r\n          title=\"Hours\"\r\n          digit={watchface.aod.dialFace.hoursDigital}\r\n          onUpdate={updateHoursDigit}\r\n          showDecimalPointer={false}\r\n          showDelimiter={false}\r\n          showNoData={false}\r\n          paddingZeroFix={false}\r\n          onCopyFromNormal={copyHoursFromNormal}\r\n          followDisabled={true}\r\n        />\r\n        <SystemFontComponent\r\n            title=\"Hours Systemfont Rotated\"\r\n            digit={watchface.aod.dialFace.hoursDigital}\r\n            onUpdate={updateHoursDigit}\r\n            followDisabled={true}\r\n          />\r\n        <SystemFontCircleComponent\r\n            title=\"Hours Systemfont Circle\"\r\n            digit={watchface.aod.dialFace.hoursDigital}\r\n            onUpdate={updateHoursDigit}\r\n            followDisabled={true}\r\n        />\r\n        <ImageDigitComponent\r\n          title=\"Minutes\"\r\n          digit={watchface.aod.dialFace.minutesDigital}\r\n          onUpdate={updateMinutesDigit}\r\n          showDecimalPointer={false}\r\n          showDelimiter={false}\r\n          showNoData={false}\r\n          paddingZeroFix={true}\r\n          onCopyFromNormal={copyMinutesFromNormal}\r\n        />\r\n        <SystemFontComponent\r\n            title=\"Minutes Systemfont Rotated\"\r\n            digit={watchface.aod.dialFace.minutesDigital}\r\n            onUpdate={updateMinutesDigit}\r\n          />\r\n        <SystemFontCircleComponent\r\n            title=\"Minutes Systemfont Circle\"\r\n            digit={watchface.aod.dialFace.minutesDigital}\r\n            onUpdate={updateMinutesDigit}\r\n        />\r\n        <MultilangImageCoordsComponent\r\n          title=\"AM\"\r\n          imageCoords={watchface.aod.dialFace.am}\r\n          onUpdate={updateAm} />\r\n        <MultilangImageCoordsComponent\r\n          title=\"PM\"\r\n          imageCoords={watchface.aod.dialFace.pm}\r\n          onUpdate={updatePm} />\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\nexport default TimeDigitalAODComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport ActivityListComponent from \"./activitylist.component\";\r\nimport BackgroundAODComponent from \"./backgroundaod.component\";\r\nimport TimeAnalogAODComponent from \"./timeAnalogAOD.component\";\r\nimport TimeDigitalAODComponent from \"./timeDigitalAOD.component\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WatchActivity, WatchDate } from \"../../model/watchFace.model\";\r\nimport DateComponent from \"./date.component\";\r\n\r\nconst AodComponent: FC = () => {\r\n\r\n  const { watchface, setWatchface }  = useContext<IWatchContext>(WatchfaceContext)\r\n\r\n  function updateDate(d: WatchDate) {\r\n    let w = {...watchface}\r\n    w.aod.date = d\r\n    setWatchface(w)\r\n  }\r\n  \r\n  function updateActivitys(al: WatchActivity[]) {\r\n    let w = {...watchface}\r\n    w.aod.activitylist = al\r\n    w.aod.activitylistCollapsed = false;\r\n    setWatchface(w)\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <BackgroundAODComponent />\r\n      <TimeDigitalAODComponent\r\n      collapsed={watchface.aod.dialFace.collapsedDigital}\r\n      setCollapsed={(c) => {\r\n        let s = {...watchface};\r\n        s.aod.dialFace.collapsedDigital = c;\r\n        setWatchface(s)\r\n      }}\r\n       />\r\n      <TimeAnalogAODComponent \r\n        collapsed={watchface.aod.dialFace.collapsedAnalog}\r\n        setCollapsed={(c) => {\r\n          let s = {...watchface};\r\n          s.aod.dialFace.collapsedAnalog = c;\r\n          setWatchface(s)\r\n        }}\r\n      />\r\n      <DateComponent\r\n        date={watchface.aod.date} \r\n        onUpdate={updateDate}\r\n        collapsed={watchface.aod.date.collapsed}\r\n        setCollapsed={(c) => {\r\n          let s = {...watchface};\r\n          s.aod.date.collapsed = c;\r\n          setWatchface(s)\r\n        }}\r\n      />\r\n      <ActivityListComponent\r\n        activitys={watchface.aod.activitylist}\r\n        onUpdate={updateActivitys}\r\n        collapsed={watchface.aod.activitylistCollapsed}\r\n        setCollapsed={(collapsed) => {\r\n          let s = {...watchface};\r\n          s.aod.activitylistCollapsed = collapsed;\r\n          setWatchface(s)\r\n        }}\r\n       />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AodComponent;\r\n","import React, { FC } from 'react';\r\nimport { Card } from 'react-bootstrap';\r\nimport BlocksArrayComponent from '../../blocks/blocksArray.component';\r\nimport { BlockType } from '../../model/blocks.model';\r\nimport { WatchDate, WatchWidgetElement } from '../../model/watchFace.model';\r\nimport ActivityListComponent from './activitylist.component';\r\nimport DateComponent from './date.component';\r\n\r\ninterface IProps {\r\n    index: number,\r\n    element: WatchWidgetElement,\r\n    onDelete(e): void,\r\n    onUpdate(element: WatchWidgetElement)\r\n    defaultCount: number,\r\n}\r\n\r\nconst WidgetElementComponent: FC<IProps> = ({index, element, onDelete, onUpdate, defaultCount}) => {\r\n\r\n  function onChangePreviewImageIndex(index: number) {\r\n      const _we = { ...element };\r\n      _we.previewImageIndex = index;\r\n      onUpdate(_we);\r\n  }\r\n  \r\n  function updateDate(d: WatchDate) {\r\n    let _we = { ...element }\r\n    _we.date = d\r\n    onUpdate(_we)\r\n  }\r\n\r\n  return (\r\n      <Card className=\"w-100\">\r\n          <Card.Header \r\n              className=\"d-flex justify-content-between align-items-center\"\r\n              onClick={() => {\r\n                let we = {...element};\r\n                we.collapsed = !we.collapsed;\r\n                onUpdate(we);\r\n              }}>\r\n              <span className=\"input-group-text\">Element {index+1}</span>\r\n              <button className=\"btn btn-outline-danger\" type=\"button\" onClick={onDelete}>Delete</button>\r\n          </Card.Header>\r\n          { !element.collapsed ? \r\n          <Card.Body>\r\n            <BlocksArrayComponent ar={\r\n              [\r\n                { blocks: [\r\n                  { title: 'Preview', type: BlockType.SelectFile, nvalue: element.previewImageIndex, onChange: onChangePreviewImageIndex },\r\n                ]}\r\n              ]\r\n            } />\r\n          <DateComponent\r\n              date={element.date}\r\n              onUpdate={updateDate}\r\n              collapsed={element.date.collapsed}\r\n              setCollapsed={(c) => {\r\n                let _we = { ...element };\r\n                _we.date.collapsed = c;\r\n                onUpdate(_we)\r\n              }}\r\n           />\r\n          <ActivityListComponent\r\n              activitys={element.activitys}\r\n              onUpdate={(al) => {\r\n                let we = {...element};\r\n                we.activitys = al;\r\n                we.activitylistCollapsed = false;\r\n                onUpdate(we);\r\n              }}\r\n              collapsed={element.activitylistCollapsed}\r\n              setCollapsed={(collapsed) => {\r\n                let we = {...element};\r\n                we.activitylistCollapsed = collapsed;\r\n                onUpdate(we);\r\n              }}\r\n          />\r\n          </Card.Body> \r\n          : '' }\r\n      </Card>\r\n  );\r\n};\r\n\r\nexport default WidgetElementComponent;","import { FC, useMemo } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType, IRow } from \"../../model/blocks.model\";\r\nimport { WatchWidget, WatchWidgetElement } from \"../../model/watchFace.model\";\r\nimport DnDListComponent, { IDNDItem } from \"../../shared/draganddroplist.component\";\r\nimport ImageCoordsComponent from \"./imageCoords.component\";\r\nimport WidgetElementComponent from \"./widgetElement.component\";\r\n\r\n\r\ninterface IProps {\r\n  title: string;\r\n  widget: WatchWidget;\r\n  onUpdate(widget: WatchWidget): void;\r\n  onDelete(e): void;\r\n}\r\n\r\nconst WidgetComponent: FC<IProps> = ({ title, widget, onUpdate, onDelete }) => {\r\n\r\n  const ar = useMemo<IRow[]>(() => [\r\n    {\r\n      blocks: [\r\n        { title: 'X', type: BlockType.Number, nvalue: widget?.x ? widget.x : 0, onChange: onChangeX },\r\n        { title: 'Y', type: BlockType.Number, nvalue: widget?.y ? widget.y : 0, onChange: onChangeY },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Width', type: BlockType.Number, nvalue: widget?.width ? widget.width : 0, onChange: onChangeWidth },\r\n        { title: 'Height', type: BlockType.Number, nvalue: widget?.height ? widget.height : 0, onChange: onChangeHeight },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Frame activ', type: BlockType.SelectFile, nvalue: widget.borderActivImageIndex ? widget.borderActivImageIndex : null, onChange: onChangeBorderActiv },\r\n        { title: 'Frame inactiv', type: BlockType.SelectFile, nvalue: widget.borderInactivImageIndex ? widget.borderInactivImageIndex : null, onChange: onChangeBorderInactiv },\r\n      ]\r\n    },\r\n    {\r\n      blocks: [\r\n        { title: 'Description width', type: BlockType.Number, nvalue: widget?.descriptionWidthCheck ? widget.descriptionWidthCheck : 0, onChange: onChangeDescriptionWidth },\r\n      ]\r\n    },\r\n  ], [widget]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function onChangeX(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.x = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function onChangeY(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.y = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function onChangeWidth(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.width = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function onChangeHeight(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.height = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function onChangeBorderActiv(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.borderActivImageIndex = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function onChangeBorderInactiv(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.borderInactivImageIndex = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function onChangeDescriptionWidth(val: number) {\r\n    const _wi = { ...widget };\r\n    _wi.descriptionWidthCheck = val;\r\n    onUpdate(_wi);\r\n  }\r\n\r\n  function addElement(e) {\r\n    e.stopPropagation()\r\n    let _wi = {...widget}\r\n    if (!_wi.widgetElements) _wi.widgetElements = []\r\n    let _we = new WatchWidgetElement()\r\n    _wi.widgetElements.push(_we)\r\n    _wi.widgetElementsCollapsed = false\r\n    onUpdate(_wi)\r\n  }\r\n\r\n  function deleteElement(e, index: number) {\r\n    e.stopPropagation();\r\n    if ( window.confirm(`would you delete this element of widget?`)) {\r\n      let _wi = {...widget};\r\n      _wi.widgetElements.splice(index, 1);\r\n      onUpdate(_wi);\r\n    }\r\n  }\r\n\r\n  function updateElement(index: number, element: WatchWidgetElement) {\r\n    let _wi = {...widget}\r\n    _wi.widgetElements[index] = {...element}\r\n    onUpdate(_wi)\r\n  }\r\n\r\n  function updateWidgetElementsOrder(list: IDNDItem<WatchWidgetElement>[]) {\r\n    let _wi = {...widget}\r\n    _wi.widgetElements = list.map((value) => value.item)\r\n    onUpdate(_wi)\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <Card.Header \r\n      className=\"d-flex justify-content-between align-items-center\"\r\n      onClick={() => {\r\n        let wi = {...widget};\r\n        wi.collapsed = !wi.collapsed;\r\n        onUpdate(wi)\r\n      }}>\r\n          <span className=\"input-group-text\">{title}</span>\r\n          <button className=\"btn btn-outline-danger\" type=\"button\" onClick={onDelete}>Delete</button>\r\n      </Card.Header>\r\n      {!widget.collapsed ? \r\n      <Card.Body>\r\n          <BlocksArrayComponent ar={ar} />\r\n          <div className=\"input-group input-group-sm pt-1\">\r\n            <ImageCoordsComponent\r\n              title='Description background'\r\n              imageCoords={widget.descriptionImageBackground}\r\n              onUpdate={(ic) => {\r\n                let wi = {...widget};\r\n                wi.descriptionImageBackground = ic\r\n                onUpdate(wi)\r\n              }\r\n\r\n              }\r\n            />\r\n          </div>\r\n\r\n          <Card className=\"mt-1\">\r\n            <Card.Header className=\"d-flex justify-content-between align-items-center\"\r\n              onClick={() => {\r\n                let wi = {...widget};\r\n                wi.widgetElementsCollapsed = !wi.widgetElementsCollapsed;\r\n                onUpdate(wi);\r\n              }}>\r\n              Elements [{widget.widgetElements?.length}]\r\n              <button className=\"btn btn-outline-success\" type=\"button\" onClick={addElement}>Add</button>\r\n            </Card.Header>\r\n            { !widget.widgetElementsCollapsed ? \r\n            <Card.Body>\r\n              { widget.widgetElements?.length > 0 ?\r\n              <DnDListComponent\r\n               _list={\r\n              widget.widgetElements?.map(\r\n                (element, index) => ({item: element, reactItem:\r\n                <WidgetElementComponent\r\n                  key={index}\r\n                  index={index}\r\n                  element={element}\r\n                  defaultCount={1}\r\n                  onDelete={(e) => deleteElement(e, index)}\r\n                  onUpdate={(element) => updateElement(index, element)}\r\n                />})) }\r\n                updateOrder={updateWidgetElementsOrder}\r\n              /> : 'no elements added' }\r\n            </Card.Body>\r\n            : ''}\r\n          </Card>\r\n        </Card.Body>\r\n         : '' }\r\n     </Card>\r\n    );\r\n};\r\n\r\nexport default WidgetComponent;\r\n","import { FC, useContext } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport WidgetComponent from \"../watchface/widget.component\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { WatchWidget, WatchWidgets } from \"../../model/watchFace.model\";\r\nimport BlocksArrayComponent from \"../../blocks/blocksArray.component\";\r\nimport { BlockType } from \"../../model/blocks.model\";\r\n\r\nconst WidgetsComponent: FC = () => {\r\n  const { watchface, setWatchface }  = useContext<IWatchContext>(WatchfaceContext)\r\n \r\n  function updateWidgets(widgets: WatchWidgets) {\r\n    let _wf = {...watchface}\r\n    _wf.widgets = {...widgets}\r\n    setWatchface(_wf)\r\n  }\r\n\r\n  function updateWidget(index: number, wi: WatchWidget) {\r\n    let _wf = {...watchface}\r\n    _wf.widgets.widgets[index] = {...wi}\r\n    setWatchface(_wf)\r\n  }\r\n\r\n  function addWidget(e) {\r\n    e.stopPropagation()\r\n    let _wi = new WatchWidget()\r\n    let _wf = {...watchface}\r\n    if (!_wf.widgets) {\r\n      _wf.widgets = new WatchWidgets()\r\n    }\r\n    _wf.widgets.enabled = true;\r\n    _wf.widgets.widgets.push(_wi)\r\n    setWatchface(_wf)\r\n  }\r\n\r\n  function deleteWidget(e, index: number) {\r\n    e.stopPropagation()\r\n    if ( window.confirm(`would you delete this widget?`)) {\r\n      let _wf = {...watchface}\r\n      _wf.widgets.widgets.splice(index, 1)\r\n      setWatchface(_wf)\r\n    }\r\n  }\r\n\r\n  function onChangeTopMask(index: number) {\r\n    const ws = { ...watchface.widgets };\r\n    ws.enabled = true;\r\n    ws.topMaskImageIndex = index;\r\n    updateWidgets(ws);\r\n  }\r\n\r\n  function onChangeBottomMask(index: number) {\r\n    const ws = { ...watchface.widgets };\r\n    ws.enabled = true;\r\n    ws.underMaskImageIndex = index;\r\n    updateWidgets(ws);\r\n  }  \r\n\r\n  function onChangeShowtime(checked: boolean) {\r\n    const ws = { ...watchface.widgets };\r\n    ws.showTimeOnEditScreen = checked ? 1 : 0;\r\n    updateWidgets(ws);\r\n  }\r\n  \r\n  return (\r\n    <>\r\n      <Card>\r\n        <Card.Header>\r\n          Common Preferences\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <BlocksArrayComponent ar={\r\n            [\r\n                { blocks: [\r\n                  { title: 'Top mask', type: BlockType.SelectFile, nvalue: watchface.widgets?.topMaskImageIndex, onChange: onChangeTopMask },\r\n                  { title: 'Bottom mask', type: BlockType.SelectFile, nvalue: watchface.widgets?.underMaskImageIndex, onChange: onChangeBottomMask },\r\n                ]},\r\n                { blocks: [\r\n                  { title: 'show time on Edit screen', type: BlockType.Checkbox, checked: watchface.widgets?.showTimeOnEditScreen > 0, onChange: onChangeShowtime },\r\n                ]}\r\n            ]\r\n          } />\r\n        </Card.Body>\r\n      </Card>\r\n      <Card>\r\n      <Card.Header className=\"d-flex justify-content-between align-items-center\"\r\n        onClick={() => {\r\n          let wf = {...watchface};\r\n          wf.widgets.collapsed = !wf.widgets.collapsed;\r\n          setWatchface(wf);\r\n        }}\r\n      >\r\n        Widgets [{watchface.widgets?.widgets?.length}]\r\n          <button className=\"btn btn-outline-success\" type=\"button\" onClick={addWidget}>Add</button>\r\n      </Card.Header>\r\n      <Card.Body>\r\n          {watchface.widgets?.widgets?.length > 0 ? \r\n          <>\r\n            { watchface.widgets.widgets.map((item, index) => {\r\n              return (\r\n                <WidgetComponent\r\n                  key={index}\r\n                  title={`Widget ${index+1}`}\r\n                  widget={item}\r\n                  onUpdate={(widget) => updateWidget(index, widget)}\r\n                  onDelete={(e) => deleteWidget(e, index)}\r\n                />\r\n              )\r\n            }) }\r\n          </> : 'no widgets added'}\r\n      </Card.Body>\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WidgetsComponent;\r\n","import { FC, useContext, useState } from \"react\";\r\nimport { WatchfaceContext } from \"../../context\";\r\nimport ScreenNormalcomponent from \"../watchface/screennormal.component\";\r\nimport PreviewStatesComponent from \"./previewstates.component\";\r\nimport AodComponent from \"../watchface/aod.component\";\r\nimport WidgetsComponent from \"../watchface/widgets.component\";\r\n\r\nconst tabs = [\r\n  {\r\n    id: 0, name: \"Screen normal\", el: <div className=\"mt-3 blocks\">\r\n      <ScreenNormalcomponent />\r\n    </div>\r\n  },\r\n  {\r\n    id: 1, name: \"AOD\", el: <div className=\"mt-3 blocks\">\r\n      <AodComponent />\r\n    </div>\r\n  },\r\n  {\r\n    id: 2, name: \"Widgets\", el: <div className=\"mt-3 blocks\">\r\n      <WidgetsComponent />\r\n    </div>\r\n  },\r\n  {\r\n    id: 3, name: \"Preview State\", el: <div className=\"mt-3\">\r\n      <PreviewStatesComponent />\r\n    </div>\r\n  },\r\n];\r\n\r\nconst LeftSideComponent: FC = () => {\r\n\r\n  const { setPreviewScreenNormal } = useContext(WatchfaceContext)\r\n\r\n  const [selectedTab, setSelectedTab] = useState<number>(0);\r\n\r\n  function onclick(tabid: number) {\r\n    setSelectedTab(tabid)\r\n    if (tabid === 0) setPreviewScreenNormal(true)\r\n    if (tabid === 1) setPreviewScreenNormal(false)\r\n    if (tabid === 2) setPreviewScreenNormal(true)\r\n  }\r\n  \r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-tabs\">\r\n        {tabs.map((tab) => {\r\n          return (\r\n            <li key={tab.id} className=\"nav-item\">\r\n              <button\r\n                className={`nav-link ${selectedTab === tab.id ? \"active\" : \"\"} `}\r\n                onClick={() => onclick(tab.id)}\r\n              >\r\n                {tab.name}\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      {tabs[selectedTab].el}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeftSideComponent;\r\n","import { FC, useContext, useEffect, useState } from \"react\";\r\nimport { Card } from \"react-bootstrap\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { Activity, DigitalDigit, Shortcut, WatchJson, Widget, Widgets } from \"../../model/json.model\";\r\nimport { WidgetElement } from \"../../model/json.model\";\r\nimport { DateType, LangCodeType } from \"../../model/types.model\";\r\nimport WatchFace, { WatchActivity, WatchAOD, WatchClockHand, WatchCommonDigit, WatchDate, WatchImageCoords, WatchImageProgress, WatchProgressBar, WatchWidget, WatchWidgetElement, WatchWidgets } from \"../../model/watchFace.model\";\r\nimport Color from \"../../shared/color\";\r\nimport { Constant } from \"../../shared/constant\";\r\nimport cl from './JsonComponent.module.css';\r\n\r\nconst JsonComponent: FC = () => {\r\n\r\n    const {watchface, jsonName } = useContext<IWatchContext>(WatchfaceContext);\r\n\r\n    const [json, setJson] = useState<string>('')\r\n\r\n    useEffect(() => {\r\n        let json = generateJson(watchface)\r\n        setJson(json)\r\n        saveJson(json)\r\n    }, [watchface]) // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n    function generateJson(w: WatchFace): string {\r\n        let timeDigitalEnabled = w.dialFace.hoursDigital.enabled || w.dialFace.minutesDigital.enabled || w.dialFace.secondsDigital.enabled || w.dialFace.am.enabled || w.dialFace.pm.enabled\r\n        let timeDigitalAodEnabled = w.aod.dialFace.hoursDigital.enabled || w.aod.dialFace.minutesDigital.enabled || w.aod.dialFace.am.enabled || w.aod.dialFace.pm.enabled\r\n        let timeClockHandEnabled = w.dialFace.hoursClockhand.enabled || w.dialFace.minutesClockhand.enabled || w.dialFace.secondsClockhand.enabled\r\n        let timeClockHandAodEnabled = w.aod.dialFace.hoursClockhand.enabled || w.aod.dialFace.minutesClockhand.enabled\r\n\r\n        let dateEnabled = w.date.day.enabled || w.date.month.enabled || w.date.monthAsWord.enabled || w.date.weekDay.enabled || w.date.year.enabled\r\n        let dateAodEnabled = w.aod.date.day.enabled || w.aod.date.month.enabled || w.aod.date.monthAsWord.enabled || w.aod.date.weekDay.enabled || w.aod.date.year.enabled\r\n        let statusEnabled = w.status.alarm.enabled || w.status.bluetooth.enabled || w.status.lock.enabled || w.status.dnd.enabled\r\n\r\n        let dialFaceEnabled = timeDigitalEnabled || timeClockHandEnabled\r\n        let dialFaceAodEnabled = timeDigitalAodEnabled || timeClockHandAodEnabled\r\n\r\n        let timeDigits = getTimeDigital(watchface)\r\n        let timeDigitsAod = getTimeDigital(watchface.aod)\r\n\r\n        let dateDigits = getDate(watchface.date)\r\n        let dateDigitsAod = getDate(watchface.aod.date)\r\n        \r\n        let activitys = activitysToJson(watchface.activity)\r\n        let activitysAod = activitysToJson(watchface.aod.activitylist)\r\n\r\n        let j: WatchJson = {\r\n            Info: {\r\n                DeviceId: Constant.deviceId\r\n            },\r\n            Background: w.background.imageIndex || w.background.color || w.background.previewIndex  ? {\r\n                Preview: w.background.previewIndex ? [\r\n                    {\r\n                        LangCode: LangCodeType.All.json,\r\n                        ImageSet: {\r\n                            ImageIndex: w.background.previewIndex ,\r\n                            ImagesCount: 1\r\n                        }\r\n                    }\r\n                ] : null,\r\n                BackgroundImageIndex: w.background.imageIndex ,\r\n                Color: w.background.color ? Color.colorBackgroundWrite(w.background.color) : null\r\n            } : null\r\n            ,\r\n            DialFace: dialFaceEnabled ? {\r\n                DigitalDialFace:  timeDigitalEnabled ? {\r\n                    Digits: timeDigits.length > 0 ? timeDigits : null,\r\n                    AM: w.dialFace.am.enabled ? w.dialFace.am.json : null,\r\n                    PM: w.dialFace.pm.enabled ? w.dialFace.pm.json : null,\r\n                } : null,\r\n                AnalogDialFace: timeClockHandEnabled ? {\r\n                    Hours: w.dialFace.hoursClockhand.enabled ? w.dialFace.hoursClockhand.json : null,\r\n                    Minutes:  w.dialFace.minutesClockhand.enabled ? w.dialFace.minutesClockhand.json : null,\r\n                    Seconds:  w.dialFace.secondsClockhand.enabled ? w.dialFace.secondsClockhand.json : null\r\n                } : null,\r\n                ProgressDialFace: null\r\n            } : null,\r\n            System: dateEnabled || activitys.length > 0 || statusEnabled ? {\r\n                Status: statusEnabled ? {\r\n                    Bluetooth: w.status.bluetooth.enabled ? w.status.bluetooth.json: null,\r\n                    DoNotDisturb: w.status.dnd.enabled ? w.status.dnd.json : null,\r\n                    Lock: w.status.lock.enabled ? w.status.lock.json: null,\r\n                    Alarm: w.status.alarm.enabled ? w.status.alarm.json : null\r\n                }: null,\r\n                Date: dateEnabled ? {\r\n                    DateDigits: dateDigits.length > 0 ? dateDigits : null,\r\n                    WeeksDigits: w.date.weekDay.enabled ? w.date.weekDay.json : null,\r\n                    DateProgressBar: null,\r\n                    DateClockHand: null\r\n                } : null,\r\n                Activity: activitys.length > 0 ? activitys : null\r\n            } : null,\r\n            Widgets: w.widgets.enabled ? getWidgets(w.widgets) : null,\r\n            ScreenIdle: w.aod.backgroundImageIndex || dialFaceAodEnabled || dateAodEnabled || activitysAod.length > 0 ? {\r\n                BackgroundImageIndex: w.aod.backgroundImageIndex ? w.aod.backgroundImageIndex : null,\r\n                DialFace: dialFaceAodEnabled ? {\r\n                    DigitalDialFace:  timeDigitalAodEnabled ? {\r\n                        Digits: timeDigitsAod.length > 0 ? timeDigitsAod : null,\r\n                        AM: w.aod.dialFace.am.enabled ? w.aod.dialFace.am.json : null,\r\n                        PM: w.aod.dialFace.pm.enabled ? w.aod.dialFace.pm.json : null,\r\n                    } : null,\r\n                    AnalogDialFace: timeClockHandAodEnabled ? {\r\n                        Hours: w.aod.dialFace.hoursClockhand.enabled ? w.aod.dialFace.hoursClockhand.json : null,\r\n                        Minutes:  w.aod.dialFace.minutesClockhand.enabled ? w.aod.dialFace.minutesClockhand.json : null,\r\n                        Seconds: null\r\n                    } : null,\r\n                    ProgressDialFace: null \r\n                } : null,\r\n                Date: dateAodEnabled ? {\r\n                    DateDigits: dateDigitsAod.length > 0 ? dateDigitsAod : null,\r\n                    WeeksDigits: w.aod.date.weekDay.enabled ? w.aod.date.weekDay.json : null,\r\n                    DateProgressBar: null,\r\n                    DateClockHand: null\r\n                } : null,\r\n                Activity: activitysAod.length > 0 ? activitysAod : null,\r\n            } : null\r\n        }\r\n        return JSON.stringify(j, (key, value) => {\r\n            if (value !== null && value !== undefined) return value\r\n          }, \"  \")\r\n    }\r\n    \r\n    function saveJson(json: string) {\r\n        if (json.length > 0) {\r\n            var a = document.getElementById(\"saveJson\") as HTMLAnchorElement;\r\n            if (a) {\r\n                var file = new Blob([json], {type: 'text/plain'});\r\n                let filename = jsonName ? jsonName : 'watchface.json'\r\n                a.href = URL.createObjectURL(file);\r\n                a.download = filename;\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Card className={cl.json}>\r\n            <pre>\r\n                {json}\r\n            </pre>\r\n        </Card>\r\n        <br/>\r\n        <a href=\"a\" id=\"saveJson\">download json file</a>\r\n        </>\r\n    )\r\n    \r\n};\r\n\r\nexport default JsonComponent;\r\n\r\nexport function activitysToJson(alist: WatchActivity[]): Activity[] {\r\n    let activitys: Activity[] = []\r\n    if (!alist) return activitys\r\n    alist.forEach(item => {\r\n        let digits: WatchCommonDigit[] = []\r\n        let enabled = false\r\n        let imageProgress: WatchImageProgress = null\r\n        let pointerProgress: WatchClockHand = null\r\n        let icon: WatchImageCoords = null\r\n        let progressBar: WatchProgressBar = null\r\n        let shortcut: Shortcut = null\r\n\r\n        if (item) {\r\n            if (item.digit.enabled) {enabled = true; digits.push(item.digit)}\r\n            if (item.digitMin.enabled) {enabled = true; digits.push(item.digitMin)}\r\n            if (item.digitMax.enabled) {enabled = true; digits.push(item.digitMax)}\r\n            if (item.imageProgress.enabled) {\r\n                enabled = true\r\n                imageProgress = item.imageProgress\r\n            }\r\n            if (item.pointerProgress.enabled) {\r\n                enabled = true\r\n                pointerProgress = item.pointerProgress\r\n            }\r\n            if (item.progressBar.enabledLinear || item.progressBar.enabledCircle) {\r\n                enabled = true\r\n                progressBar = item.progressBar\r\n            }\r\n            if (item.icon.enabled) {\r\n                enabled = true\r\n                icon = item.icon\r\n            }\r\n            if (item.shortcut) {\r\n                enabled = true\r\n                shortcut = item.shortcut\r\n            }\r\n        }\r\n\r\n        if (enabled) {\r\n            activitys.push({\r\n                Type: item.type.json,\r\n                PointerProgress: pointerProgress ? pointerProgress.json : null,\r\n                ProgressBar: progressBar ? progressBar.jsonObj : null,\r\n                ImageProgress: imageProgress?.enabled ? imageProgress.json : null,\r\n                Digits: digits.length > 0 ? digits.map(d => d.json) : null,\r\n                Shortcut: shortcut ? shortcut : null,\r\n                Icon: icon?.enabled ? icon.json : null\r\n            })\r\n        }\r\n    })\r\n    return activitys\r\n}\r\n\r\nfunction getTimeDigital(w: WatchFace | WatchAOD): DigitalDigit[] {\r\n    let timeDigits: DigitalDigit[] = []\r\n\r\n    if (w.dialFace.hoursDigital?.enabled) timeDigits.push(w.dialFace.hoursDigital.json)\r\n    if (w.dialFace.minutesDigital?.enabled) timeDigits.push(w.dialFace.minutesDigital.json)\r\n    if (w.dialFace.secondsDigital?.enabled) timeDigits.push(w.dialFace.secondsDigital.json)\r\n    \r\n    return timeDigits\r\n}\r\n\r\nfunction getDate(_date: WatchDate): DigitalDigit[] {\r\n    let dateDigits: DigitalDigit[] = []\r\n    _date.orderElements.forEach(item => {\r\n        let digit: WatchCommonDigit = null\r\n        let enabled = false\r\n        if ( item.type === DateType.Year.index) {\r\n            if (_date.year.enabled) enabled = true\r\n                digit = _date.year\r\n        } else if ( item.type === DateType.Month.index) {\r\n            if (_date.month.enabled ) { enabled = true;  digit = _date.month}\r\n            else if (_date.monthAsWord.enabled ) { enabled = true;  digit = _date.monthAsWord}\r\n        } else  if ( item.type === DateType.Day.index) {\r\n            if (_date.day.enabled) enabled = true\r\n            digit = _date.day\r\n        }\r\n        if (enabled) dateDigits.push(digit.json)\r\n    })\r\n    return dateDigits\r\n}\r\n\r\nfunction getWidgets(widgets: WatchWidgets): Widgets | null {\r\n    let result: Widgets = null\r\n    if (widgets) {\r\n        result = {\r\n            TopMaskImageIndex: widgets.topMaskImageIndex,\r\n            UnderMaskImageIndex: widgets.underMaskImageIndex,\r\n            Unknown4: widgets.showTimeOnEditScreen,\r\n            Widget: widgets.widgets?.length > 0 ? widgets.widgets.map((item) => getWidget(item)) : null\r\n        }\r\n    }\r\n    return result\r\n}\r\n\r\nfunction getWidget(widget: WatchWidget): Widget | null {\r\n    return ({\r\n        X: widget.x,\r\n        Y: widget.y,\r\n        Width: widget.width,\r\n        Height: widget.height,\r\n        BorderActivImageIndex: widget.borderActivImageIndex,\r\n        BorderInactivImageIndex: widget.borderInactivImageIndex,\r\n        DescriptionImageBackground: widget.descriptionImageBackground.json,\r\n        DescriptionWidthCheck: widget.descriptionWidthCheck,\r\n        WidgetElement: widget.widgetElements?.length ? widget.widgetElements.map( (we) => getWidgetElement(we)) : null\r\n    })\r\n}\r\n\r\nfunction getWidgetElement(we: WatchWidgetElement): WidgetElement {\r\n    let activitys = activitysToJson(we.activitys)\r\n\r\n    let dateEnabled = we.date.day.enabled || we.date.month.enabled || we.date.monthAsWord.enabled || \r\n                      we.date.weekDay.enabled || we.date.year.enabled\r\n    let dateDigits = getDate(we.date)\r\n\r\n    return {\r\n        Preview: [\r\n            {\r\n                LangCode: LangCodeType.All.json,\r\n                ImageSet: {\r\n                    ImageIndex: we.previewImageIndex,\r\n                    ImagesCount: 1\r\n                }\r\n            }\r\n        ],\r\n        Date: dateEnabled ? {\r\n            DateDigits: dateDigits.length > 0 ? dateDigits : null,\r\n            WeeksDigits: we.date.weekDay.enabled ? we.date.weekDay.json : null,\r\n            DateProgressBar: null,\r\n            DateClockHand: null\r\n        } : null,\r\n        Activity: activitys?.length > 0 ? activitys : null\r\n    }\r\n}\r\n","import { useRef, useEffect } from \"react\";\r\n\r\nconst Canvas = (props) => {\r\n  const { draw, className, ...rest } = props;\r\n  const canvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext(\"2d\");\r\n\r\n    const render = () => {\r\n      draw(canvas, context);\r\n    };\r\n    render();\r\n  }, [draw]);\r\n\r\n  return <canvas className={className} ref={canvasRef} {...rest} />;\r\n};\r\n\r\nexport default Canvas;\r\n","import { IImage } from \"../model/image.model\"\r\n\r\n\r\nexport function findImageById(id: number, images: IImage[]): HTMLImageElement | null {\r\n    if ( id === null || id === undefined ) return null\r\n    const i = images.find((item) => item.id === id)\r\n    if (i) {\r\n        return i.image\r\n    } else {\r\n        console.error('Image with Index  ' + id + ' not found')\r\n        return null\r\n    }\r\n}","import { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport { ImageCoord } from \"../model/json.model\";\r\n\r\nexport default function drawImageCoords(\r\n    ctx: CanvasRenderingContext2D,\r\n    images: IImage[], \r\n    imageCoord: ImageCoord) {\r\n        if (imageCoord.ImageIndex) {\r\n            let x = imageCoord.Coordinates?.X ? imageCoord.Coordinates.X : 0\r\n            let y = imageCoord.Coordinates?.Y ? imageCoord.Coordinates.Y : 0\r\n            const img = findImageById(imageCoord.ImageIndex, images)\r\n            if (img) ctx.drawImage(img, x, y, img.width, img.height);\r\n        }\r\n}","import { findImageById } from \"../shared/helper\"\r\nimport { IImage } from \"../model/image.model\"\r\nimport { AlignmentType, LangCodeType } from \"../model/types.model\"\r\nimport { MultilangImage } from \"../model/json.model\"\r\nimport { WatchCommonDigit } from \"../model/watchFace.model\"\r\nimport drawSeparator from './imageCoords.element'\r\n\r\nexport default function drawDigitImage(\r\n    ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    digit: WatchCommonDigit, \r\n    number: number, \r\n    followXY?: [number, number], \r\n    drawBorder?: boolean,\r\n    paddingZeroFix?: boolean,\r\n    weatherIconCenterX?: number\r\n    ): [number, number] | null  {\r\n    const x = followXY ? followXY[0] : ( digit.json?.Digit?.Image?.X ? digit.json?.Digit?.Image?.X : 0 )\r\n    const y = followXY ? followXY[1] : ( digit.json?.Digit?.Image?.Y ? digit.json?.Digit?.Image?.Y : 0 )\r\n    const imageSetIndex = findImageIndex(digit.json.Digit?.Image?.MultilangImage);\r\n    const unitImageSetIndex =findImageIndex(digit.json.Digit?.Image?.MultilangImageUnit);\r\n\r\n    //console.log(number, x, y, imageSetIndex, digit.json.Digit.Image.MultilangImage[imageSetIndex]?.ImageSet?.ImageIndex);\r\n    \r\n\r\n    if (digit.json.Digit?.Image?.MultilangImage &&\r\n        digit.json.Digit.Image.MultilangImage[imageSetIndex]?.ImageSet?.ImageIndex) {\r\n            let strNumber = number.toString()\r\n            if (number < 0) strNumber = (-number).toString()\r\n            if ( !digit.json.Digit.DisplayFormAnalog && (digit.json.Digit.PaddingZero || paddingZeroFix)) {\r\n                strNumber = strNumber.padStart(digit.con.numberLenght, '0' )\r\n            }\r\n            let ar: HTMLImageElement[] = []\r\n            if (digit.json.Digit.Image.DelimiterImageIndex) {\r\n                if (number < 0){\r\n                    const img = findImageById(digit.json.Digit.Image.DelimiterImageIndex, images)\r\n                    if (img) ar.push(img)\r\n                }\r\n            }\r\n\r\n            if (digit.json.Digit.DisplayFormAnalog) {\r\n                const img = findImageById(digit.json.Digit.Image.MultilangImage[imageSetIndex].ImageSet.ImageIndex + number, images)\r\n                if (img) ar.push(img)\r\n            } else {\r\n                ar = ar.concat(getImages(images, strNumber, \r\n                    digit.json.Digit.Image.MultilangImage[imageSetIndex].ImageSet.ImageIndex, \r\n                    digit.json.Digit.Image.MultilangImage[imageSetIndex].ImageSet.ImagesCount,\r\n                    digit.json.Digit.Image.DecimalPointImageIndex ))\r\n            }\r\n\r\n            let widthZero = 0\r\n            const img = findImageById(digit.json.Digit.Image.MultilangImage[imageSetIndex].ImageSet.ImageIndex, images)\r\n            if (img) { widthZero = img.width }\r\n\r\n            let widthUnit = 0\r\n            if (digit.json.Digit.Image.MultilangImageUnit && digit.json.Digit.Image.MultilangImageUnit[unitImageSetIndex]) {\r\n                const img = findImageById(digit.json.Digit.Image.MultilangImageUnit[unitImageSetIndex].ImageSet.ImageIndex, images)\r\n                if (img) {\r\n                    ar.push(img)\r\n                    widthUnit = img.width\r\n                }\r\n            }\r\n\r\n            const followXY = drawImages(ctx, ar, x, y, digit.json.Digit.Spacing, \r\n                digit.json.Digit.Alignment, digit.con.numberLenght, strNumber.length, \r\n                drawBorder, weatherIconCenterX, widthUnit, widthZero)\r\n\r\n            if ( digit.json.Separator) {\r\n                drawSeparator(ctx, images, digit.json.Separator)\r\n            }\r\n            return followXY\r\n        }\r\n        return followXY;\r\n    }\r\n\r\nfunction getImages(\r\n    images: IImage[], \r\n    strNumber: string, \r\n    startImageIndex: number, \r\n    count: number, decimalPointer: number): HTMLImageElement[] {\r\n    const ar: HTMLImageElement[] = []\r\n    for (let i = 0; i < strNumber.length; i++) {\r\n        if (decimalPointer && i === strNumber.length - 2) {\r\n            const img = findImageById(decimalPointer, images)\r\n            if (img) { ar.push(img) }\r\n        }\r\n        var chr = strNumber.charAt(i);\r\n        var n = parseInt(chr)\r\n        if (!isNaN(n) && n < count) {\r\n            const img = findImageById(startImageIndex + n, images)\r\n            if (img) { ar.push(img) }\r\n        } else {\r\n            alert('cant parse number string: ' + strNumber + ' at index ' + i)\r\n        }\r\n    }\r\n    return ar;\r\n}\r\n\r\nfunction drawImages(\r\n    ctx: CanvasRenderingContext2D,\r\n    ar: HTMLImageElement[], \r\n    startx: number, \r\n    starty: number, \r\n    spacing: number, \r\n    alignment: string, \r\n    numberLenght: number, \r\n    strLenght: number, \r\n    drawborder: boolean,\r\n    weatherIconCenterX?: number,\r\n    widthUnit?: number,\r\n    widthZero?: number): [number, number] | null  {\r\n    if ( ar.length === 0) return\r\n    \r\n    if (!spacing) spacing = 0\r\n    \r\n    let imageWidth: number = 0\r\n    //let maxWidth: number = 0\r\n    ar.forEach(img => {\r\n        imageWidth += img.width\r\n        imageWidth += spacing\r\n        //maxWidth += img.width\r\n        //maxWidth += spacing > 0 ? spacing : 0\r\n    })\r\n    imageWidth -= spacing\r\n    //maxWidth -= spacing > 0 ? spacing : 0\r\n\r\n    //if (paddingLenght > 0) {\r\n        //maxWidth +=  widthZero * paddingLenght + 1\r\n        //if (spacing > 0) maxWidth += Math.abs(spacing) * (paddingLenght - 1)\r\n    //}\r\n\r\n    let maxWidth: number = widthZero * strLenght + widthZero * (numberLenght - strLenght)\r\n    if (spacing > 0 ) maxWidth += spacing * (ar.length + numberLenght - strLenght - 1)\r\n\r\n    if ( imageWidth > maxWidth ) maxWidth = imageWidth;\r\n\r\n    let x = startx\r\n    let y = starty\r\n    if (alignment === AlignmentType.Right.json) { // right\r\n        x = x + maxWidth - imageWidth\r\n    } else if (alignment === AlignmentType.Center.json) { // center\r\n        if (weatherIconCenterX) {\r\n            x = weatherIconCenterX - (imageWidth - widthUnit) / 2\r\n        } else {\r\n            x = x + maxWidth / 2 - imageWidth / 2\r\n        }\r\n    }\r\n    \r\n\r\n    let height = 0\r\n\r\n    ar.forEach(img => {\r\n        ctx.drawImage(img, x, y);\r\n        height = Math.max(img.height, height)\r\n        x += img.width\r\n        if ( spacing ) x += spacing\r\n    })\r\n    if ( drawborder) {\r\n        ctx.beginPath();\r\n        ctx.strokeStyle = 'gray'\r\n        ctx.rect(startx, starty, maxWidth, height);\r\n        ctx.stroke();\r\n    }\r\n\r\n    return [x, y]\r\n}\r\n\r\n\r\nfunction findImageIndex(ar: MultilangImage[]): number {\r\n    if (!ar) return null\r\n    let resultIndex = 0\r\n    ar.forEach((item, index) => {\r\n        if ( item.LangCode === LangCodeType.All.json) {\r\n            resultIndex = index\r\n        }\r\n    })\r\n   \r\n    return resultIndex\r\n  }","\r\nimport { WatchCommonDigit } from \"../model/watchFace.model\";\r\nimport Color from \"../shared/color\";\r\n\r\nexport function drawSystemFont(\r\n    ctx: CanvasRenderingContext2D,\r\n    digit: WatchCommonDigit, \r\n    text: string): [number, number] | null {\r\n    if (! digit.json?.Digit?.SystemFont) return null\r\n\r\n    let systemFont = digit.json.Digit.SystemFont\r\n    let fontSize: number = systemFont.Size ? systemFont.Size*0.8 : 0;\r\n    let spacing: number = digit.json.Digit.Spacing\r\n    ctx.font = `${fontSize}px Verdana`;\r\n\r\n    ctx.save();\r\n    var tx = systemFont.Coordinates?.X ? systemFont.Coordinates.X : 0;\r\n    var ty = systemFont.Coordinates?.Y ? systemFont.Coordinates.Y : 0;\r\n    let radians = Math.PI / 180 * (systemFont.Angle)\r\n    ctx.translate(tx, ty);\r\n    ctx.rotate(radians);\r\n    ctx.fillStyle = Color.colorRead(systemFont.Color)\r\n    let x = 0;\r\n    for (var i = 0; i < text.length; i++) {\r\n        ctx.fillText(text[i], x, 0);\r\n        x = x + ctx.measureText(text[i]).width + spacing\r\n    }\r\n    ctx.restore();\r\n    return null\r\n}\r\n\r\nexport function drawSystemFontFontRotated(\r\n    ctx: CanvasRenderingContext2D, \r\n    digit: WatchCommonDigit, \r\n    text: string): [number, number] | null {\r\n    \r\n        if (! digit.json?.Digit?.SystemFont) return null\r\n\r\n    let systemFont = digit.json.Digit.SystemFont\r\n    let fontSize = systemFont.Size ? systemFont.Size*0.8 : 0;\r\n    let radius = systemFont.FontRotate.Radius\r\n    let spacing: number = digit.json.Digit.Spacing\r\n   \r\n    ctx.font = `${fontSize}px Verdana`;\r\n\r\n    var tx = systemFont.FontRotate?.X ? systemFont.FontRotate.X : 0;\r\n    var ty = systemFont.FontRotate?.Y ? systemFont.FontRotate.Y : 0;\r\n    ctx.fillStyle = Color.colorRead(systemFont.Color)\r\n    \r\n    ctx.save();\r\n    ctx.translate(tx, ty);\r\n    if ( systemFont.FontRotate.RotateDirection !== 1) {\r\n        ctx.rotate(Math.PI / 180 * systemFont.Angle);\r\n        for (var i = 0; i < text.length; i++) {\r\n            let width = ctx.measureText(text[i]).width\r\n            ctx.fillText(text[i], 0, - systemFont.FontRotate.Radius);\r\n            let sp = width + spacing\r\n            let spacingAngle = sp * 180 / (radius * Math.PI)\r\n            ctx.rotate( Math.PI / 180 * spacingAngle );\r\n        }\r\n    } else {\r\n        ctx.rotate(Math.PI / 180 * (180 - systemFont.Angle) );\r\n        for (var j = 0; j < text.length; j++) {\r\n            let width = ctx.measureText(text[j]).width\r\n            ctx.fillText(text[j], 0, + systemFont.FontRotate.Radius);\r\n            let sp = width + spacing\r\n            let spacingAngle = sp * 180 / (radius * Math.PI)\r\n            ctx.rotate( Math.PI / 180 * -spacingAngle );\r\n        }\r\n    }\r\n    ctx.restore();\r\n    return null\r\n}\r\n\r\nexport function addUnitsAndSeparator(text: string, digit: WatchCommonDigit): string {\r\n    let systemFont = digit.json.Digit?.SystemFont\r\n    let result = text\r\n    if ( !systemFont) return result\r\n    if (systemFont.ShowUnitCheck === -1) {\r\n        result = result + digit.con.unit[0]\r\n    } else if (systemFont.ShowUnitCheck === 1) {\r\n        result = result + digit.con.unit[1]\r\n    } else if ( systemFont.ShowUnitCheck === 2) {\r\n        result = result + digit.con.unit[2]\r\n    } \r\n    if (digit.json.Separator) {\r\n        result = result + digit.con.separator\r\n    }\r\n    return result;\r\n}\r\n\r\nexport function getSystemFontText(digit: WatchCommonDigit, value: number): string {\r\n    let systemFontText = value.toString()\r\n    \r\n    if (digit.json.Digit.PaddingZero) {\r\n        systemFontText = systemFontText.padStart(digit.con.numberLenght, '0')\r\n    }\r\n    if (digit.con.decimalDelimiter) {\r\n        if ( systemFontText.length > 3)\r\n            systemFontText = systemFontText.substring(0, systemFontText.length-2) + '.' + systemFontText.substring(systemFontText.length-2, systemFontText.length)\r\n        else if ( systemFontText.length > 1 )\r\n            systemFontText = systemFontText.substring(0, systemFontText.length-1) + '.' + systemFontText.substring(systemFontText.length-1, systemFontText.length)\r\n    }\r\n    if (digit.con.timeDelimiter && systemFontText.length > 2 )\r\n        systemFontText = systemFontText.substring(0, systemFontText.length-2) + ':' + systemFontText.substring(systemFontText.length-2, systemFontText.length)\r\n    systemFontText = addUnitsAndSeparator(systemFontText, digit)\r\n    return systemFontText\r\n}\r\n\r\n\r\n","import { IImage } from \"../model/image.model\"\r\nimport { WatchCommonDigit } from \"../model/watchFace.model\"\r\nimport drawDigitImage from \"./digitImage.element\"\r\nimport {drawSystemFont, drawSystemFontFontRotated} from \"./systemfont.element\"\r\n\r\nexport default function drawDigit(\r\n    ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    digit: WatchCommonDigit, \r\n    number: number, \r\n    followXY?: [number, number], \r\n    drawBorder?: boolean,\r\n    paddingZeroFix?: boolean,\r\n    systemFontText?: string,\r\n    weatherIconCenterX?: number\r\n    ): [number, number] | null  {\r\n        if (!digit) return\r\n        if (digit.enabledImage) \r\n            return drawDigitImage(ctx, images, digit, number, followXY, drawBorder, paddingZeroFix, weatherIconCenterX)\r\n        if (digit.enabledSystemFont || digit.enabledSystemFontCircle) {\r\n            if (!systemFontText) return followXY\r\n            if (digit.enabledSystemFontCircle)\r\n                return drawSystemFontFontRotated(ctx, digit, systemFontText)\r\n            else\r\n                return drawSystemFont(ctx, digit, systemFontText)\r\n        }\r\n        return followXY\r\n}\r\n\r\n","import Color from \"../shared/color\";\r\nimport { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport {  WatchProgressBar } from \"../model/watchFace.model\";\r\n\r\nexport default function drawProgressBarCircle(ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    progressBar: WatchProgressBar,\r\n    value: number, total: number) {\r\n        if (total === null) return\r\n        if ( progressBar.jsonObj?.AngleSettings) {\r\n\r\n            let width = progressBar.jsonObj.Width ? progressBar.jsonObj.Width : 0\r\n\r\n            let angleSettings = progressBar.jsonObj.AngleSettings\r\n            let ax = angleSettings.X ? angleSettings.X : 0\r\n            let ay = angleSettings.Y ? angleSettings.Y : 0\r\n            if (value > total) value = total\r\n            let startAngle = angleSettings.StartAngle ? angleSettings.StartAngle : 0\r\n            let endAngle = angleSettings.EndAngle ? angleSettings.EndAngle : 360\r\n            let sector_angle = startAngle + (value * (endAngle - startAngle ) / total)\r\n            let radius = angleSettings.Radius  \r\n            \r\n            if (progressBar.jsonObj?.ForegroundImageIndex) {\r\n                const img = findImageById(progressBar.jsonObj.ForegroundImageIndex, images)\r\n                if (img) {\r\n\r\n                    let dX = (ax - radius - (width / 2))\r\n                    let dY = (ay - radius - (width / 2))\r\n\r\n                    if (progressBar.jsonObj?.BackgroundImageIndex) {\r\n                        const backimg = findImageById(progressBar.jsonObj.BackgroundImageIndex, images)\r\n                        if (backimg) {\r\n                            ctx.drawImage(backimg, dX, dY, backimg.width, backimg.height);\r\n                        }\r\n                    }\r\n\r\n                    /// use save when using clip Path\r\n                    ctx.save();\r\n                    ctx.beginPath();\r\n                    drawArcPath(ctx, progressBar.jsonObj.Flatness, \r\n                        ax, ay, startAngle, sector_angle, radius, width)\r\n                    \r\n                    /// define this Path as clipping mask\r\n                    ctx.clip();\r\n\r\n                    /// draw the image\r\n                    ctx.drawImage(img, ax - img.width/2, ay - img.height/2);\r\n                    //ctx.stroke() // test\r\n                    /// reset clip to default\r\n                    ctx.restore();\r\n                }\r\n            } else if (progressBar.jsonObj?.Color) {\r\n                let color = Color.colorRead(progressBar.jsonObj.Color)\r\n                if ( Color.GFG_Fun(color)) {\r\n\r\n                    let dX = (ax - radius - (width / 2))\r\n                    let dY = (ay - radius - (width / 2))\r\n\r\n                    if (progressBar.jsonObj?.BackgroundImageIndex) {\r\n                        const backimg = findImageById(progressBar.jsonObj.BackgroundImageIndex, images)\r\n                        if (backimg) {\r\n                            ctx.drawImage(backimg, dX, dY, backimg.width, backimg.height);\r\n                        }\r\n                    }\r\n\r\n                    // begin by calling ctx.beginPath\r\n                    ctx.beginPath();\r\n\r\n                    let radianStart = (Math.PI/180) * (startAngle-90)\r\n                    let radianEnd = (Math.PI/180) * (sector_angle-90)\r\n                    let clockwise = radianStart < radianEnd;\r\n                    \r\n                    // calling canvas src with all arguments\r\n                    ctx.arc(ax, ay,\r\n                        radius, radianStart, radianEnd, !clockwise);\r\n                    // set stroke and fill style\r\n                    ctx.strokeStyle = color;\r\n                    ctx.lineWidth = width;\r\n                    // fill, and stroke\r\n                    ctx.stroke();\r\n                    drawColorEndings(ctx, color, progressBar.jsonObj.Flatness, \r\n                        ax, ay, startAngle, sector_angle, radius, width)\r\n                    ctx.lineWidth = 1;\r\n                }\r\n            }\r\n            if (progressBar.jsonObj?.PointerImageIndex) {\r\n                const img = findImageById(progressBar.jsonObj.PointerImageIndex, images)\r\n                if (img) {\r\n                    let _x = ax + (radius) * Math.cos(Math.PI * (sector_angle - 90) / 180)\r\n                    let _y = ay + (radius) * Math.sin(Math.PI * (sector_angle - 90) / 180)\r\n                    ctx.drawImage(img, _x, _y, img.width, img.height);\r\n                }\r\n            }\r\n        }\r\n}\r\n\r\nfunction drawArcPath(ctx: CanvasRenderingContext2D, flatness: number, x: number, y: number, \r\n    startAngle: number, endAngle: number, radius: number, width: number) {\r\n    if (width < 3) return\r\n\r\n    if (flatness === 0 || !flatness) {\r\n        let xc1 = x + (radius) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let yc1 = y + (radius) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n\r\n        let xc2 = x + (radius) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        let yc2 = y + (radius) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n\r\n        let radianStart = (Math.PI/180) * (startAngle-90)\r\n        let radianEnd = (Math.PI/180) * (endAngle-90)\r\n        let clockwise = radianStart < radianEnd;\r\n\r\n        ctx.arc(x, y, radius-width/2, radianStart, radianEnd, !clockwise);\r\n        ctx.arc(xc1, yc1, width/2, radianStart - Math.PI, radianStart, !clockwise)\r\n        ctx.arc(x, y, radius+width/2, radianStart, radianEnd, !clockwise);\r\n        ctx.arc(xc2, yc2, width/2, radianEnd , radianEnd + Math.PI, !clockwise)\r\n\r\n    } else if (flatness === 90) {\r\n        // spike\r\n\r\n        let radianStart = (Math.PI/180) * (startAngle-90)\r\n        let radianEnd = (Math.PI/180) * (endAngle-90)\r\n        let clockwise = radianStart < radianEnd;\r\n\r\n        let x1 = x + (radius-width/2) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let y1 = y + (radius-width/2) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n        \r\n        let x2 = x + (radius) * Math.cos(Math.PI * (startAngle - ( clockwise ? 1 : -1) * (width/2 * 360 / (2 * Math.PI * (radius - width / 2))) - 90) / 180)\r\n        let y2 = y + (radius) * Math.sin(Math.PI * (startAngle - ( clockwise ? 1 : -1) * (width/2 * 360 / (2 * Math.PI * (radius - width / 2))) - 90) / 180)\r\n        \r\n        let x3 = x + (radius+width/2) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let y3 = y + (radius+width/2) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n        \r\n        //let x4 = x + (radius+width/2) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        //let y4 = y + (radius+width/2) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n\r\n        let x5 = x + (radius) * Math.cos(Math.PI * (endAngle + ( clockwise ? 1 : -1) * width/2 * 360 / (2 * Math.PI * (radius - width / 2)) - 90) / 180)\r\n        let y5 = y + (radius) * Math.sin(Math.PI * (endAngle + ( clockwise ? 1 : -1) * width/2 * 360 / (2 * Math.PI * (radius - width / 2)) - 90) / 180)\r\n        \r\n        let x6 = x + (radius-width/2) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        let y6 = y + (radius-width/2) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n        \r\n        ctx.arc(x, y, radius-width/2, radianStart, radianEnd, !clockwise);\r\n        \r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.lineTo(x3, y3);\r\n        \r\n        ctx.arc(x, y, radius+width/2, radianStart, radianEnd, !clockwise);\r\n        ctx.lineTo(x5, y5);\r\n        ctx.lineTo(x6, y6);\r\n\r\n    } else {\r\n        // flat\r\n        let x1 = x + (radius-width/2) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let y1 = y + (radius-width/2) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n\r\n        let x2 = x + (radius+width/2) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let y2 = y + (radius+width/2) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n        \r\n        //let x3 = x + (radius+width/2) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        //let y3 = y + (radius+width/2) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n        \r\n        let x4 = x + (radius-width/2) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        let y4 = y + (radius-width/2) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n        \r\n        let radianStart = (Math.PI/180) * (startAngle-90)\r\n        let radianEnd = (Math.PI/180) * (endAngle-90)\r\n        let clockwise = radianStart < radianEnd;\r\n\r\n        ctx.arc(x, y, radius-width/2, radianStart, radianEnd, !clockwise);\r\n        ctx.moveTo(x1, y1)\r\n        ctx.lineTo(x2, y2)\r\n        ctx.arc(x, y, radius+width/2, radianStart, radianEnd, !clockwise);\r\n        ctx.lineTo(x4, y4)\r\n    }\r\n}\r\n\r\nfunction drawColorEndings(ctx: CanvasRenderingContext2D, color: string, \r\n    flatness: number, x: number, y: number, startAngle: number, endAngle: number, \r\n    radius: number, width: number) {\r\n    if (width < 3) return\r\n\r\n\r\n\r\n    if (flatness === 0 || !flatness) {\r\n        // round edges\r\n        let _x = x + (radius) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let _y = y + (radius) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n        \r\n        ctx.beginPath();\r\n        ctx.lineWidth = 1;\r\n        ctx.arc(_x, _y, width/2-1, 0, 2 * Math.PI);\r\n        ctx.strokeStyle = color;\r\n        ctx.fillStyle = color;\r\n        ctx.stroke();\r\n        ctx.fill()\r\n\r\n        _x = x + (radius) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        _y = y + (radius) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 1;\r\n        ctx.arc(_x, _y, width/2-1, 0, 2* Math.PI)\r\n        ctx.strokeStyle = color;\r\n        ctx.fillStyle = color;\r\n        ctx.stroke();\r\n        ctx.fill()\r\n    } else if (flatness === 90) {\r\n        // spike\r\n        let x1 = x + (radius+width/2) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let y1 = y + (radius+width/2) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n\r\n        let x2 = x + (radius-width/2) * Math.cos(Math.PI * (startAngle - 90) / 180)\r\n        let y2 = y + (radius-width/2) * Math.sin(Math.PI * (startAngle - 90) / 180)\r\n\r\n        let x3 = x + (radius) * Math.cos(Math.PI * (startAngle - width/2 * 360 / (2 * Math.PI * (radius - width / 2)) - 90) / 180)\r\n        let y3 = y + (radius) * Math.sin(Math.PI * (startAngle - width/2 * 360 / (2 * Math.PI * (radius - width / 2)) - 90) / 180)\r\n\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 1;\r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.lineTo(x3, y3);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n\r\n        x1 = x + (radius+width/2) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        y1 = y + (radius+width/2) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n\r\n        x2 = x + (radius-width/2) * Math.cos(Math.PI * (endAngle - 90) / 180)\r\n        y2 = y + (radius-width/2) * Math.sin(Math.PI * (endAngle - 90) / 180)\r\n\r\n        x3 = x + (radius) * Math.cos(Math.PI * (endAngle + width/2 * 360 / (2 * Math.PI * (radius - width / 2)) - 90) / 180)\r\n        y3 = y + (radius) * Math.sin(Math.PI * (endAngle + width/2 * 360 / (2 * Math.PI * (radius - width / 2)) - 90) / 180)\r\n\r\n        ctx.fillStyle = color;\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 1;\r\n        ctx.moveTo(x1, y1);\r\n        ctx.lineTo(x2, y2);\r\n        ctx.lineTo(x3, y3);\r\n        ctx.closePath();\r\n        ctx.fill();\r\n    }\r\n}","import Color from \"../shared/color\";\r\nimport { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport {  WatchProgressBar } from \"../model/watchFace.model\";\r\n\r\nexport default function drawProgressBarLinear(ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    progressBar: WatchProgressBar,\r\n    value: number, total: number) {\r\n        if (total === null) return\r\n        if (value > total) value = total\r\n        if ( progressBar.jsonObj?.LinearSettings) {\r\n            let lineB = progressBar.jsonObj.LinearSettings\r\n            if (progressBar.jsonObj?.BackgroundImageIndex) {\r\n                const img = findImageById(progressBar.jsonObj.BackgroundImageIndex, images)\r\n                if (img) {\r\n                    let x = lineB.StartX ? lineB.StartX : 0\r\n                    let y = lineB.StartY ? lineB.StartY : 0\r\n                    let endx = lineB.EndX ? lineB.EndX : x + img.width\r\n                    let endy = lineB.EndY ? lineB.EndY : y + img.height\r\n                    let width = Math.min(endx - x, img.width)\r\n                    let height = Math.min(endy - y, img.height)\r\n                    ctx.drawImage(img, x, y, width, height);\r\n                }\r\n            }\r\n            if (progressBar.jsonObj?.ForegroundImageIndex) {\r\n                const img = findImageById(progressBar.jsonObj.ForegroundImageIndex, images)\r\n                if (img) {\r\n                    let x = lineB.StartX ? lineB.StartX : 0\r\n                    let y = lineB.StartY ? lineB.StartY : 0\r\n                    let endx = lineB.EndX ? lineB.EndX : x + img.width\r\n                    let width = value * (endx - x) / total\r\n                    width = Math.min(width, img.width)\r\n                    let height = progressBar.jsonObj.Width\r\n                    height = Math.min(height, img.height)\r\n                    \r\n                    /// use save when using clip Path\r\n                    ctx.save();\r\n                    ctx.beginPath();\r\n                    drawArcPath(ctx, progressBar.jsonObj.Flatness, x, y, width, height)\r\n                    /// define this Path as clipping mask\r\n                    ctx.clip();\r\n                    \r\n                    /// draw the image\r\n                    ctx.drawImage(img, x, y);\r\n                    \r\n                    //ctx.stroke() // test\r\n                    /// reset clip to default\r\n                    ctx.restore();\r\n                }\r\n            } else if (progressBar.jsonObj?.Color) {\r\n                let color = Color.colorRead(progressBar.jsonObj.Color)\r\n                if ( Color.GFG_Fun(color)) {\r\n                    ctx.fillStyle = color\r\n                    let x = lineB.StartX ? lineB.StartX : 0\r\n                    let y = lineB.StartY ? lineB.StartY : 0\r\n                    let endx = lineB.EndX ? lineB.EndX : x\r\n                    let height = progressBar.jsonObj.Width\r\n                    let width = value * (endx - x) / total\r\n                    ctx.fillRect(x, y, width, height)\r\n                    drawColorEndings(ctx, color, progressBar.jsonObj.Flatness, x, y, width, height)\r\n                }\r\n            }\r\n            if (progressBar.jsonObj?.PointerImageIndex) {\r\n                const img = findImageById(progressBar.jsonObj.PointerImageIndex, images)\r\n                \r\n                if (img) {\r\n                    let x = lineB.StartX ? lineB.StartX : 0\r\n                    let y = lineB.StartY ? lineB.StartY : 0\r\n                    let endx = lineB.EndX ? lineB.EndX : x\r\n                    let width = value * (endx - x) / total - img.width\r\n                    if ( width >= 0)\r\n                        ctx.drawImage(img, x + width, y);\r\n                }\r\n            }\r\n        }\r\n}\r\n\r\n\r\nfunction drawArcPath(ctx: CanvasRenderingContext2D,  \r\n    flatness: number, x: number, y: number, width: number, height: number) {\r\n\r\n    if (flatness === 0 || !flatness) {\r\n        // round edges\r\n        let xc1 = x \r\n        let y1 = y \r\n        \r\n        let xc2 = x + width - height / 2\r\n        let y2 = y + height\r\n\r\n        ctx.arc(xc1, y + height/2, height/2, 0.5*Math.PI, 1.5*Math.PI );\r\n        ctx.lineTo(xc2, y1)\r\n        ctx.arc(xc2, y + height/2, height/2, 1.5*Math.PI, 0.5*Math.PI );\r\n        ctx.lineTo(xc1, y2)\r\n    } else {\r\n        ctx.rect(x, y, width, height)\r\n    }\r\n}\r\n\r\nfunction drawColorEndings(ctx: CanvasRenderingContext2D, color: string, \r\n    flatness: number, x: number, y: number, width: number, height: number) {\r\n    if (width < 3) return\r\n    \r\n    if (flatness === 0 || !flatness) {\r\n        // round edges\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 1;\r\n        ctx.arc(x, y+height/2, height/2-1, 0, 2 * Math.PI);\r\n        ctx.strokeStyle = color;\r\n        ctx.fillStyle = color;\r\n        ctx.stroke();\r\n        ctx.fill()\r\n\r\n        let x2 = x + width\r\n\r\n        ctx.beginPath();\r\n        ctx.lineWidth = 1;\r\n        ctx.arc(x2, y+height/2, height/2-1, 0, 2* Math.PI)\r\n        ctx.strokeStyle = color;\r\n        ctx.fillStyle = color;\r\n        ctx.stroke();\r\n        ctx.fill()\r\n    } \r\n}","import { findImageById } from \"../shared/helper\";\r\nimport { Constant } from \"../shared/constant\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport { MultilangImage } from \"../model/json.model\";\r\nimport { WatchClockHand } from \"../model/watchFace.model\";\r\nimport { LangCodeType } from \"../model/types.model\";\r\n\r\nexport default function drawclockhand(ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    clockHand: WatchClockHand, value: number, total: number) {\r\n        if (total === null) return\r\n        if (clockHand.json.Scale) {\r\n            const scaleImageSetIndex = findImageIndex(clockHand.json.Scale?.ImageSet);\r\n            if (clockHand.json.Scale.ImageSet[scaleImageSetIndex].ImageSet.ImageIndex >= 0) {\r\n                let x = clockHand.json.Scale.Coordinates?.X ? clockHand.json.Scale.Coordinates?.X : 0\r\n                let y = clockHand.json.Scale.Coordinates?.Y ? clockHand.json.Scale.Coordinates?.Y : 0\r\n                let img = findImageById(clockHand.json.Scale.ImageSet[scaleImageSetIndex].ImageSet.ImageIndex, images)\r\n                if (img) ctx.drawImage(img, x, y, img.width, img.height);\r\n            }\r\n        }\r\n        if (clockHand.json.Pointer?.ImageIndex >= 0) {\r\n            let x = clockHand.json.X ? clockHand.json.X : 0\r\n            let y = clockHand.json.Y ? clockHand.json.Y : 0\r\n            if ( ! (clockHand.json.X > 0) && ! (clockHand.json.Y > 0)) {\r\n                x = clockHand.json.X ? clockHand.json.X : Constant.width / 2\r\n                y = clockHand.json.Y ? clockHand.json.Y : Constant.height / 2\r\n            }\r\n            let img = findImageById(clockHand.json.Pointer?.ImageIndex, images)\r\n            if (img) {\r\n                let offsetX = clockHand.json.Pointer.Coordinates?.X ? clockHand.json.Pointer.Coordinates?.X : 0\r\n                let offsetY = clockHand.json.Pointer.Coordinates?.Y ? clockHand.json.Pointer.Coordinates?.Y : 0\r\n                \r\n                let _startAngle = clockHand.json.StartAngle ? clockHand.json.StartAngle: 0\r\n                let _endAngle = clockHand.json.EndAngle ? clockHand.json.EndAngle: 360\r\n                if (value > total) value = total\r\n                let angle = _startAngle + (value * (_endAngle - _startAngle ) / total)\r\n                //angle = Math.min(angle, _endAngle)\r\n                //angle = Math.max(angle, _startAngle)\r\n                let radians = (Math.PI/180) * angle\r\n                \r\n                ctx.save(); // save current state\r\n                ctx.translate(x, y); // change origin to center of rotation\r\n                ctx.rotate(radians); // rotate\r\n                ctx.drawImage(img, -offsetX, -offsetY, img.width, img.height);\r\n                ctx.restore(); // restore original states (no rotation etc)\r\n            }\r\n        }\r\n        if (clockHand.json.Cover?.ImageIndex >= 0) {\r\n            let x = clockHand.json.Cover?.Coordinates?.X ? clockHand.json.Cover.Coordinates.X : 0\r\n            let y = clockHand.json.Cover?.Coordinates?.Y ? clockHand.json.Cover.Coordinates?.Y : 0\r\n            let img = findImageById(clockHand.json.Cover.ImageIndex, images)\r\n            if ( img ) ctx.drawImage(img, x, y, img.width, img.height);\r\n        }\r\n}\r\n\r\nfunction findImageIndex(ar: MultilangImage[]): number {\r\n    let index = ar.findIndex((item) => item.LangCode === LangCodeType.All.json)\r\n    return index ? index : 0\r\n  }","import { IImage } from \"../model/image.model\";\r\nimport { ActivityType, FollowType } from \"../model/types.model\";\r\nimport { WatchActivity } from \"../model/watchFace.model\";\r\nimport { WatchState } from \"../model/watchState\";\r\nimport drawDigit from \"./digit.element\";\r\nimport drawImageCoords from \"./imageCoords.element\";\r\nimport drawImageProgress from \"./imageProgress.element\";\r\nimport drawProgressBarCircle from \"./progressBarCircle.element\";\r\nimport drawProgressBarLinear from \"./progressBarLinear.element\";\r\nimport drawclockhand from \"./clockHand.element\";\r\nimport { getSystemFontText } from \"./systemfont.element\";\r\nimport { oneCoordinates } from \"../model/json.model\";\r\nimport { findImageById } from \"../shared/helper\";\r\n\r\ninterface IDigitDraw {\r\n    cur: {\r\n        value: number,\r\n        total: number\r\n    },\r\n    min: {\r\n        value: number,\r\n        total: number\r\n    },\r\n    max: {\r\n        value: number,\r\n        total: number\r\n    },\r\n    imageProgress: {\r\n        value: number,\r\n        total: number\r\n    }\r\n}\r\n\r\nexport default function drawActivityList(\r\n    ctx: CanvasRenderingContext2D, \r\n    images: IImage[],\r\n    activitys: WatchActivity[],\r\n    watchState: WatchState,\r\n    digitBorder: boolean,\r\n    mainScreen: boolean = false\r\n    ) {\r\n        let val = 0\r\n        let total = 0\r\n        if (!activitys) return\r\n\r\n        let weatherIconCenterX = 0\r\n        let weatherTemperatureActivityIndex: number;\r\n        if ( mainScreen) {\r\n            activitys.forEach((activity, index) => {\r\n                if (activity.type === ActivityType.Weather) {\r\n                    if (activity.digit.enabledImage) {\r\n                        weatherTemperatureActivityIndex = index\r\n                    }\r\n                    if (activity.imageProgress.enabled && activity.imageProgress.json?.ImageSet?.ImageIndex &&\r\n                        activity.imageProgress.json?.Coordinates && oneCoordinates(activity.imageProgress.json.Coordinates)\r\n                        ) {\r\n\r\n                        let imageIndexWeather = activity.imageProgress.json.ImageSet.ImageIndex;\r\n                        let _image_x = activity.imageProgress.json.Coordinates[0].X;\r\n                        let img = findImageById(imageIndexWeather, images);\r\n                        if (img) {\r\n                            weatherIconCenterX = _image_x + img.width / 2;\r\n                            if ( weatherTemperatureActivityIndex && index >= weatherTemperatureActivityIndex) weatherIconCenterX = 0;\r\n                        }\r\n                    }\r\n                }\r\n            }) \r\n        }\r\n\r\n        activitys.forEach((activity) => {\r\n            switch (activity.type) {\r\n                case ActivityType.Battery:\r\n                    val = watchState.battery\r\n                    total = watchState.batteryGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: null, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.Steps:\r\n                    val = watchState.steps\r\n                    total = watchState.stepsGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null }, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, digitBorder)\r\n                    break;\r\n                case ActivityType.Calories:\r\n                    val = watchState.calories\r\n                    total = watchState.caloriesGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null }, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, digitBorder)\r\n                    break;\r\n                case ActivityType.HeartRate:\r\n                    val = watchState.hearthrate\r\n                    total = watchState.hearthrateGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: null, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, digitBorder)\r\n                    break;\r\n                case ActivityType.Pai:\r\n                    val = watchState.pai\r\n                    total = watchState.paiGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: null, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, digitBorder)\r\n                    break;\r\n                case ActivityType.Distance:\r\n                    val = watchState.distance\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: null }, \r\n                        min: null,\r\n                        max: null, \r\n                        imageProgress: null}, digitBorder)\r\n                    break;\r\n                case ActivityType.StandUp:\r\n                    val = watchState.standup\r\n                    total = watchState.standupGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total },\r\n                        min: { value: total, total: null }, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, digitBorder)\r\n                    break;\r\n                case ActivityType.Weather:\r\n                    drawActivity(ctx, images, activity, {\r\n                        cur: { value: watchState.temperature, total: null },\r\n                        min: { value: watchState.temperatureMin, total: null }, \r\n                        max: { value: watchState.temperatureMax, total: null }, \r\n                        imageProgress: { value: watchState.weatherIcon, total: 29}},\r\n                        digitBorder, weatherIconCenterX)\r\n                        break;\r\n                case ActivityType.UVindex:\r\n                    val = watchState.uvIndex\r\n                    total = watchState.uvIndexGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null },\r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.AirQuality:\r\n                    val = watchState.airQuality\r\n                    total = watchState.airQualityGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null }, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.Humidity:\r\n                    val = watchState.humidity\r\n                    total = watchState.humidityGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null }, \r\n                        max: null,\r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.Sunrise:\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: watchState.sunrise, total: null }, \r\n                        min: { value: watchState.sunrise, total: null }, \r\n                        max: { value: watchState.sunset, total: null }, \r\n                        imageProgress: { value: 1, total: 2}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.WindForce:\r\n                    val = watchState.windForce\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: null }, \r\n                        min: null, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: null}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.AirPressure:\r\n                    val = watchState.airPressure\r\n                    total = watchState.airPressureGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: null, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.Stress:\r\n                    val = watchState.stress\r\n                    total = watchState.stressGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: null, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.ActivityGoal:\r\n                    val = watchState.steps\r\n                    total = watchState.stepsGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null }, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                case ActivityType.FatBurning:\r\n                    val = watchState.fatBurning\r\n                    total = watchState.fatBurningGoal\r\n                    drawActivity(ctx, images, activity, { \r\n                        cur: { value: val, total: total }, \r\n                        min: { value: total, total: null }, \r\n                        max: null, \r\n                        imageProgress: { value: val, total: total}}, \r\n                        digitBorder)\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        });\r\n}\r\n\r\nfunction drawActivity(\r\n    ctx: CanvasRenderingContext2D, images: IImage[], a: WatchActivity, \r\n    values: IDigitDraw, digitBorder: boolean, weatherIconCenterX?: number) {\r\n    let followXY = null\r\n\r\n    if (a.imageProgress.enabled) {\r\n        drawImageProgress(ctx, images, a.imageProgress, values.imageProgress.value, values.imageProgress.total)\r\n    }\r\n    if (a.progressBar.enabledLinear) {\r\n        drawProgressBarLinear(ctx, images, a.progressBar, values.cur.value, values.cur.total)\r\n    }\r\n    if (a.progressBar.enabledCircle) {\r\n        drawProgressBarCircle(ctx, images, a.progressBar, values.cur.value, values.cur.total)\r\n    }\r\n    if (a.pointerProgress.enabled) {\r\n        drawclockhand(ctx, images, a.pointerProgress, values.cur.value, values.cur.total)\r\n    }\r\n    if (a.icon.enabled) {\r\n        drawImageCoords(ctx, images, a.icon.json)\r\n    }\r\n    if (a.digit?.enabled) {\r\n        followXY = drawDigit(ctx, images, a.digit, values.cur.value, \r\n            followXY, digitBorder, \r\n            false, getSystemFontText(a.digit, values.cur.value), weatherIconCenterX)\r\n    }\r\n    if (a.digitMin?.enabled && values.min) {\r\n        followXY = drawDigit(ctx, images, a.digitMin, values.min.value, \r\n            a.digitMin.json.CombingMode === FollowType.Single.json ? null : followXY, digitBorder, \r\n            false, getSystemFontText(a.digitMin, values.min.value))\r\n    }\r\n    if (a.digitMax?.enabled && values.max) {\r\n        drawDigit(ctx, images, a.digitMax, values.max.value, \r\n            a.digitMax.json.CombingMode === FollowType.Single.json ? null : followXY, digitBorder, \r\n            false, \r\n            getSystemFontText(a.digitMax, values.max.value))\r\n    }\r\n}\r\n","import { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport { WatchImageProgress } from \"../model/watchFace.model\";\r\n\r\nexport default function drawImageProgress(ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    imageProgress: WatchImageProgress,\r\n    value: number, total: number) {\r\n        if (total === null) return\r\n        if (imageProgress.enabled && imageProgress.json.ImageSet?.ImageIndex) {\r\n            if ( imageProgress.json.Coordinates) {\r\n\r\n                let count = imageProgress.json.ImageSet.ImagesCount-1\r\n                let coors = imageProgress.json.Coordinates\r\n\r\n                let s = Math.ceil(value / (total / count))\r\n                if (s > count) s = count\r\n\r\n                if (value > total) value = total\r\n\r\n                let initial = 0\r\n                if (!imageProgress.json.DisplayType)\r\n                    initial = s\r\n\r\n                for (let i = initial; i <= s; i++) {\r\n                    let x = i < coors?.length ? (coors[i]?.X ? coors[i].X : 0) : (coors[coors.length-1]?.X ? coors[coors.length-1].X : 0)\r\n                    let y = i < coors?.length ? (coors[i]?.Y ? coors[i].Y : 0) : (coors[coors.length-1]?.Y ? coors[coors.length-1].Y : 0)\r\n                    let imageIndex = imageProgress.json.ImageSet.ImageIndex + i\r\n                    const img = findImageById(imageIndex, images)\r\n                    if (img) ctx.drawImage(img, x, y, img.width, img.height);\r\n                }\r\n            }\r\n        }\r\n}","import { IImage } from \"../model/image.model\";\r\nimport { FollowType } from \"../model/types.model\";\r\nimport { ElementOrderItem, WatchDate } from \"../model/watchFace.model\";\r\nimport { WatchState } from \"../model/watchState\";\r\nimport drawDigit from \"./digit.element\";\r\nimport { addUnitsAndSeparator } from \"./systemfont.element\";\r\n\r\nexport default function drawDate(ctx: CanvasRenderingContext2D, \r\n    images: IImage[],\r\n    date: WatchDate,\r\n    orderElementsDate: ElementOrderItem[],\r\n    watchState: WatchState,\r\n    drawborder: boolean\r\n    ) {\r\n        let followXY = null\r\n\r\n        let s: string[] = []\r\n        for(let i = 0; i < orderElementsDate.length; i++) {\r\n            s[i] = ''\r\n        }\r\n       \r\n        for (let i = 0; i < orderElementsDate.length; i++) {\r\n            let item = orderElementsDate[i]\r\n            let _temp = null\r\n            let _follow = false\r\n            switch (item.type) {\r\n                case 0:\r\n                    if (date.year.enabled) {\r\n                        _follow = date.year.json.CombingMode === FollowType.Follow.json\r\n                        _temp = watchState.year.toString().padStart(date.year.con.numberLenght, '0')\r\n                        _temp = addUnitsAndSeparator(_temp, date.year)\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (date.month.enabled) {\r\n                        _follow = date.month.json.CombingMode === FollowType.Follow.json\r\n                        _temp = watchState.month.toString().padStart(date.month.con.numberLenght, '0')\r\n                        _temp = addUnitsAndSeparator(_temp, date.month)\r\n                    } \r\n                    break;\r\n                case 2:\r\n                    if (date.day.enabled) {\r\n                        _follow = date.day.json.CombingMode === FollowType.Follow.json\r\n                        _temp = watchState.day.toString().padStart(date.day.con.numberLenght, '0')\r\n                        _temp = addUnitsAndSeparator(_temp, date.day)\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            if (_temp) {\r\n                for(let j = i+1; j < orderElementsDate.length ; j++) {\r\n                    s[j] = s[j] + _temp\r\n                }\r\n                if (!_follow) {\r\n                    s[i] = s[i] + _temp\r\n                } else {\r\n                    if ( s[i-1] !== '')\r\n                        s[i-1] = s[i-1] + _temp\r\n                    else \r\n                        s[i-2] = s[i-2] + _temp\r\n                    s[i] = ''\r\n                }\r\n            }\r\n        }\r\n\r\n        for(let i = 0; i < orderElementsDate.length; i++) {\r\n            let item = orderElementsDate[i]\r\n            switch (item.type) {\r\n                case 0:\r\n                    if (date.year.enabled) {\r\n                        followXY = drawDigit(ctx, images, date.year, watchState.year, date.year.json.CombingMode === FollowType.Single.json ? null : followXY, drawborder, false, s[i])\r\n                    }\r\n                    break;\r\n                case 1:\r\n                    if (date.month.enabled) {\r\n                        followXY = drawDigit(ctx, images, date.month, watchState.month, date.month.json.CombingMode === FollowType.Single.json ? null : followXY, drawborder, false, s[i])\r\n                    } else if (date.monthAsWord.enabled) {\r\n                        drawDigit(ctx, images, date.monthAsWord, watchState.monthasword)\r\n                    }\r\n                    break;\r\n                case 2:\r\n                    if (date.day.enabled) {\r\n                        followXY = drawDigit(ctx, images, date.day, watchState.day, date.day.json.CombingMode === FollowType.Single.json ? null : followXY, drawborder, false, s[i])\r\n                    }\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (date.weekDay.enabled) {\r\n            drawDigit(ctx, images, date.weekDay, watchState.weekday)\r\n        }\r\n}\r\n","import { IImage } from \"../model/image.model\";\r\nimport { WatchDialFace } from \"../model/watchFace.model\";\r\nimport { WatchState } from \"../model/watchState\";\r\nimport drawClockHand from \"./clockHand.element\";\r\n\r\n    export default function drawTimeAnalog(ctx: CanvasRenderingContext2D, \r\n        images: IImage[],\r\n        dialFace: WatchDialFace,\r\n        watchState: WatchState\r\n        ) {\r\n        if ( dialFace.hoursClockhand?.enabled) {\r\n            if ( watchState.hours < 12)\r\n                drawClockHand(ctx, images, dialFace.hoursClockhand, watchState.hours, 12 )\r\n            else \r\n            drawClockHand(ctx, images, dialFace.hoursClockhand, watchState.hours-12, 12 )\r\n        }\r\n        if ( dialFace.minutesClockhand?.enabled) {\r\n            drawClockHand(ctx, images, dialFace.minutesClockhand, watchState.minutes, 60 )\r\n        }\r\n        if ( dialFace.secondsClockhand?.enabled) {\r\n            drawClockHand(ctx, images, dialFace.secondsClockhand, watchState.seconds, 60 )\r\n        }\r\n    }\r\n","import { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport {  MultilangImage } from \"../model/json.model\";\r\nimport { WatchMultilangImageCoords } from \"../model/watchFace.model\";\r\nimport { LangCodeType } from \"../model/types.model\";\r\n\r\nexport default function drawMultilangImageCoords(ctx: CanvasRenderingContext2D, images: IImage[], \r\n    imageCoord: WatchMultilangImageCoords) {\r\n\r\n        const imageSetIndex = findImageIndex(imageCoord.json?.ImageSet);\r\n    \r\n        if (imageCoord.json.ImageSet &&\r\n            imageCoord.json.ImageSet[imageSetIndex]?.ImageSet?.ImageIndex) {\r\n\r\n            let x = imageCoord.json.Coordinates?.X ? imageCoord.json.Coordinates.X : 0\r\n            let y = imageCoord.json.Coordinates?.Y ? imageCoord.json.Coordinates.Y : 0\r\n            const img = findImageById(imageCoord.json.ImageSet[imageSetIndex].ImageSet.ImageIndex, images)\r\n            if (img) ctx.drawImage(img, x, y, img.width, img.height);\r\n        }\r\n}\r\n\r\nfunction findImageIndex(ar: MultilangImage[]): number {\r\n    if (!ar) return null\r\n    let index = ar.findIndex((item) => item.LangCode === LangCodeType.All.json)\r\n    return index >= 0 ? index : 0\r\n  }","import { IImage } from \"../model/image.model\";\r\nimport { FollowType } from \"../model/types.model\";\r\nimport { WatchDialFace } from \"../model/watchFace.model\";\r\nimport { WatchState } from \"../model/watchState\";\r\nimport drawDigit from \"./digit.element\";\r\nimport drawMultilangImageCoords from \"./multiLangImageCoords.element\";\r\nimport { addUnitsAndSeparator } from \"./systemfont.element\";\r\n\r\nexport default function drawTimeDigital(\r\n    ctx: CanvasRenderingContext2D, \r\n    images: IImage[],\r\n    timeDigital: WatchDialFace,\r\n    watchState: WatchState,\r\n    digitBorder: boolean\r\n    ) {\r\n    let followXY = null\r\n\r\n    let s_hours = ''\r\n    let s_minutes = ''\r\n    let s_seconds = ''\r\n   \r\n    if (timeDigital.secondsDigital?.enabled) {\r\n        s_seconds = watchState.seconds.toString().padStart(timeDigital.secondsDigital.con.numberLenght, '0')\r\n        s_seconds = addUnitsAndSeparator(s_seconds, timeDigital.secondsDigital)\r\n    }\r\n    \r\n    if (timeDigital.minutesDigital?.enabled) {\r\n        s_minutes = watchState.minutes.toString().padStart(timeDigital.minutesDigital.con.numberLenght, '0')\r\n        s_minutes = addUnitsAndSeparator(s_minutes, timeDigital.minutesDigital)\r\n        if (timeDigital.secondsDigital?.enabled ) {\r\n            if (timeDigital.secondsDigital.json.CombingMode === FollowType.Follow.json) {\r\n                s_minutes = s_minutes + s_seconds\r\n                s_seconds = ''\r\n            } else {\r\n                s_seconds = s_minutes + s_seconds\r\n            }\r\n        }\r\n    }\r\n\r\n    if (timeDigital.hoursDigital?.enabled) {\r\n        s_hours = watchState.hours.toString()\r\n        if (timeDigital.hoursDigital.json.Digit.PaddingZero) s_hours = s_hours.padStart(timeDigital.hoursDigital.con.numberLenght, '0')\r\n        s_hours = addUnitsAndSeparator(s_hours, timeDigital.hoursDigital)\r\n        if (timeDigital.minutesDigital.json.CombingMode === FollowType.Follow.json) {\r\n            if (timeDigital.secondsDigital?.enabled ) {\r\n                if (timeDigital.secondsDigital.json.CombingMode !== FollowType.Follow.json) \r\n                    s_seconds = s_hours + s_seconds\r\n            }\r\n            s_hours = s_hours + s_minutes\r\n            s_minutes = ''\r\n        } else {\r\n            s_minutes = s_hours + s_minutes\r\n            if (timeDigital.secondsDigital?.enabled ) {\r\n                if (timeDigital.secondsDigital.json.CombingMode !== FollowType.Follow.json) \r\n                    s_seconds = s_hours + s_seconds\r\n            }\r\n        }\r\n    }\r\n\r\n    if (timeDigital.hoursDigital?.enabled) {\r\n        followXY = drawDigit(ctx, images, timeDigital.hoursDigital, watchState.hours,\r\n            timeDigital.hoursDigital.json.CombingMode === FollowType.Single.json ? null : followXY, digitBorder, false, s_hours)\r\n    }\r\n\r\n    if (timeDigital.minutesDigital?.enabled) {\r\n        followXY = drawDigit(ctx, images, timeDigital.minutesDigital, watchState.minutes, \r\n            timeDigital.minutesDigital.json.CombingMode === FollowType.Single.json ? null : followXY, digitBorder, true, s_minutes)\r\n    }\r\n\r\n    if (timeDigital.secondsDigital?.enabled) {\r\n        drawDigit(ctx, images, timeDigital.secondsDigital, watchState.seconds, \r\n            timeDigital.secondsDigital.json.CombingMode === FollowType.Single.json ? null : followXY, digitBorder, true, s_seconds)\r\n    }\r\n    \r\n    if (timeDigital.am && timeDigital.am.enabled && watchState.hours < 12) {\r\n        drawMultilangImageCoords(ctx, images, timeDigital.am)\r\n    }\r\n    if (timeDigital.pm && timeDigital.pm.enabled && watchState.hours >= 12) {\r\n        drawMultilangImageCoords(ctx, images, timeDigital.pm)\r\n    }\r\n}\r\n\r\n\r\n\r\n","import { IImage } from \"../model/image.model\";\r\nimport { WatchWidget, WatchWidgets } from \"../model/watchFace.model\";\r\nimport { WatchState } from \"../model/watchState\";\r\nimport { findImageById } from \"../shared/helper\";\r\nimport drawActivityList from \"./activity.element\";\r\nimport drawDate from \"./date.element\";\r\n\r\nexport default function drawWidgets(\r\n    ctx: CanvasRenderingContext2D,\r\n    images: IImage[],\r\n    widgets: WatchWidgets,\r\n    watchState: WatchState,\r\n    digitBorder: boolean,\r\n    borderWidget: boolean,\r\n    showWidgetPreview: boolean,\r\n    ) {\r\n    if (widgets) {\r\n        widgets.widgets.forEach((widget, index) => {\r\n            drawWidget(ctx, images, index, widget, watchState, digitBorder, borderWidget, showWidgetPreview, widgets.topMaskImageIndex, widgets.underMaskImageIndex)\r\n        });\r\n    }\r\n}\r\n\r\nfunction drawWidget(\r\n    ctx: CanvasRenderingContext2D, \r\n    images: IImage[], \r\n    index: number,\r\n    widget: WatchWidget, \r\n    watchState: WatchState,\r\n    digitBorder: boolean,\r\n    borderWidget: boolean,\r\n    showWidgetPreview: boolean,\r\n    topMask: number,\r\n    bottomMask: number,\r\n    ) {\r\n    if (widget) {\r\n        if (widget.widgetElements && widget.widgetElements.length > 0) {\r\n            let previewIndex = watchState.widgets && index < watchState.widgets.length ? watchState.widgets[index] : 0\r\n            if (showWidgetPreview && widget.widgetElements[previewIndex].previewImageIndex) {\r\n                // show only previews of widgets\r\n                const imgBack = findImageById(bottomMask, images)\r\n                if (imgBack) ctx.drawImage(imgBack, 0, 0)\r\n                \r\n                const imgTop = findImageById(topMask, images)\r\n                if (imgTop) ctx.drawImage(imgTop, 0, 0)\r\n                \r\n                let previewImageIndex = widget.widgetElements[previewIndex].previewImageIndex;\r\n                const img = findImageById(previewImageIndex, images)\r\n                if (img) ctx.drawImage(img, widget.x, widget.y)\r\n                const imgFrame: HTMLImageElement = (watchState.activeWidget === index) ?\r\n                    findImageById(widget.borderActivImageIndex, images) :\r\n                    findImageById(widget.borderInactivImageIndex, images)\r\n                if (imgFrame) ctx.drawImage(imgFrame, widget.x, widget.y)\r\n            } else {\r\n                // show all activities\r\n                let ar = widget.widgetElements[previewIndex].activitys;\r\n                if ( ar ) drawActivityList(ctx, images, ar, watchState, digitBorder);\r\n                if (widget.widgetElements[previewIndex].date) {\r\n                    drawDate(\r\n                      ctx,\r\n                      images,\r\n                      widget.widgetElements[previewIndex].date,\r\n                      widget.widgetElements[previewIndex].date.orderElements,\r\n                      watchState,\r\n                      digitBorder\r\n                    );\r\n                  }\r\n            }\r\n        }\r\n        if (borderWidget) {\r\n            ctx.strokeStyle = 'white'\r\n            ctx.strokeRect(widget.x, widget.y, widget.width, widget.height)\r\n        } \r\n    }\r\n}\r\n\r\n\r\n","import { FC, useContext, useState } from \"react\";\r\n\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\nimport { IImage } from \"../../model/image.model\";\r\nimport Canvas from \"./canvas.function\";\r\nimport drawActivity from \"../../preview/activity.element\";\r\nimport drawBackground from \"../../preview/background.element\";\r\nimport drawAodBackground from \"../../preview/backgroundaod.element\";\r\nimport drawDate from \"../../preview/date.element\";\r\nimport drawStatus from \"../../preview/status.element\";\r\nimport drawTimeAnalog from \"../../preview/timeAnalog.element\";\r\nimport drawTimeDigital from \"../../preview/timeDigital.element\";\r\nimport drawWidgets from \"../../preview/widgets.element\";\r\nimport cl from \"./previewComponent.module.css\";\r\n\r\ninterface IProps {\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nconst storage_items = {\r\n  preview_white_grid: \"preview_white_grid\",\r\n  preview_black_grid: \"preview_black_grid\",\r\n  preview_digit_border: \"preview_digit_border\",\r\n};\r\n\r\nconst PreviewComponent: FC<IProps> = ({ width, height }) => {\r\n  const { images, watchface, watchState, previewScreenNormal } =\r\n    useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  const [borderWidget, setBorderWidget] = useState<boolean>(false)\r\n  const [showWidgetPreview, setShowWidgetPreview] = useState<boolean>(false)\r\n\r\n  const [x, setX] = useState<number>(0);\r\n  const [y, setY] = useState<number>(0);\r\n  const [whiteGrid, setWhiteGrid] = useState<boolean>(\r\n    localStorage.getItem(storage_items.preview_white_grid)\r\n      ? JSON.parse(localStorage.getItem(storage_items.preview_white_grid))\r\n      : false\r\n  );\r\n  const [blackGrid, setBlackGrid] = useState<boolean>(\r\n    localStorage.getItem(storage_items.preview_black_grid)\r\n      ? JSON.parse(localStorage.getItem(storage_items.preview_black_grid))\r\n      : false\r\n  );\r\n  const [digitBorder, setDigitBorder] = useState<boolean>(\r\n    localStorage.getItem(storage_items.preview_digit_border)\r\n      ? JSON.parse(localStorage.getItem(storage_items.preview_digit_border))\r\n      : false\r\n  );\r\n\r\n  function draw(canvas, ctx: CanvasRenderingContext2D) {\r\n    if (images && watchface) {\r\n      if (canvas) {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n        if (previewScreenNormal) drawNormal(canvas, ctx, images)\r\n        else drawAod(canvas, ctx, images)\r\n        drawGrid(ctx);\r\n      } else {\r\n        console.error(\"don't find canvas with id canvasPreview\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function drawNormal(canvas, ctx: CanvasRenderingContext2D, images: IImage[]) {\r\n    if (watchface.background) drawBackground(canvas, ctx, images, watchface.background);\r\n    if (watchface.date) {\r\n      drawDate(\r\n        ctx,\r\n        images,\r\n        watchface.date,\r\n        watchface.date.orderElements,\r\n        watchState,\r\n        digitBorder\r\n      );\r\n    }\r\n    if (watchface.activity) {\r\n      drawActivity(\r\n        ctx,\r\n        images,\r\n        watchface.activity,\r\n        watchState,\r\n        digitBorder,\r\n        true\r\n      );\r\n    }\r\n    if (watchface.status) {\r\n      drawStatus(ctx, images, watchface.status, watchState);\r\n    }\r\n    if (watchface.widgets.enabled) {\r\n      drawWidgets(ctx, images, watchface.widgets, watchState, digitBorder, borderWidget, showWidgetPreview)\r\n    }\r\n    if (watchface.dialFace) {\r\n      if ( !showWidgetPreview || watchface.widgets?.showTimeOnEditScreen || ( watchface.widgets?.widgets && watchface.widgets.widgets.length === 0 ) ) {\r\n        drawTimeDigital(\r\n          ctx,\r\n          images,\r\n          watchface.dialFace,\r\n          watchState,\r\n          digitBorder\r\n        );\r\n        drawTimeAnalog(ctx, images, watchface.dialFace, watchState);\r\n      }\r\n    }\r\n  }\r\n  \r\n  function drawAod(canvas, ctx: CanvasRenderingContext2D, images: IImage[]) {\r\n    if (watchface.aod) {\r\n      drawAodBackground(canvas, ctx, images, watchface.aod.backgroundImageIndex);\r\n    }\r\n    if (watchface.aod.date) {\r\n      drawDate(\r\n        ctx,\r\n        images,\r\n        watchface.aod.date,\r\n        watchface.aod.date.orderElements,\r\n        watchState,\r\n        digitBorder\r\n      );\r\n    }\r\n    if (watchface.aod.activitylist) {\r\n      drawActivity(\r\n        ctx,\r\n        images,\r\n        watchface.aod.activitylist,\r\n        watchState,\r\n        digitBorder\r\n      );\r\n    }\r\n    if (watchface.aod.dialFace) {\r\n      drawTimeDigital(\r\n        ctx,\r\n        images,\r\n        watchface.aod.dialFace,\r\n        watchState,\r\n        digitBorder\r\n      );\r\n      drawTimeAnalog(ctx, images, watchface.aod.dialFace, watchState);\r\n    }\r\n  }\r\n\r\n  function getCursorPosition(event) {\r\n    const canvas = document.getElementById(\r\n      \"canvasPreview\"\r\n    ) as HTMLCanvasElement;\r\n    const rect = canvas.getBoundingClientRect();\r\n    let x = event.clientX - rect.left;\r\n    let y = event.clientY - rect.top;\r\n    x = Math.min(width, Math.max(0, Math.round(x)));\r\n    y = Math.min(height, Math.max(0, Math.round(y)));\r\n    setX(x);\r\n    setY(y);\r\n  }\r\n\r\n  function onToggleWhiteGrid() {\r\n    const wg = !whiteGrid;\r\n    setWhiteGrid(wg);\r\n    localStorage.setItem(storage_items.preview_white_grid, JSON.stringify(wg));\r\n  }\r\n\r\n  function onToggleBlackGrid() {\r\n    const bg = !blackGrid;\r\n    setBlackGrid(bg);\r\n    localStorage.setItem(storage_items.preview_white_grid, JSON.stringify(bg));\r\n  }\r\n\r\n  function onToggleDigitBorder() {\r\n    const db = !digitBorder;\r\n    setDigitBorder(db);\r\n    localStorage.setItem(\r\n      storage_items.preview_digit_border,\r\n      JSON.stringify(db)\r\n    );\r\n  }\r\n\r\n  function drawGrid(ctx: CanvasRenderingContext2D) {\r\n    if (!whiteGrid && !blackGrid) return;\r\n    const stroke = whiteGrid ? \"white\" : \"black\";\r\n    const step = 20;\r\n    for (let i = width / 2; i > 0; i -= step) {\r\n      drawLine(ctx, [i, 0], [i, height], stroke, 1);\r\n    }\r\n    for (let i = width / 2; i < width; i += step) {\r\n      drawLine(ctx, [i, 0], [i, height], stroke, 1);\r\n    }\r\n    for (let i = height / 2; i > 0; i -= step) {\r\n      drawLine(ctx, [0, i], [width, i], stroke, 1);\r\n    }\r\n    for (let i = height / 2; i < height; i += step) {\r\n      drawLine(ctx, [0, i], [width, i], stroke, 1);\r\n    }\r\n    drawLine(ctx, [width / 2 - 1, 0], [width / 2 - 1, height], stroke, 2);\r\n    drawLine(ctx, [0, height / 2 - 1], [width, height / 2 - 1], stroke, 2);\r\n  }\r\n\r\n  function drawLine(\r\n    ctx: CanvasRenderingContext2D,\r\n    begin: [number, number],\r\n    end: [number, number],\r\n    stroke = \"black\",\r\n    width = 1\r\n  ) {\r\n    if (stroke) {\r\n      ctx.strokeStyle = stroke;\r\n    }\r\n\r\n    if (width) {\r\n      ctx.lineWidth = width;\r\n    }\r\n\r\n    ctx.beginPath();\r\n    ctx.moveTo(begin[0], begin[1]);\r\n    ctx.lineTo(end[0], end[1]);\r\n    ctx.stroke();\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={cl.canvasCcontainer}>\r\n        {previewScreenNormal? 'Screen Normal' : 'AOD'}\r\n        <div>\r\n          x: {x}, y: {y}\r\n        </div>\r\n        <Canvas\r\n          id='canvasPreview'\r\n          draw={draw}\r\n          className={cl.canvasPreview}\r\n          width={width}\r\n          height={height}\r\n          onClick={getCursorPosition}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"container d-flex justify-content-center\">\r\n        <div>\r\n        <div className=\"input-group input-group-sm\" style={{ width: \"max-content\" }}>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            White grid\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={whiteGrid}\r\n              onChange={onToggleWhiteGrid}\r\n            />\r\n          </div>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            Black grid\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={blackGrid}\r\n              onChange={onToggleBlackGrid}\r\n            />\r\n          </div>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            border on digit\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={digitBorder}\r\n              onChange={onToggleDigitBorder}\r\n            />\r\n          </div>\r\n        </div>\r\n        { watchface.widgets?.widgets && watchface.widgets.widgets.length > 0 ? \r\n        <div className=\"input-group input-group-sm\" style={{ width: \"max-content\" }}>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            border on widgets\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={borderWidget}\r\n              onChange={() => setBorderWidget(!borderWidget)}\r\n            />\r\n          </div>\r\n          <span className=\"input-group-text\" id=\"addon-wrapping\">\r\n            show preview of widgets\r\n          </span>\r\n          <div className=\"input-group-text\">\r\n            <input\r\n              className=\"form-check-input mt-0\"\r\n              type=\"checkbox\"\r\n              checked={showWidgetPreview}\r\n              onChange={() => setShowWidgetPreview(!showWidgetPreview)}\r\n            />\r\n          </div>\r\n        </div> : '' }\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PreviewComponent;\r\n","import Color from \"../shared/color\";\r\nimport { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\nimport { Background } from \"../model/watchFace.model\";\r\n  \r\nexport default function draw(canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D, \r\n                images: IImage[], background: Background) {\r\n    if (background?.imageIndex !== undefined && background?.imageIndex !== null) {\r\n        const i = findImageById(background.imageIndex, images)\r\n        //images[Constant.getImageIndex(background.imageIndex, images.length)]\r\n        if (i) {\r\n            const img = i\r\n            ctx.drawImage(img, 0, 0, img.width, img.height);\r\n        }\r\n    } else if (background.color && Color.GFG_Fun(background.color)) {\r\n        ctx.fillStyle = background.color\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n}\r\n","import { IImage } from \"../model/image.model\";\r\nimport { WatchStatus } from \"../model/watchFace.model\";\r\nimport { WatchState } from \"../model/watchState\";\r\nimport drawImageCoords from \"./imageCoords.element\";\r\n\r\nexport default function draw(ctx: CanvasRenderingContext2D, \r\n    images: IImage[],\r\n    status: WatchStatus,\r\n    watchState: WatchState\r\n    ) {\r\n        if (status.bluetooth.enabled && !watchState.bluetooth) {\r\n            drawImageCoords(ctx, images, status.bluetooth.json)\r\n        }\r\n        if (status.dnd.enabled && watchState.dnd) {\r\n            drawImageCoords(ctx, images, status.dnd.json)\r\n        }\r\n        if (status.alarm.enabled && watchState.alarm) {\r\n            drawImageCoords(ctx, images, status.alarm.json)\r\n        }\r\n        if (status.lock.enabled && watchState.lock) {\r\n            drawImageCoords(ctx, images, status.lock.json)\r\n        }\r\n}\r\n","import { findImageById } from \"../shared/helper\";\r\nimport { IImage } from \"../model/image.model\";\r\n\r\nexport default function drawAodBackground(canvas: HTMLCanvasElement, ctx: CanvasRenderingContext2D, \r\n                images: IImage[], imageIndex: number) {\r\n    if (imageIndex !== undefined && imageIndex !== null) {\r\n            const img = findImageById(imageIndex, images)\r\n            if (img) {\r\n                ctx.drawImage(img, 0, 0, img.width, img.height);\r\n            }\r\n    } else {\r\n        ctx.fillStyle = 'black'\r\n        ctx.fillRect(0, 0, canvas.width, canvas.height)\r\n    }\r\n}\r\n","import { FC, useContext } from \"react\";\r\nimport { IWatchContext, WatchfaceContext } from \"../../context\";\r\n\r\n\r\nconst UploadedImagesomponent: FC = () => {\r\n  const { images } = useContext<IWatchContext>(WatchfaceContext);\r\n\r\n  return (\r\n    <div className=\"container d-flex justify-content-center\">\r\n      { images.length > 0 ? \r\n      <div>\r\n        <h2>number of images: {images.length} </h2>\r\n        <ul className=\"list-group blocks\" style={{width: \"100%\"}}>\r\n          {images.map( (img) => \r\n              <li\r\n              key={img.id}\r\n              value={img.id}\r\n              className=\"list-group-item fileitem\"\r\n            >\r\n              {<img src={img.image.src} alt={img.name} width={30} />}\r\n              {img.name}\r\n            </li>\r\n          )}\r\n        </ul>\r\n        </div>\r\n    : <div>\r\n      no uploaded images\r\n    </div>\r\n    }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UploadedImagesomponent;\r\n","import { FC, useState } from \"react\";\r\nimport { Constant } from \"../../shared/constant\";\r\nimport JsonComponent from \"./json.component\";\r\nimport PreviewComponent from \"./preview.component\";\r\nimport UploadedImagesomponent from \"./uploadedImages.component\";\r\n\r\nconst tabs = [\r\n  { id: 0, name: \"Preview\", el: <PreviewComponent width={Constant.width} height={Constant.height} /> },\r\n  { id: 1, name: \"Uploaded Images\", el:  <UploadedImagesomponent />},\r\n  { id: 2, name: \"Json\", el: <JsonComponent /> },\r\n];\r\n\r\nconst RightSideComponent: FC = () => {\r\n  const [selectedTab, setSelectedTab] = useState<number>(0);\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"nav nav-tabs\">\r\n        {tabs.map((tab) => {\r\n          return (\r\n            <li key={tab.id} className=\"nav-item\">\r\n              <button\r\n                className={`nav-link ${selectedTab === tab.id ? \"active\" : \"\"} `}\r\n                onClick={() => setSelectedTab(tab.id)}\r\n              >\r\n                {tab.name}\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      { tabs[selectedTab].el }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RightSideComponent;\r\n","export class WatchState {\r\n  _date = new Date();\r\n  year = this._date.getFullYear();\r\n  month = this._date.getMonth() + 1;\r\n  monthasword = this._date.getMonth();\r\n  day = this._date.getDate();\r\n  hours = this._date.getHours();\r\n  minutes = this._date.getMinutes();\r\n  seconds = this._date.getSeconds();\r\n  weekday = this._date.getDay() > 0 ? this._date.getDay() - 1 : 6;\r\n  batteryGoal = 100;\r\n  battery = Math.round(Math.random() * this.batteryGoal);\r\n  stepsGoal = (Math.round(Math.random() * 5) + 5) * 1000;\r\n  steps = Math.round(Math.random() * this.stepsGoal);\r\n  caloriesGoal = 200;\r\n  calories = Math.round(Math.random() * this.caloriesGoal);\r\n  hearthrateGoal = 220\r\n  hearthrate = Math.round(Math.random() * 200);\r\n  distance = Math.round(Math.random() * 1000) + 1000;\r\n  paiGoal = 100;\r\n  pai = Math.round(Math.random() * this.paiGoal);\r\n  standupGoal = 12;\r\n  standup = Math.round(Math.random() * this.standupGoal);\r\n  bluetooth = true;\r\n  dnd = true;\r\n  lock = false;\r\n  alarm = true;\r\n  \r\n  temperature = Math.round(Math.random() * 10);\r\n  temperatureMin = this.temperature - Math.round(Math.random() * 10)\r\n  temperatureMax = this.temperature + Math.round(Math.random() * 10)\r\n  weatherIcon = Math.round(Math.random() * 29);\r\n  \r\n  uvIndexGoal = 11\r\n  uvIndex = Math.round(Math.random() * this.uvIndexGoal)\r\n  airQualityGoal = 500\r\n  airQuality = Math.round(Math.random() * this.airQualityGoal)\r\n  humidityGoal = 100\r\n  humidity = Math.round(Math.random() * this.humidityGoal)\r\n  \r\n  sunrise = 536\r\n  sunset = 1742\r\n\r\n  windForce = Math.round(Math.random() * 12)\r\n\r\n  airPressureGoal = 100\r\n  airPressure = Math.round(Math.random() * this.airPressureGoal)\r\n\r\n  stressGoal = 100\r\n  stress = Math.round(Math.random() * this.stressGoal)\r\n\r\n  fatBurningGoal = 30\r\n  fatBurning = Math.round(Math.random() * this.fatBurningGoal)\r\n\r\n  widgets: number[] = []\r\n  activeWidget: number = 0;\r\n}\r\n","import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { FC, useState } from \"react\";\r\nimport { Col, Container, Row } from \"react-bootstrap\";\r\nimport \"./App.css\";\r\nimport FileLoaderComponent from \"./app/components/main/fileLoader.component\";\r\nimport LeftSideComponent from \"./app/components/main/leftside.component\";\r\nimport RightSideComponent from \"./app/components/main/rightside.component\";\r\nimport { IImage } from \"./app/model/image.model\";\r\nimport WatchFace from \"./app/model/watchFace.model\";\r\nimport { WatchState } from \"./app/model/watchState\";\r\nimport { WatchfaceContext } from \"./app/context\";\r\n\r\nconst App: FC = () => {\r\n  const [images, setImages] = useState<IImage[]>([]);\r\n  const [watchface, setWatchface] = useState<WatchFace>(new WatchFace());\r\n  const [watchState, setWatchState] = useState<WatchState>(new WatchState());\r\n\r\n  const [jsonName, setJsonName] = useState<string>(null);\r\n  const [previewScreenNormal, setPreviewScreenNormal] = useState<boolean>(true);\r\n\r\n  return (\r\n    <WatchfaceContext.Provider\r\n      value={{\r\n        images,\r\n        setImages,\r\n        watchface,\r\n        setWatchface,\r\n        watchState,\r\n        setWatchState,\r\n        jsonName,\r\n        setJsonName,\r\n        previewScreenNormal,\r\n        setPreviewScreenNormal,\r\n      }}\r\n    >\r\n      <Container className=\"App d-flex flex-column min-vh-100 vh-100\">\r\n        <Row className=\"header\">\r\n          <FileLoaderComponent />\r\n        </Row>\r\n        <Row className=\"main\">\r\n          <Col xs={6} className=\"leftcol\">\r\n            <LeftSideComponent />\r\n          </Col>\r\n          <Col xs={6} className=\"rightcol\">\r\n            <RightSideComponent />\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </WatchfaceContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}