(this.webpackJsonpwatchmaker=this.webpackJsonpwatchmaker||[]).push([[0],{15:function(e,t,n){e.exports={canvasCcontainer:"previewComponent_canvasCcontainer___DCgA",canvasPreview:"previewComponent_canvasPreview__KWMJr"}},17:function(e,t,n){e.exports={json:"JsonComponent_json__6-65E"}},23:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),o=n(16),l=n.n(o),s=(n(23),n(4)),r=(n(24),n(30)),c=n(31),d=n(32),u=(n(25),n(34)),g=Object(a.createContext)(null),j=n(1),h=n(3),m=n(10),b=/^#[0-9A-F]{6}$/i,v=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e,t,n){return"#"+e.toString(16).padStart(2,"0")+t.toString(16).padStart(2,"0")+n.toString(16).padStart(2,"0")}},{key:"colorRead",value:function(e){return e?(18===e.length&&(e=e.substring(0,2)+e.substring(10,18)),10===e.length&&(e="#"+e.substring(4)),e):null}},{key:"colorBackgroundRead",value:function(e){if(!e)return null;18===e.length&&(e=e.substring(0,2)+e.substring(8,18));var t,n,a,i=e.substring(8,10),o=e.substring(10,12),l=parseInt(i,16),s=parseInt(o,16);return t=(l>>3&31)<<3,n=(s>>5&7|(7&l)<<3)<<2,a=(31&s)<<3,this.rgbToHex(t,n,a)}},{key:"colorBackgroundWrite",value:function(e){var t=this.hexToRgb(e),n=t.r,a=t.g,i=t.b>>3&31|(a>>2&7)<<5;return"0xFFFF"+(a>>5&7|(n>>3&31)<<3).toString(16).padStart(2,"0").toUpperCase()+i.toString(16).padStart(2,"0").toUpperCase()}},{key:"colorWrite",value:function(e){var t=this.hexToRgb(e),n=t.r,a=t.g,i=t.b;return"0xFF"+n.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+i.toString(16).padStart(2,"0")}},{key:"GFG_Fun",value:function(e){return b.test(e)}}]),e}();v.DEFAULT_COLOR="#000000";var p=function e(t,n){Object(h.a)(this,e),this.index=t,this.json=n},O=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Zh.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Zh.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();O.Zh=new p(0,"Zh"),O.ZhHant=new p(1,"ZhHant"),O.All=new p(2,"All");var f=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Left.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Left.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();f.Left=new p(0,"Left"),f.Center=new p(1,"Center"),f.Right=new p(2,"Right");var x=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Follow.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Follow.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();x.Follow=new p(0,"Follow"),x.Single=new p(1,"Single");var y=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Default.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Default.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();y.Default=new p(0,null),y.Min=new p(1,"Min"),y.Max=new p(2,"Max");var I=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Single.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Single.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();I.Single=new p(0,"Single"),I.Continuous=new p(1,"Continuous");var w=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Year.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Year.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();w.Year=new p(0,"Year"),w.Month=new p(1,"Month"),w.Day=new p(2,"Day");var C=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Hour.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Hour.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();C.Hour=new p(0,"Hour"),C.Minute=new p(1,"Minute"),C.Second=new p(2,"Second");var S=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"findByIndex",value:function(t){return void 0===t?this.Date:Object.values(e).find((function(e){return e.index===t}))}},{key:"toJson",value:function(t){return void 0===t?this.Date.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"findByJson",value:function(t){return void 0===t?this.Date:Object.values(e).find((function(e){return e.json===t}))}},{key:"fromJson",value:function(t){return void 0===t?this.Date.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();S.Date=new p(0,"Date"),S.Battery=new p(1,"Battery"),S.Steps=new p(2,"Steps"),S.Calories=new p(3,"Calories"),S.HeartRate=new p(4,"HeartRate"),S.Pai=new p(5,"PAI"),S.Distance=new p(6,"Distance"),S.StandUp=new p(7,"StandUp"),S.Weather=new p(8,"Weather"),S.UVindex=new p(9,"UVindex"),S.AirQuality=new p(10,"AirQuality"),S.Humidity=new p(11,"Humidity"),S.Sunrise=new p(12,"Sunrise"),S.WindForce=new p(13,"WindForce"),S.Altitude=new p(14,"Altitude"),S.AirPressure=new p(15,"AirPressure"),S.Stress=new p(16,"Stress"),S.ActivityGoal=new p(17,"ActivityGoal"),S.FatBurning=new p(18,"FatBurning");var D=function e(){Object(h.a)(this,e),this.X=0,this.Y=0},k=function e(){Object(h.a)(this,e),this.ImageIndex=null,this.ImagesCount=1},M=function e(){Object(h.a)(this,e),this.Coordinates=new D,this.ImageIndex=null,this.ImageIndex2=null,this.ImageIndex3=null},F=function e(){Object(h.a)(this,e),this.Coordinates=[],this.ImageSet=new k,this.DisplayType=I.Single.json},N=function e(){Object(h.a)(this,e),this.AngleSettings=void 0,this.LinearSettings=void 0,this.ForegroundImageIndex=void 0,this.Color=void 0,this.Width=void 0,this.Flatness=void 0,this.PointerImageIndex=void 0,this.BackgroundImageIndex=void 0},P=function e(){Object(h.a)(this,e),this.StartX=0,this.StartY=0,this.EndX=0,this.EndY=0,this.Unknown5=void 0},A=function e(){Object(h.a)(this,e),this.X=0,this.Y=0,this.StartAngle=0,this.EndAngle=360,this.Radius=0},E=function e(){Object(h.a)(this,e),this.X=void 0,this.Y=void 0,this.Scale=void 0,this.Pointer=void 0,this.Cover=void 0,this.StartAngle=void 0,this.EndAngle=void 0,this.Unknown16=void 0},T=function e(){Object(h.a)(this,e),this.Coordinates=new D,this.ImageSet=[{LangCode:O.All.json,ImageSet:{ImageIndex:null,ImagesCount:1}}]},U=function e(){Object(h.a)(this,e),this.Image=void 0,this.SystemFont=void 0,this.Alignment=f.Left.json,this.Spacing=0,this.PaddingZero=!1,this.DisplayFormAnalog=!1},B=function e(){Object(h.a)(this,e),this.X=0,this.Y=0,this.NoDataImageIndex=null,this.MultilangImage=[{LangCode:O.All.json,ImageSet:{ImageIndex:null,ImagesCount:1}}],this.DecimalPointImageIndex=null,this.MultilangImageUnit=void 0,this.DelimiterImageIndex=null,this.MultilangImageUnitMile=void 0},Y=function e(){Object(h.a)(this,e),this.FontRotate=void 0,this.Coordinates=void 0,this.Angle=0,this.Size=20,this.Color=v.colorWrite("#000000"),this.ShowUnitCheck=-1},X=function e(){Object(h.a)(this,e),this.X=0,this.Y=0,this.Radius=0,this.RotateDirection=0},L=function e(){Object(h.a)(this,e),this.Type=void 0,this.TimeType=void 0,this.DateType=void 0,this.CombingMode=x.Single.json,this.Digit=new U,this.Separator=void 0},W=function e(){Object(h.a)(this,e),this.LangCode=O.All.json,this.ImageSet=new k};function R(e){if(1===e.length)return!0;var t=!0,n=e[0].X,a=e[0].Y;return e.forEach((function(e){n===e.X&&a===e.Y||(t=!1)})),t}var H,G={hour:{type:C.Hour.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:[":",":",":"],separator:"/",timeDelimiter:!0,title:"Hours"},min:{type:C.Minute.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:[":",":",":"],separator:"/",timeDelimiter:!0,title:"Minutes"},sec:{type:C.Second.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:[":",":",":"],separator:"/",timeDelimiter:!0,title:"Seconds"},year:{type:w.Year.index,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["/","/","."],separator:"/",title:"Year"},month:{type:w.Month.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["/","/","."],separator:"/",title:"Month"},monthasword:{type:w.Month.index,count:12,numberLenght:1,displayAnalog:!0,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Month as word"},day:{type:w.Day.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","/","."],separator:"/",title:"Day"},weekday:{type:0,count:7,numberLenght:1,displayAnalog:!0,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Weekday"},battery:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:null,unit:["%","%","%"],separator:"/",title:"Battery"},steps:{type:0,count:10,numberLenght:5,displayAnalog:!1,imageProgressTotal:null,unit:["","Steps","STEPS"],separator:"/",title:"Steps",titleMin:"goal of steps"},calories:{type:0,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["","kcal","Cal"],separator:"/",title:"Calories",titleMin:"goal of calories"},heartRate:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:6,unit:["","bpm","BPM"],separator:"/",title:"Heart rate"},pai:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"PAI"},distance:{type:0,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["","km","KM"],separator:"/",decimalDelimiter:!0,title:"Distance"},standUp:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Standup",titleMin:"goal of stand up"},uvIndex:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"UVIndex"},airQuality:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Air quality"},humidity:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:null,unit:["%","%","%"],separator:"/",title:"Humidity"},sunrise:{type:0,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",timeDelimiter:!0,title:"Sunrise",titleDefault:"closest sunrise or sunset",titleMin:"sunrise",titleMax:"sunset"},windForce:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","kpa","KPA"],separator:"/",title:"Wind force"},airPressure:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Air pressure"},stress:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Stress"},activityGoal:{type:0,count:10,numberLenght:5,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"ActivityGoal",titleMin:"goal of activity"},fatBurning:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"FatBurning",titleMin:"goal of FatBurning"},weather:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:29,unit:["\xb0C","\xb0C","\xb0C"],separator:"/",title:"Weather",titleDefault:"Current",titleMin:"Minimum",titleMax:"Maximum"}},_=function e(){Object(h.a)(this,e),this.imageIndex=null,this.previewIndex=null,this.color=v.DEFAULT_COLOR,this.collapsed=!0},J=function e(t){Object(h.a)(this,e),this.json=new M,this.enabled=!1,t&&(this.enabled=!0,this.json=t)},Z=function e(t,n){Object(h.a)(this,e),this.json=new T,this.enabled=!1,this.count=1,null!=t&&void 0!==t&&(this.enabled=!0,this.json=t),n&&(this.count=n)},z=function e(t){Object(h.a)(this,e),this.enabled=!1,this.json=new F,null!=t&&void 0!==t&&(this.enabled=!0,this.json=t)};!function(e){e[e.TIME=0]="TIME",e[e.DATE=1]="DATE",e[e.COMMON=2]="COMMON"}(H||(H={}));var Q=function e(t,n,a){if(Object(h.a)(this,e),this.json=new L,this.con=void 0,this.enabled=!1,this.enabledImage=!1,this.enabledSystemFont=!1,this.enabledSystemFontCircle=!1,this.json=n,null!=n){var i,o,l,s;if(this.enabled=!0,(null===(i=n.Digit)||void 0===i?void 0:i.Image)&&(this.enabledImage=!0),null===(o=n.Digit)||void 0===o?void 0:o.SystemFont)(null===(l=n.Digit)||void 0===l||null===(s=l.SystemFont)||void 0===s?void 0:s.FontRotate)?this.enabledSystemFontCircle=!0:this.enabledSystemFont=!0;this.enabled=this.enabledImage||this.enabledSystemFont||this.enabledSystemFontCircle}null!=a&&(n||(this.json=new L,this.json.Digit=new U),this.con=a),this.json.DateType=t===H.DATE?w.toJson(a.type):null,this.json.TimeType=t===H.TIME?C.toJson(a.type):null,this.json.Type=t===H.COMMON?y.toJson(a.type):null},V=function e(t){Object(h.a)(this,e),this.enabled=!1,this.json=new E,this.json=t,t&&(this.enabled=!0)},K=function e(){Object(h.a)(this,e),this.collapsedDigital=!0,this.collapsedAnalog=!0,this.hoursDigital=new Q(H.TIME,null,G.hour),this.minutesDigital=new Q(H.TIME,null,G.min),this.secondsDigital=new Q(H.TIME,null,G.sec),this.hoursClockhand=new V,this.minutesClockhand=new V,this.secondsClockhand=new V,this.am=new Z,this.pm=new Z},$=function e(t){Object(h.a)(this,e),this.type=void 0,this.title=void 0,this.type=t.index,this.title=t.json},q=function e(){Object(h.a)(this,e),this.collapsed=!0,this.enabled=!1,this.year=new Q(H.DATE,null,G.year),this.month=new Q(H.DATE,null,G.month),this.day=new Q(H.DATE,null,G.day),this.monthAsWord=new Q(H.DATE,null,G.monthasword),this.weekDay=new Q(H.COMMON,null,G.weekday),this.orderElements=[new $(w.Year),new $(w.Month),new $(w.Day)]},ee=function e(t){var n,a,i,o;(Object(h.a)(this,e),this.collapsed=!0,this.bluetooth=new J(null),this.dnd=new J(null),this.alarm=new J(null),this.lock=new J(null),t)&&((null===(n=t.Bluetooth)||void 0===n?void 0:n.ImageIndex)&&(this.bluetooth=new J(t.Bluetooth),this.bluetooth.enabled=!0),(null===(a=t.Lock)||void 0===a?void 0:a.ImageIndex)&&(this.lock=new J(t.Lock),this.lock.enabled=!0),(null===(i=t.DoNotDisturb)||void 0===i?void 0:i.ImageIndex)&&(this.dnd=new J(t.DoNotDisturb),this.dnd.enabled=!0),(null===(o=t.Alarm)||void 0===o?void 0:o.ImageIndex)&&(this.alarm=new J(t.Alarm),this.alarm.enabled=!0))},te=function e(t){Object(h.a)(this,e),this.enabledLinear=!1,this.enabledCircle=!1,this.jsonObj=void 0,this.jsonObj=t,t&&(t.LinearSettings?this.enabledLinear=!0:t.AngleSettings&&(this.enabledCircle=!0))},ne=function e(t,n){Object(h.a)(this,e),this.collapsed=!0,this.key=void 0,this.type=void 0,this.dt=void 0,this.digit=void 0,this.digitMin=void 0,this.digitMax=void 0,this.imageProgress=new z,this.pointerProgress=new V,this.progressBar=new te,this.icon=new J,this.shortcut=null,this.key=t.index+"_"+(new Date).getTime(),this.type=t,this.dt=n,this.imageProgress.json.ImageSet.ImagesCount=n.imageProgressTotal},ae=function e(t){var n,a,i,o,l,s,r,c,d,u,g,j,m=this;if(Object(h.a)(this,e),this.dialFace=new K,this.date=new q,this.activitylistCollapsed=!0,this.activitylist=[],this.backgroundImageIndex=void 0,this.backgroundCollapsed=!0,this.json=void 0,this.dialFace=new K,this.date=new q,this.activitylist=[],this.backgroundImageIndex=null,this.json=t,null!=t){this.backgroundImageIndex=t.BackgroundImageIndex,this.dialFace=new K,this.dialFace.secondsDigital=null;var b=[];(null===(n=t.DialFace)||void 0===n||null===(a=n.DigitalDialFace)||void 0===a?void 0:a.Digits)&&t.DialFace.DigitalDialFace.Digits.forEach((function(e){switch(e.TimeType){case C.Minute.json:m.dialFace.minutesDigital=new Q(H.TIME,e,G.min),b.push(new $(C.Minute));break;default:m.dialFace.hoursDigital=new Q(H.TIME,e,G.hour),b.push(new $(C.Hour))}})),this.dialFace.am=new Z(null===(i=t.DialFace)||void 0===i||null===(o=i.DigitalDialFace)||void 0===o?void 0:o.AM),this.dialFace.pm=new Z(null===(l=t.DialFace)||void 0===l||null===(s=l.DigitalDialFace)||void 0===s?void 0:s.PM),this.dialFace.hoursClockhand=new V(null===(r=t.DialFace)||void 0===r||null===(c=r.AnalogDialFace)||void 0===c?void 0:c.Hours),this.dialFace.minutesClockhand=new V(null===(d=t.DialFace)||void 0===d||null===(u=d.AnalogDialFace)||void 0===u?void 0:u.Minutes),this.dialFace.secondsClockhand=null,this.date=new q;var v=[];(null===(g=t.Date)||void 0===g?void 0:g.DateDigits)&&t.Date.DateDigits.forEach((function(e){switch(e.DateType){case w.Month.json:e.Digit.DisplayFormAnalog?(m.date.monthAsWord=new Q(H.DATE,e,G.monthasword),v.push(new $(w.Month))):(m.date.month=new Q(H.DATE,e,G.month),v.push(new $(w.Month)));break;case w.Day.json:m.date.day=new Q(H.DATE,e,G.day),v.push(new $(w.Day));break;default:m.date.year=new Q(H.DATE,e,G.year),v.push(new $(w.Year))}})),this.date.orderElements.forEach((function(e){v.find((function(t){return t.type===e.type}))||v.push(e)})),this.date.orderElements=v,this.date.weekDay=new Q(H.COMMON,null===(j=t.Date)||void 0===j?void 0:j.WeeksDigits,G.weekday),this.activitylist=oe(t.Activity)}};function ie(e,t){var n=null,a=null;switch(t){case S.Battery:a=G.battery;break;case S.Steps:a=G.steps;break;case S.Calories:a=G.calories;break;case S.HeartRate:a=G.heartRate;break;case S.Pai:a=G.pai;break;case S.Distance:a=G.distance;break;case S.StandUp:a=G.standUp;break;case S.UVindex:a=G.uvIndex;break;case S.AirQuality:a=G.airQuality;break;case S.Humidity:a=G.humidity;break;case S.Sunrise:a=G.sunrise;break;case S.WindForce:a=G.windForce;break;case S.AirPressure:a=G.airPressure;break;case S.Weather:a=G.weather;break;case S.ActivityGoal:a=G.activityGoal}return a&&((n=new ne(t,a)).digit=new Q(H.COMMON,null,a),n.digitMin=new Q(H.COMMON,null,Object(j.a)(Object(j.a)({},a),{},{type:y.Min.index})),n.digitMax=new Q(H.COMMON,null,Object(j.a)(Object(j.a)({},a),{},{type:y.Max.index}))),n&&((null===e||void 0===e?void 0:e.Digits)&&e.Digits.forEach((function(e){e.Type===y.Min.json?n.digitMin=new Q(H.COMMON,e,Object(j.a)(Object(j.a)({},a),{},{type:y.Min.index})):e.Type===y.Max.json?n.digitMax=new Q(H.COMMON,e,Object(j.a)(Object(j.a)({},a),{},{type:y.Max.index})):n.digit=new Q(H.COMMON,e,Object(j.a)(Object(j.a)({},a),{},{type:y.Default.index}))})),n.imageProgress=new z(null===e||void 0===e?void 0:e.ImageProgress),n.pointerProgress=new V(null===e||void 0===e?void 0:e.PointerProgress),n.progressBar=new te(null===e||void 0===e?void 0:e.ProgressBar),n.icon=new J(null===e||void 0===e?void 0:e.Icon),n.shortcut=null===e||void 0===e?void 0:e.Shortcut),n}function oe(e){if(e){var t=[];return e.forEach((function(e){var n=ie(e,S.findByJson(e.Type));n&&t.push(n)})),t}return[]}var le=function e(t){var n=this;if(Object(h.a)(this,e),this.collapsed=!0,this.previewImageIndex=void 0,this.date=void 0,this.activitylistCollapsed=!0,this.activitys=[],this.orderElements={orderElementsDate:[new $(w.Year),new $(w.Month),new $(w.Day)]},t){var a,i;if(!t.Preview)return null;var o=t.Preview.findIndex((function(e){return e.LangCode===O.All.json}));this.previewImageIndex=o>=0?t.Preview[o].ImageSet.ImageIndex:0,this.activitys=oe(t.Activity),this.date=new q;var l=[];(null===(a=t.Date)||void 0===a?void 0:a.DateDigits)&&t.Date.DateDigits.forEach((function(e){switch(e.DateType){case w.Month.json:e.Digit.DisplayFormAnalog?(n.date.monthAsWord=new Q(H.DATE,e,G.monthasword),l.push(new $(w.Month))):(n.date.month=new Q(H.DATE,e,G.month),l.push(new $(w.Month)));break;case w.Day.json:n.date.day=new Q(H.DATE,e,G.day),l.push(new $(w.Day));break;default:n.date.year=new Q(H.DATE,e,G.year),l.push(new $(w.Year))}})),this.orderElements.orderElementsDate.forEach((function(e){l.find((function(t){return t.type===e.type}))||l.push(e)})),this.orderElements.orderElementsDate=l,this.date.weekDay=new Q(H.COMMON,null===(i=t.Date)||void 0===i?void 0:i.WeeksDigits,G.weekday)}},se=function e(t){var n=this;Object(h.a)(this,e),this.collapsed=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.widgetElementsCollapsed=!0,this.widgetElements=[],this.borderActivImageIndex=void 0,this.borderInactivImageIndex=void 0,this.descriptionImageBackground=new J,this.descriptionWidthCheck=0,t&&(this.x=t.X?t.X:0,this.y=t.Y?t.Y:0,this.width=t.Width,this.height=t.Height,this.widgetElements=[],t.WidgetElement&&t.WidgetElement.forEach((function(e){n.widgetElements.push(new le(e))})),this.borderActivImageIndex=t.BorderActivImageIndex,this.borderInactivImageIndex=t.BorderInactivImageIndex,this.descriptionImageBackground=new J(t.DescriptionImageBackground),this.descriptionWidthCheck=t.DescriptionWidthCheck)},re=function e(t){Object(h.a)(this,e),this.enabled=!1,this.collapsed=!0,this.topMaskImageIndex=void 0,this.underMaskImageIndex=void 0,this.showTimeOnEditScreen=void 0,this.widgets=[],t&&(this.enabled=!0,this.topMaskImageIndex=t.TopMaskImageIndex,this.underMaskImageIndex=t.UnderMaskImageIndex,this.showTimeOnEditScreen=t.Unknown4,this.widgets=[],t.Widget&&(this.widgets=t.Widget.map((function(e){return new se(e)}))))},ce=function e(t){var n,a,i,o,l,s,r,c,d,u,g,j,m,b,p,f,x,y,I=this;if(Object(h.a)(this,e),this.background=new _,this.dialFace=new K,this.date=new q,this.activitylistCollapsed=!0,this.activity=[],this.status=new ee,this.widgets=new re(null),this.aod=new ae(null),t){if(this.background=new _,this.dialFace=new K,this.date=new q,this.activity=[],this.status=new ee,this.aod=new ae(null),this.background.color=v.colorBackgroundRead(t.Background.Color),this.background.imageIndex=t.Background.BackgroundImageIndex,t.Background.Preview){var S,D,k,M,F=0;null===(S=t.Background)||void 0===S||null===(D=S.Preview)||void 0===D||D.forEach((function(e,t){e.LangCode===O.All.json&&(F=t)})),this.background.previewIndex=null===(k=t.Background.Preview[F])||void 0===k||null===(M=k.ImageSet)||void 0===M?void 0:M.ImageIndex}this.dialFace=new K;var N=[];(null===(n=t.DialFace)||void 0===n||null===(a=n.DigitalDialFace)||void 0===a?void 0:a.Digits)&&t.DialFace.DigitalDialFace.Digits.forEach((function(e){switch(e.TimeType){case C.Minute.json:I.dialFace.minutesDigital=new Q(H.TIME,e,G.min),N.push(new $(C.Minute));break;case C.Second.json:I.dialFace.secondsDigital=new Q(H.TIME,e,G.sec),N.push(new $(C.Second));break;default:I.dialFace.hoursDigital=new Q(H.TIME,e,G.hour),N.push(new $(C.Hour))}})),this.dialFace.am=new Z(null===(i=t.DialFace)||void 0===i||null===(o=i.DigitalDialFace)||void 0===o?void 0:o.AM),this.dialFace.pm=new Z(null===(l=t.DialFace)||void 0===l||null===(s=l.DigitalDialFace)||void 0===s?void 0:s.PM),this.dialFace.hoursClockhand=new V(null===(r=t.DialFace)||void 0===r||null===(c=r.AnalogDialFace)||void 0===c?void 0:c.Hours),this.dialFace.minutesClockhand=new V(null===(d=t.DialFace)||void 0===d||null===(u=d.AnalogDialFace)||void 0===u?void 0:u.Minutes),this.dialFace.secondsClockhand=new V(null===(g=t.DialFace)||void 0===g||null===(j=g.AnalogDialFace)||void 0===j?void 0:j.Seconds),this.date=new q;var P=[];(null===(m=t.System)||void 0===m||null===(b=m.Date)||void 0===b?void 0:b.DateDigits)&&t.System.Date.DateDigits.forEach((function(e){switch(e.DateType){case w.Month.json:e.Digit.DisplayFormAnalog?(I.date.monthAsWord=new Q(H.DATE,e,G.monthasword),P.push(new $(w.Month))):(I.date.month=new Q(H.DATE,e,G.month),P.push(new $(w.Month)));break;case w.Day.json:I.date.day=new Q(H.DATE,e,G.day),P.push(new $(w.Day));break;default:I.date.year=new Q(H.DATE,e,G.year),P.push(new $(w.Year))}})),this.date.orderElements.forEach((function(e){P.find((function(t){return t.type===e.type}))||P.push(e)})),this.date.orderElements=P,this.date.weekDay=new Q(H.COMMON,null===(p=t.System)||void 0===p||null===(f=p.Date)||void 0===f?void 0:f.WeeksDigits,G.weekday),this.status=new ee(null===(x=t.System)||void 0===x?void 0:x.Status),this.activity=oe(null===(y=t.System)||void 0===y?void 0:y.Activity),this.widgets=new re(t.Widgets),this.aod=new ae(t.ScreenIdle)}},de=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"getImageIndex",value:function(t,n){var a=t-e.startImageIndex;return a>=n?(alert("Bad imageIndex: "+a),0):t}}]),e}();de.NONE="None",de.startImageIndex=1,de.width=348,de.height=442,de.deviceId=65;var ue,ge=n(0),je=function(){var e=Object(a.useContext)(g),t=e.images,n=e.setImages,i=e.setWatchface,o=e.setJsonName;function l(e){var t=e.target.result,n=JSON.parse(t.toString()),a=new ce(n);i(a)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<e.length){var a=e[n].name,i=a;-1!==i.lastIndexOf(".")&&(i=i.substring(0,i.lastIndexOf(".")));var o=parseInt(i);if(/^\d+$/.test(i)&&!isNaN(o)){var l=new Image;l.addEventListener("load",(function(){(n+=1)<e.length?s(e,t,n):r(t)})),l.src=URL.createObjectURL(e[n]),l.alt=a,t.push({id:o,name:a,image:l})}else(n+=1)<e.length?s(e,t,n):r(t)}}function r(e){var t=e.sort((function(e,t){return e.id-t.id}));t[t.length-1].id!==t.length-1+de.startImageIndex&&window.alert("Images files go out of order or some of the files are missing. Name the PNG files in ascending order."),t[0].id!==de.startImageIndex&&window.alert("Images file numbering must start at ".concat(de.startImageIndex,".")),n(t)}return Object(ge.jsx)("div",{children:Object(ge.jsxs)("span",{className:"input-group input-group-sm mb-3",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Load images"}),Object(ge.jsx)("input",{type:"file",multiple:!0,id:"fileUpload",accept:"image/*",onChange:function(e){s(e.target.files,[])}}),t.length>0?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Load json file"}),Object(ge.jsx)("input",{type:"file",accept:"application/json",id:"jsonLoad",onChange:function(e){var t=e.target.files.item(0);if(t){var n=new FileReader;n.onload=l,n.readAsText(t),o(e.target.files.item(0).name)}}}),Object(ge.jsx)(u.a,{onClick:function(){document.getElementById("jsonLoad")&&(document.getElementById("jsonLoad").value=null),i(new ce)},children:"clear"})]}):""]})})},he=n(11),me=n(33),be=(n(27),{draggedFrom:null,draggedTo:null,isDragging:!1,originalOrder:[],updatedOrder:[]}),ve=function(e){var t=e._list,n=e.updateOrder,i=Object(a.useState)(be),o=Object(s.a)(i,2),l=o[0],r=o[1];function c(e){var n=Number(e.currentTarget.dataset.position);r(Object(j.a)(Object(j.a)({},l),{},{draggedFrom:n,isDragging:!0,originalOrder:t})),e.dataTransfer.setData("text/html","")}function d(e){e.preventDefault();var t=l.originalOrder,a=l.draggedFrom,i=Number(e.currentTarget.dataset.position),o=t[a],s=t.filter((function(e,t){return t!==a}));t=[].concat(Object(he.a)(s.slice(0,i)),[o],Object(he.a)(s.slice(i))),i!==l.draggedTo&&(r(Object(j.a)(Object(j.a)({},l),{},{updatedOrder:t,draggedTo:i})),n(t))}function u(e){n(l.updatedOrder),r(Object(j.a)(Object(j.a)({},l),{},{draggedFrom:null,draggedTo:null,isDragging:!1}))}function g(){r(Object(j.a)(Object(j.a)({},l),{},{draggedTo:null}))}return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsx)("ul",{className:"list-group droplist",children:t.map((function(e,t){return Object(ge.jsx)("li",{"data-position":t,draggable:!0,onDragStart:c,onDragOver:d,onDrop:u,onDragLeave:g,className:"list-group-item ".concat(l&&l.draggedTo===Number(t)?"dropArea":""),title:"Drag and Drop to change order",children:e.reactItem},t)}))})})};!function(e){e[e.Empty=0]="Empty",e[e.Number=1]="Number",e[e.Date=2]="Date",e[e.Time=3]="Time",e[e.Checkbox=4]="Checkbox",e[e.Select=5]="Select",e[e.Color=6]="Color",e[e.SelectFile=7]="SelectFile"}(ue||(ue={}));var pe=[{value:"0",title:"Left"},{value:"1",title:"Center"},{value:"2",title:"Right"}],Oe=[{value:"-1",title:"Default"},{value:"0",title:"None"},{value:"1",title:"Normal"},{value:"2",title:"Alt"}],fe=[{value:"0",title:"Clockwise"},{value:"1",title:"Counter clock"}],xe=[{value:"0",title:"Circle"},{value:"180",title:"Flat"}],ye=[{value:"0",title:"Circle"},{value:"90",title:"Triangle"},{value:"180",title:"Flat"}],Ie=(n(28),function(e){var t=e.title,n=e.value,i=e.onChange,o=Object(a.useContext)(g).images,l=Object(a.useState)(!0),r=Object(s.a)(l,2),c=r[0],d=r[1];function u(e){i(e),d(!0)}var j=[];if(j.push(Object(ge.jsx)("option",{value:"None",children:" "},"None")),o)for(var h=function(){var e=o[m];j.push(Object(ge.jsxs)("li",{value:e.id,className:"list-group-item fileitem",onClick:function(){return u(e.id)},children:[Object(ge.jsx)("img",{src:e.image.src,alt:e.name,width:30}),e.name]},e.id))},m=0;m<o.length;m++)h();return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsxs)("div",{className:"input-group-text dropdown",children:[Object(ge.jsx)("div",{children:null!==n&&void 0!==n&&o[n-de.startImageIndex]?o[n-de.startImageIndex].name:"None"}),c?"":Object(ge.jsx)("ul",{className:"list-group dropdown-content",children:j})]}),Object(ge.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){d(!c)},disabled:!o||0===o.length,children:"+"}),Object(ge.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){u(null)},disabled:!n,children:"x"})]})}),we=function(e){var t=e.title,n=e.checked,a=e.onChange,i=e.disabled;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input form-check-input-sm",type:"checkbox",disabled:i,checked:!!n,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return a(!n)}))})})]})},Ce=function(e){var t=e.title,n=e.value,a=e.onChange;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("input",{type:"color",className:"form-control form-control-sm",style:{width:40},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){a(e.target.value)})),id:"colorBackground",value:n,title:"Choose color"})]})},Se=function(e){var t=e.title,n=e.value,a=e.onChange,i=e.disabled,o=e.min,l=e.max;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:t}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",value:n||0,min:o,max:l,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=parseInt(e.target.value);a(isNaN(t)?0:t)})),disabled:i})]})},De=function(e){var t=e.title,n=e.value,a=e.onChange,i=e.disabled,o=e.options;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("select",{disabled:i,value:n,className:"form-select form-select-sm",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.target.value)})),children:o.map((function(e){return Object(ge.jsx)("option",{value:e.value,children:e.title},e.value)}))})]})},ke=function(e){var t=e.row;return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm d-flex ".concat(t.showDelete?"justify-content-between":""),children:[t.blocks.map((function(e,t){return function(e,t){var n="";switch(e.type){case ue.Empty:n=Object(ge.jsx)("span",{className:"input-group-text",children:e.title},t);break;case ue.SelectFile:n=Object(ge.jsx)(Ie,{title:e.title,onChange:e.onChange,value:e.nvalue},t);break;case ue.Number:n=Object(ge.jsx)(Se,{title:e.title,onChange:e.onChange,value:e.nvalue,disabled:e.disabled},t);break;case ue.Checkbox:n=Object(ge.jsx)(we,{title:e.title,onChange:e.onChange,checked:e.checked,disabled:e.disabled},t);break;case ue.Select:n=Object(ge.jsx)(De,{title:e.title,onChange:e.onChange,value:e.svalue,disabled:e.disabled,options:e.selectOptions},t);break;case ue.Color:n=Object(ge.jsx)(Ce,{title:e.title,onChange:e.onChange,value:e.svalue},t)}return n}(e,t)})),t.showDelete?Object(ge.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:t.onDelete,disabled:!t.onDelete,children:"Delete"}):""]})})},Me=function(e){var t=e.ar;return Object(ge.jsx)(ge.Fragment,{children:t.map((function(e,t){return e.disabled?"":Object(ge.jsx)(ke,{row:e},t)}))})},Fe=function(e){var t=e.title,n=e.digit,i=e.onUpdate,o=e.showNoData,l=e.showDecimalPointer,s=e.showDelimiter,r=e.paddingZeroFix,c=e.followDisabled,d=(e.onCopyFromNormal,Object(a.useMemo)((function(){var e,t,a;return h(null===(e=n.json)||void 0===e||null===(t=e.Digit)||void 0===t||null===(a=t.Image)||void 0===a?void 0:a.MultilangImage)}),[n])),u=Object(a.useMemo)((function(){var e,t,a;return h(null===(e=n.json)||void 0===e||null===(t=e.Digit)||void 0===t||null===(a=t.Image)||void 0===a?void 0:a.MultilangImageUnit)}),[n]),g=Object(a.useMemo)((function(){var e,t,a,i,g,j,h,O,M,A,E,T,U,B,Y,X,L,W,R,H,G,_,J,Z,z,Q,V,K,$,q,ee,te,ne,ae,ie,oe,le,se,re,ce,de,ge,je;return[{blocks:[{title:"Image",type:ue.SelectFile,nvalue:null===(e=n.json)||void 0===e||null===(t=e.Digit)||void 0===t||null===(a=t.Image)||void 0===a||null===(i=a.MultilangImage[d])||void 0===i||null===(g=i.ImageSet)||void 0===g?void 0:g.ImageIndex,onChange:m},{title:"Count: ".concat(null===(j=n.json)||void 0===j||null===(h=j.Digit)||void 0===h||null===(O=h.Image)||void 0===O||null===(M=O.MultilangImage[d])||void 0===M||null===(A=M.ImageSet)||void 0===A?void 0:A.ImagesCount),type:ue.Empty}]},{blocks:[{title:"X",type:ue.Number,nvalue:(null===(E=n.json.Digit)||void 0===E||null===(T=E.Image)||void 0===T?void 0:T.X)?n.json.Digit.Image.X:0,onChange:v},{title:"Y",type:ue.Number,nvalue:(null===(U=n.json.Digit)||void 0===U||null===(B=U.Image)||void 0===B?void 0:B.Y)?n.json.Digit.Image.Y:0,onChange:p}]},{blocks:[{title:"Unit",type:ue.SelectFile,nvalue:(null===(Y=n.json)||void 0===Y||null===(X=Y.Digit)||void 0===X||null===(L=X.Image)||void 0===L?void 0:L.MultilangImageUnit)?null===(W=n.json)||void 0===W||null===(R=W.Digit)||void 0===R||null===(H=R.Image)||void 0===H||null===(G=H.MultilangImageUnit[u].ImageSet)||void 0===G?void 0:G.ImageIndex:null,onChange:b}]},{disabled:!o,blocks:[{title:"No data",type:ue.SelectFile,nvalue:null===(_=n.json)||void 0===_||null===(J=_.Digit)||void 0===J||null===(Z=J.Image)||void 0===Z?void 0:Z.NoDataImageIndex,onChange:S}]},{disabled:!s,blocks:[{title:"Minus",type:ue.SelectFile,nvalue:null===(z=n.json)||void 0===z||null===(Q=z.Digit)||void 0===Q||null===(V=Q.Image)||void 0===V?void 0:V.DelimiterImageIndex,onChange:D}]},{disabled:!l,blocks:[{title:"Decimal pointer",type:ue.SelectFile,nvalue:null===(K=n.json)||void 0===K||null===($=K.Digit)||void 0===$||null===(q=$.Image)||void 0===q?void 0:q.DecimalPointImageIndex,onChange:k}]},{disabled:n.json.Digit.DisplayFormAnalog,blocks:[{title:"padding zero",type:ue.Checkbox,checked:(null===(ee=n.json)||void 0===ee||null===(te=ee.Digit)||void 0===te?void 0:te.PaddingZero)||r,onChange:y,disabled:r},{title:"spacing",type:ue.Number,nvalue:(null===(ne=n.json)||void 0===ne||null===(ae=ne.Digit)||void 0===ae?void 0:ae.Spacing)?n.json.Digit.Spacing:0,onChange:C}]},{disabled:n.json.Digit.DisplayFormAnalog,blocks:[{title:"follow",type:ue.Checkbox,checked:(null===(ie=n.json)||void 0===ie?void 0:ie.CombingMode)!==x.Single.json,onChange:w,disabled:c},{title:"alignment",type:ue.Select,svalue:f.fromJson(null===(oe=n.json)||void 0===oe||null===(le=oe.Digit)||void 0===le?void 0:le.Alignment).toString(),selectOptions:pe,onChange:I}]},{disabled:n.json.Digit.DisplayFormAnalog,blocks:[{title:"Separator",type:ue.SelectFile,nvalue:null===(se=n.json)||void 0===se||null===(re=se.Separator)||void 0===re?void 0:re.ImageIndex,onChange:F},{title:"X",type:ue.Number,nvalue:(null===(ce=n.json.Separator)||void 0===ce||null===(de=ce.Coordinates)||void 0===de?void 0:de.X)?n.json.Separator.Coordinates.X:0,onChange:N},{title:"Y",type:ue.Number,nvalue:(null===(ge=n.json.Separator)||void 0===ge||null===(je=ge.Coordinates)||void 0===je?void 0:je.Y)?n.json.Separator.Coordinates.Y:0,onChange:P}]}]}),[n]);function h(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t>=0?t:0}function m(e){var t=Object(j.a)({},n);if(t.json.Digit.Image.MultilangImage||(t.json.Digit.Image.MultilangImage=[]),t.json.Digit.Image.MultilangImage[d])e?t.json.Digit.Image.MultilangImage[d].ImageSet.ImageIndex=e:t.json.Digit.Image.MultilangImage=null;else{var a=t.json.Digit.Image.MultilangImage.push(new W);t.json.Digit.Image.MultilangImage[a-1].LangCode=O.All.json,t.json.Digit.Image.MultilangImage[a-1].ImageSet.ImageIndex=e,t.json.Digit.Image.MultilangImage[a-1].ImageSet.ImagesCount=t.con.count}i(t)}function b(e){var t=Object(j.a)({},n);if(t.json.Digit.Image.MultilangImageUnit||(t.json.Digit.Image.MultilangImageUnit=[]),t.json.Digit.Image.MultilangImageUnit[d])e?t.json.Digit.Image.MultilangImageUnit[d].ImageSet.ImageIndex=e:t.json.Digit.Image.MultilangImageUnit=null;else{var a=t.json.Digit.Image.MultilangImageUnit.push(new W);t.json.Digit.Image.MultilangImageUnit[a-1].LangCode=O.All.json,t.json.Digit.Image.MultilangImageUnit[a-1].ImageSet.ImageIndex=e,t.json.Digit.Image.MultilangImageUnit[a-1].ImageSet.ImagesCount=1}i(t)}function v(e){var t=Object(j.a)({},n);t.json.Digit.Image.X=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Digit.Image.Y=e,i(t)}function y(e){var t=Object(j.a)({},n);t.json.Digit.PaddingZero=e,i(t)}function I(e){var t=Object(j.a)({},n);t.json.Digit.Alignment=f.toJson(parseInt(e)),i(t)}function w(e){var t=Object(j.a)({},n);t.json.CombingMode=e?x.Follow.json:x.Single.json,i(t)}function C(e){var t=Object(j.a)({},n);t.json.Digit.Spacing=e,i(t)}function S(e){var t=Object(j.a)({},n);t.json.Digit.Image.NoDataImageIndex=e,i(t)}function D(e){var t=Object(j.a)({},n);t.json.Digit.Image.DelimiterImageIndex=e,i(t)}function k(e){var t=Object(j.a)({},n);t.json.Digit.Image.DecimalPointImageIndex=e,i(t)}function F(e){var t=Object(j.a)({},n);e?(t.json.Separator||(t.json.Separator=new M),t.json.Separator.ImageIndex=e):t.json.Separator=null,i(t)}function N(e){var t=Object(j.a)({},n);t.json.Separator||(t.json.Separator=new M),t.json.Separator.Coordinates.X=e,i(t)}function P(e){var t=Object(j.a)({},n);t.json.Separator||(t.json.Separator=new M),t.json.Separator.Coordinates.Y=e,i(t)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabledImage,onChange:function(){var e=Object(j.a)({},n);if(e.enabledImage=!e.enabledImage,e.enabled=e.enabledImage||e.enabledSystemFont||e.enabledSystemFontCircle,!e.json.Digit.Image){e.json.Digit.Image=new B;var t=new W;t.ImageSet.ImagesCount=e.con.count,e.json.Digit.DisplayFormAnalog=e.con.displayAnalog,e.json.Digit.Image.MultilangImage[0]=t}i(e)}})})]})}),n.enabledImage?Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:g})}):""]})},Ne=function(e){var t=e.title,n=e.digit,i=e.onUpdate,o=e.paddingZeroFix,l=e.onCopyFromNormal,s=e.followDisabled,r=Object(a.useMemo)((function(){var e,t,a,i,l,r,j,y,I,w,C,S,D,k,M,F,N,P,A,E,T,U,B,Y;return[{blocks:[{title:"X",type:ue.Number,nvalue:(null===(e=n.json.Digit)||void 0===e||null===(t=e.SystemFont)||void 0===t||null===(a=t.Coordinates)||void 0===a?void 0:a.X)?n.json.Digit.SystemFont.Coordinates.X:0,onChange:d},{title:"Y",type:ue.Number,nvalue:(null===(i=n.json.Digit)||void 0===i||null===(l=i.SystemFont)||void 0===l||null===(r=l.Coordinates)||void 0===r?void 0:r.Y)?n.json.Digit.SystemFont.Coordinates.Y:0,onChange:u},{title:"Color",type:ue.Color,svalue:(null===(j=n.json.Digit)||void 0===j||null===(y=j.SystemFont)||void 0===y?void 0:y.Color)?v.colorRead(n.json.Digit.SystemFont.Color):v.DEFAULT_COLOR,onChange:c}]},{blocks:[{title:"Size",type:ue.Number,nvalue:(null===(I=n.json.Digit)||void 0===I||null===(w=I.SystemFont)||void 0===w?void 0:w.Size)?n.json.Digit.SystemFont.Size:0,onChange:b},{title:"Angle",type:ue.Number,nvalue:(null===(C=n.json.Digit)||void 0===C||null===(S=C.SystemFont)||void 0===S?void 0:S.Angle)?n.json.Digit.SystemFont.Angle:0,onChange:p}]},{blocks:[{title:"padding zero",type:ue.Checkbox,checked:(null===(D=n.json)||void 0===D||null===(k=D.Digit)||void 0===k?void 0:k.PaddingZero)||o,onChange:g,disabled:o},{title:"follow",type:ue.Checkbox,checked:(null===(M=n.json)||void 0===M?void 0:M.CombingMode)!==x.Single.json,onChange:h,disabled:s},{title:"spacing",type:ue.Number,nvalue:(null===(F=n.json)||void 0===F||null===(N=F.Digit)||void 0===N?void 0:N.Spacing)?n.json.Digit.Spacing:0,onChange:m}]},{blocks:[{title:"Unit",type:ue.Select,svalue:(null===(P=n.json)||void 0===P||null===(A=P.Digit)||void 0===A||null===(E=A.SystemFont)||void 0===E?void 0:E.ShowUnitCheck)?null===(T=n.json)||void 0===T||null===(U=T.Digit)||void 0===U||null===(B=U.SystemFont.ShowUnitCheck)||void 0===B?void 0:B.toString():"0",onChange:f,selectOptions:Oe},{title:"Separator",type:ue.Checkbox,checked:!!(null===(Y=n.json)||void 0===Y?void 0:Y.Separator),onChange:O}]}]}),[n]);function c(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Color=v.colorWrite(e),i(t)}function d(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Coordinates.X=e,i(t)}function u(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Coordinates.Y=e,i(t)}function g(e){var t=Object(j.a)({},n);t.json.Digit.PaddingZero=e,i(t)}function h(e){var t=Object(j.a)({},n);t.json.CombingMode=e?x.Follow.json:x.Single.json,i(t)}function m(e){var t=Object(j.a)({},n);t.json.Digit.Spacing=e,i(t)}function b(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Size=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Angle=e,i(t)}function O(){var e=Object(j.a)({},n);e.json.Separator?e.json.Separator=null:(e.json.Separator=new M,e.json.Separator.Coordinates.X=-1,e.json.Separator.Coordinates.Y=-1),i(e)}function f(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.ShowUnitCheck=parseInt(e),i(t)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabledSystemFont,onChange:function(){var e=Object(j.a)({},n);e.enabledSystemFont=!e.enabledSystemFont,e.enabled=e.enabledImage||e.enabledSystemFont||e.enabledSystemFontCircle,e.json.Digit.SystemFont||(e.json.Digit.SystemFont=new Y,e.json.Digit.SystemFont.Coordinates=new D),i(e)}})})]})}),n.enabledSystemFont?Object(ge.jsxs)(me.a.Body,{children:[l?Object(ge.jsx)("div",{style:{clear:"both"},children:Object(ge.jsx)("button",{className:"btn btn-sm btn-secondary mb-1",style:{float:"right"},onClick:l,children:"Copy from normal screen"})}):"",Object(ge.jsx)(Me,{ar:r})]}):""]})},Pe=function(e){var t=e.title,n=e.digit,i=e.onUpdate,o=e.paddingZeroFix,l=e.onCopyFromNormal,s=e.followDisabled,r=Object(a.useMemo)((function(){var e,t,a,i,l,r,j,w,C,S,D,k,M,F,N,P,A,E,T,U,B,Y,X,L,W,R,H,G,_,J,Z;return[{blocks:[{title:"X",type:ue.Number,nvalue:(null===(e=n.json.Digit)||void 0===e||null===(t=e.SystemFont)||void 0===t||null===(a=t.FontRotate)||void 0===a?void 0:a.X)?n.json.Digit.SystemFont.FontRotate.X:0,onChange:c},{title:"Y",type:ue.Number,nvalue:(null===(i=n.json.Digit)||void 0===i||null===(l=i.SystemFont)||void 0===l||null===(r=l.FontRotate)||void 0===r?void 0:r.Y)?n.json.Digit.SystemFont.FontRotate.Y:0,onChange:d},{title:"Color",type:ue.Color,svalue:(null===(j=n.json.Digit)||void 0===j||null===(w=j.SystemFont)||void 0===w?void 0:w.Color)?v.colorRead(n.json.Digit.SystemFont.Color):v.DEFAULT_COLOR,onChange:u}]},{blocks:[{title:"Size",type:ue.Number,nvalue:(null===(C=n.json.Digit)||void 0===C||null===(S=C.SystemFont)||void 0===S?void 0:S.Size)?n.json.Digit.SystemFont.Size:0,onChange:b},{title:"Radius",type:ue.Number,nvalue:(null===(D=n.json.Digit)||void 0===D||null===(k=D.SystemFont)||void 0===k||null===(M=k.FontRotate)||void 0===M?void 0:M.Radius)?n.json.Digit.SystemFont.FontRotate.Radius:0,onChange:p}]},{blocks:[{title:"Angle",type:ue.Number,nvalue:(null===(F=n.json.Digit)||void 0===F||null===(N=F.SystemFont)||void 0===N?void 0:N.Angle)?n.json.Digit.SystemFont.Angle:0,onChange:O},{title:"Direction",type:ue.Select,svalue:(null===(P=n.json)||void 0===P||null===(A=P.Digit)||void 0===A||null===(E=A.SystemFont)||void 0===E||null===(T=E.FontRotate)||void 0===T?void 0:T.RotateDirection)?n.json.Digit.SystemFont.FontRotate.RotateDirection.toString():"0",onChange:I,selectOptions:fe}]},{blocks:[{title:"padding zero",type:ue.Checkbox,checked:(null===(U=n.json)||void 0===U||null===(B=U.Digit)||void 0===B?void 0:B.PaddingZero)||o,onChange:g,disabled:o},{title:"follow",type:ue.Checkbox,checked:(null===(Y=n.json)||void 0===Y?void 0:Y.CombingMode)!==x.Single.json,onChange:h,disabled:s},{title:"spacing",type:ue.Number,nvalue:(null===(X=n.json)||void 0===X||null===(L=X.Digit)||void 0===L?void 0:L.Spacing)?n.json.Digit.Spacing:0,onChange:m}]},{blocks:[{title:"Unit",type:ue.Select,svalue:(null===(W=n.json)||void 0===W||null===(R=W.Digit)||void 0===R||null===(H=R.SystemFont)||void 0===H?void 0:H.ShowUnitCheck)?null===(G=n.json)||void 0===G||null===(_=G.Digit)||void 0===_||null===(J=_.SystemFont.ShowUnitCheck)||void 0===J?void 0:J.toString():"-1",onChange:y,selectOptions:Oe},{title:"Separator",type:ue.Checkbox,checked:!!(null===(Z=n.json)||void 0===Z?void 0:Z.Separator),onChange:f}]}]}),[n]);function c(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.X=e,i(t)}function d(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.Y=e,i(t)}function u(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Color=v.colorWrite(e),i(t)}function g(e){var t=Object(j.a)({},n);t.json.Digit.PaddingZero=e,i(t)}function h(e){var t=Object(j.a)({},n);t.json.CombingMode=e?x.Follow.json:x.Single.json,i(t)}function m(e){var t=Object(j.a)({},n);t.json.Digit.Spacing=e,i(t)}function b(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Size=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.Radius=e,i(t)}function O(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Angle=e,i(t)}function f(){var e=Object(j.a)({},n);e.json.Separator?e.json.Separator=null:(e.json.Separator=new M,e.json.Separator.Coordinates.X=-1,e.json.Separator.Coordinates.Y=-1),i(e)}function y(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.ShowUnitCheck=parseInt(e),i(t)}function I(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.RotateDirection=parseInt(e),i(t)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabledSystemFontCircle,onChange:function(){var e=Object(j.a)({},n);e.enabledSystemFontCircle=!e.enabledSystemFontCircle,e.enabled=e.enabledImage||e.enabledSystemFont||e.enabledSystemFontCircle,e.json.Digit.SystemFont||(e.json.Digit.SystemFont=new Y),e.json.Digit.SystemFont.FontRotate||(e.json.Digit.SystemFont.FontRotate=new X),i(e)}})})]})}),n.enabledSystemFontCircle?Object(ge.jsxs)(me.a.Body,{children:[l?Object(ge.jsx)("div",{style:{clear:"both"},children:Object(ge.jsx)("button",{className:"btn btn-sm btn-secondary mb-1",style:{float:"right"},onClick:l,children:"Copy from normal screen"})}):"",Object(ge.jsx)(Me,{ar:r})]}):""]})},Ae=function(e){var t=e.digit,n=e.title,a=e.onUpdate,i=e.showDecimalPointer,o=e.showDelimiter,l=e.showNoData,s=e.paddingZeroFix;return Object(ge.jsxs)("div",{children:[Object(ge.jsx)(Fe,{title:"Numerical (".concat(n,")"),digit:t,onUpdate:a,showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}),Object(ge.jsx)(Ne,{title:"Systemfont Rotated (".concat(n,")"),digit:t,onUpdate:a,paddingZeroFix:s}),Object(ge.jsx)(Pe,{title:"Systemfont Circle (".concat(n,")"),digit:t,onUpdate:a,paddingZeroFix:s})]})},Ee=function(e){var t=e.title,n=e.clockHand,i=e.onUpdate,o=e.showAngle,l=e.onCopyFromNormal,s=Object(a.useMemo)((function(){var e,t;return function(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t||0}(null===(e=n.json)||void 0===e||null===(t=e.Scale)||void 0===t?void 0:t.ImageSet)}),[n]),r=Object(a.useMemo)((function(){var e,t,a,i,l,r,j,O,w,C,S,D,k,M,F,N,P,A,E,T,U,B,Y,X,L,W,R,H,G,_,J,Z,z,Q,V,K,$,q,ee,te,ne,ae;return[{blocks:[{title:"Pointer",type:ue.SelectFile,nvalue:null===(e=n.json)||void 0===e||null===(t=e.Pointer)||void 0===t?void 0:t.ImageIndex,onChange:u}]},{blocks:[{title:"Center of rotation",type:ue.Empty},{title:"X",type:ue.Number,nvalue:(null===(a=n.json)||void 0===a?void 0:a.X)?n.json.X:0,onChange:g},{title:"Y",type:ue.Number,nvalue:(null===(i=n.json)||void 0===i?void 0:i.Y)?n.json.Y:0,onChange:h}]},{blocks:[{title:"Pointer offset",type:ue.Empty},{title:"X",type:ue.Number,nvalue:(null===(l=n.json)||void 0===l||null===(r=l.Pointer)||void 0===r||null===(j=r.Coordinates)||void 0===j?void 0:j.X)?n.json.Pointer.Coordinates.X:0,onChange:m},{title:"Y",type:ue.Number,nvalue:(null===(O=n.json)||void 0===O||null===(w=O.Pointer)||void 0===w||null===(C=w.Coordinates)||void 0===C?void 0:C.Y)?n.json.Pointer.Coordinates.Y:0,onChange:b}]},{blocks:[{title:"Cover",type:ue.SelectFile,nvalue:null===(S=n.json)||void 0===S||null===(D=S.Cover)||void 0===D?void 0:D.ImageIndex,onChange:v},{title:"X",type:ue.Number,nvalue:(null===(k=n.json)||void 0===k||null===(M=k.Cover)||void 0===M||null===(F=M.Coordinates)||void 0===F?void 0:F.X)?null===(N=n.json)||void 0===N||null===(P=N.Cover)||void 0===P||null===(A=P.Coordinates)||void 0===A?void 0:A.X:0,onChange:p},{title:"Y",type:ue.Number,nvalue:(null===(E=n.json)||void 0===E||null===(T=E.Cover)||void 0===T||null===(U=T.Coordinates)||void 0===U?void 0:U.Y)?null===(B=n.json)||void 0===B||null===(Y=B.Cover)||void 0===Y||null===(X=Y.Coordinates)||void 0===X?void 0:X.Y:0,onChange:f}]},{blocks:[{title:"Scale",type:ue.SelectFile,nvalue:null===(L=n.json)||void 0===L||null===(W=L.Scale)||void 0===W||null===(R=W.ImageSet[s])||void 0===R||null===(H=R.ImageSet)||void 0===H?void 0:H.ImageIndex,onChange:x},{title:"X",type:ue.Number,nvalue:(null===(G=n.json)||void 0===G||null===(_=G.Scale)||void 0===_||null===(J=_.Coordinates)||void 0===J?void 0:J.X)?null===(Z=n.json)||void 0===Z||null===(z=Z.Scale)||void 0===z||null===(Q=z.Coordinates)||void 0===Q?void 0:Q.X:0,onChange:y},{title:"Y",type:ue.Number,nvalue:(null===(V=n.json)||void 0===V||null===(K=V.Scale)||void 0===K||null===($=K.Coordinates)||void 0===$?void 0:$.Y)?null===(q=n.json)||void 0===q||null===(ee=q.Scale)||void 0===ee||null===(te=ee.Coordinates)||void 0===te?void 0:te.Y:0,onChange:I}]},{disabled:!o,blocks:[{title:"Start angle",type:ue.Number,nvalue:null===(ne=n.json)||void 0===ne?void 0:ne.StartAngle,onChange:d},{title:"End angle",type:ue.Number,nvalue:null===(ae=n.json)||void 0===ae?void 0:ae.EndAngle,onChange:c}]}]}),[n]);function c(e){var t=Object(j.a)({},n);t.json.EndAngle=e,i(t)}function d(e){var t=Object(j.a)({},n);t.json.StartAngle=e,i(t)}function u(e){var t=Object(j.a)({},n);t.json.Pointer||(t.json.Pointer=new M),t.json.Pointer.ImageIndex=e,i(t)}function g(e){var t=Object(j.a)({},n);t.json.X=e,i(t)}function h(e){var t=Object(j.a)({},n);t.json.Y=e,i(t)}function m(e){var t=Object(j.a)({},n);t.json.Pointer||(t.json.Pointer=new M),t.json.Pointer.Coordinates||(t.json.Pointer.Coordinates=new D),t.json.Pointer.Coordinates.X=e,i(t)}function b(e){var t=Object(j.a)({},n);t.json.Pointer||(t.json.Pointer=new M),t.json.Pointer.Coordinates||(t.json.Pointer.Coordinates=new D),t.json.Pointer.Coordinates.Y=e,i(t)}function v(e){var t=Object(j.a)({},n);t.json.Cover||(t.json.Cover=new M),t.json.Cover.ImageIndex=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Cover||(t.json.Cover=new M),t.json.Cover.Coordinates||(t.json.Cover.Coordinates=new D),t.json.Cover.Coordinates.X=e,i(t)}function f(e){var t=Object(j.a)({},n);t.json.Cover||(t.json.Cover=new M),t.json.Cover.Coordinates||(t.json.Cover.Coordinates=new D),t.json.Cover.Coordinates.Y=e,i(t)}function x(e){var t=Object(j.a)({},n);t.json.Scale?t.json.Scale.ImageSet[s].ImageSet.ImageIndex=e:(t.json.Scale=new T,t.json.Scale.ImageSet[0].ImageSet.ImageIndex=e),i(t)}function y(e){var t=Object(j.a)({},n);t.json.Scale||(t.json.Scale=new T),t.json.Scale.Coordinates||(t.json.Scale.Coordinates=new D),t.json.Scale.Coordinates.X=e,i(t)}function I(e){var t=Object(j.a)({},n);t.json.Scale||(t.json.Scale=new T),t.json.Scale.Coordinates||(t.json.Scale.Coordinates=new D),t.json.Scale.Coordinates.Y=e,i(t)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabled,onChange:function(e){var t=Object(j.a)({},n);t.enabled=!t.enabled,t.enabled&&!t.json&&(t.json=new E,t.json.StartAngle=0,t.json.EndAngle=360),i(t)}})})]})}),n.enabled?Object(ge.jsxs)(me.a.Body,{children:[l?Object(ge.jsx)("div",{style:{clear:"both"},children:Object(ge.jsx)("button",{className:"btn btn-sm btn-secondary mb-1",style:{float:"right"},onClick:l,children:"Copy from normal screen"})}):"",Object(ge.jsx)(Me,{ar:r})]}):""]})},Te=function(e){var t=e.title,n=e.imageCoords,i=e.onUpdate,o=Object(a.useMemo)((function(){return[{blocks:[{title:"Image",type:ue.SelectFile,nvalue:n.json.ImageIndex,onChange:l},{title:"X",type:ue.Number,nvalue:n.json.Coordinates.X,onChange:s},{title:"Y",type:ue.Number,nvalue:n.json.Coordinates.Y,onChange:r}]}]}),[n]);function l(e){var t=Object(j.a)({},n);t.json.ImageIndex=e,i(t)}function s(e){var t=Object(j.a)({},n);t.json.Coordinates.X=e,i(t)}function r(e){var t=Object(j.a)({},n);t.json.Coordinates.Y=e,i(t)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabled,onChange:function(){var e=Object(j.a)({},n);e.enabled=!e.enabled,i(e)}})})]})}),n.enabled?Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:o})}):""]})},Ue=function(e){var t=e.imageProgress,n=e.onUpdate,i=Object(a.useMemo)((function(){var e,n,a,i,r,c;return[{blocks:[{title:"Image",type:ue.SelectFile,nvalue:null===(e=t.json)||void 0===e||null===(n=e.ImageSet)||void 0===n?void 0:n.ImageIndex,onChange:l},{title:"Count",type:ue.Number,nvalue:null===(a=t.json)||void 0===a||null===(i=a.ImageSet)||void 0===i?void 0:i.ImagesCount,onChange:s},{title:"Display type",type:ue.Checkbox,checked:(null===(r=t.json)||void 0===r?void 0:r.DisplayType)!==I.Continuous.json,onChange:o},{title:(null===(c=t.json)||void 0===c?void 0:c.DisplayType)===I.Continuous.json?"continuous":"singe",type:ue.Empty}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.json.DisplayType=e?I.Single.json:I.Continuous.json,n(a)}function l(e){var a=Object(j.a)({},t);a.json.ImageSet.ImageIndex=e,n(a)}function s(e){var a=Object(j.a)({},t);a.json.ImageSet.ImagesCount=e,n(a)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Image Progress"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:t.enabled,onChange:function(){var e=Object(j.a)({},t);e.enabled=!e.enabled,e.enabled&&(e.json.Coordinates&&0!==e.json.Coordinates.length||(e.json.Coordinates=[new D])),n(e)}})})]})}),t.enabled?Object(ge.jsxs)(me.a.Body,{children:[Object(ge.jsx)(Me,{ar:i}),Object(ge.jsxs)(me.a,{className:"mt-1",children:[Object(ge.jsxs)(me.a.Header,{className:"input-group input-group-sm d-flex justify-content-between",children:[Object(ge.jsx)("span",{children:"Coordinates"}),Object(ge.jsx)("button",{className:"btn btn-outline-success",type:"button",title:"add coordinates",onClick:function(){var e=Object(j.a)({},t),a=new D;a.X=e.json.Coordinates.length>0?e.json.Coordinates[e.json.Coordinates.length-1].X:0,a.Y=e.json.Coordinates.length>0?e.json.Coordinates[e.json.Coordinates.length-1].Y:0,e.json.Coordinates.push(a),n(e)},children:"Add"})]}),Object(ge.jsx)(Me,{ar:t.json.Coordinates.map((function(e,a){return{blocks:[{title:"".concat(a),type:ue.Empty},{title:"X",type:ue.Number,nvalue:e.X?e.X:0,onChange:function(e){return function(e,a){var i=Object(j.a)({},t);i.json.Coordinates[a].X=e,n(i)}(e,a)}},{title:"Y",type:ue.Number,nvalue:e.Y?e.Y:0,onChange:function(e){return function(e,a){var i=Object(j.a)({},t);i.json.Coordinates[a].Y=e,n(i)}(e,a)}}],onDelete:a>0?function(){return function(e){var a=Object(j.a)({},t);a.json.Coordinates.splice(e,1),n(a)}(a)}:null,showDelete:!0}}))})]})]}):""]})},Be=function(e){var t=e.progressBar,n=e.onUpdate,i=Object(a.useMemo)((function(){var e,n,a,i,j,p,O,f,x,y,I,w,C,S,D,k;return[{blocks:[{title:"Center",type:ue.Empty},{title:"X",type:ue.Number,nvalue:(null===(e=t.jsonObj)||void 0===e||null===(n=e.AngleSettings)||void 0===n?void 0:n.X)?t.jsonObj.AngleSettings.X:0,onChange:l},{title:"Y",type:ue.Number,nvalue:(null===(a=t.jsonObj)||void 0===a||null===(i=a.AngleSettings)||void 0===i?void 0:i.Y)?t.jsonObj.AngleSettings.Y:0,onChange:s}]},{blocks:[{title:"Radius",type:ue.Number,nvalue:(null===(j=t.jsonObj)||void 0===j||null===(p=j.AngleSettings)||void 0===p?void 0:p.Radius)?t.jsonObj.AngleSettings.Radius:0,onChange:r},{title:"Width",type:ue.Number,nvalue:(null===(O=t.jsonObj)||void 0===O?void 0:O.Width)?t.jsonObj.Width:0,onChange:c,min:0,max:100}]},{blocks:[{title:"Start angle",type:ue.Number,nvalue:(null===(f=t.jsonObj)||void 0===f||null===(x=f.AngleSettings)||void 0===x?void 0:x.StartAngle)?t.jsonObj.AngleSettings.StartAngle:0,onChange:d},{title:"End angle",type:ue.Number,nvalue:(null===(y=t.jsonObj)||void 0===y||null===(I=y.AngleSettings)||void 0===I?void 0:I.EndAngle)?t.jsonObj.AngleSettings.EndAngle:0,onChange:u}]},{blocks:[{title:"Foreground",type:ue.SelectFile,nvalue:null===(w=t.jsonObj)||void 0===w?void 0:w.ForegroundImageIndex,onChange:g},{title:"Color",type:ue.Color,svalue:(null===(C=t.jsonObj)||void 0===C?void 0:C.Color)?v.colorRead(t.jsonObj.Color):v.DEFAULT_COLOR,onChange:h}]},{blocks:[{title:"Line ending",type:ue.Select,svalue:(null===(S=t.jsonObj)||void 0===S?void 0:S.Flatness)?t.jsonObj.Flatness.toString():"0",onChange:o,selectOptions:ye}]},{blocks:[{title:"Pointer",type:ue.SelectFile,nvalue:null===(D=t.jsonObj)||void 0===D?void 0:D.PointerImageIndex,onChange:m},{title:"Background image",type:ue.SelectFile,nvalue:null===(k=t.jsonObj)||void 0===k?void 0:k.BackgroundImageIndex,onChange:b}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.jsonObj.Flatness=parseInt(e),n(a)}function l(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.X=e,n(a)}function s(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.Y=e,n(a)}function r(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.Radius=Math.abs(e),n(a)}function c(e){var a=Object(j.a)({},t);a.jsonObj.Width=Math.max(0,Math.min(e,100)),n(a)}function d(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.StartAngle=e,n(a)}function u(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.EndAngle=e,n(a)}function g(e){var a=Object(j.a)({},t);a.jsonObj.ForegroundImageIndex=e,n(a)}function h(e){var a=Object(j.a)({},t);a.jsonObj.Color=v.colorWrite(e),n(a)}function m(e){var a=Object(j.a)({},t);a.jsonObj.PointerImageIndex=e,n(a)}function b(e){var a=Object(j.a)({},t);a.jsonObj.BackgroundImageIndex=e,n(a)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Progress circle"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:t.enabledCircle,onChange:function(){var e=Object(j.a)({},t);e.enabledCircle=!e.enabledCircle,e.jsonObj||(e.jsonObj=new N),e.jsonObj.AngleSettings||(e.jsonObj.AngleSettings=new A),n(e)}})})]})}),t.enabledCircle?Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:i})}):""]})},Ye=function(e){var t=e.progressBar,n=e.onUpdate,i=Object(a.useMemo)((function(){var e,n,a,i,j,m,b,p,O,f,x,y;return[{blocks:[{title:"X",type:ue.Number,nvalue:(null===(e=t.jsonObj)||void 0===e||null===(n=e.LinearSettings)||void 0===n?void 0:n.StartX)?t.jsonObj.LinearSettings.StartX:0,onChange:o},{title:"Y",type:ue.Number,nvalue:(null===(a=t.jsonObj)||void 0===a||null===(i=a.LinearSettings)||void 0===i?void 0:i.StartY)?t.jsonObj.LinearSettings.StartY:0,onChange:l}]},{blocks:[{title:"Length",type:ue.Number,nvalue:(null===(j=t.jsonObj)||void 0===j||null===(m=j.LinearSettings)||void 0===m?void 0:m.EndX)?t.jsonObj.LinearSettings.EndX-t.jsonObj.LinearSettings.StartX:0,onChange:s},{title:"Width",type:ue.Number,nvalue:(null===(b=t.jsonObj)||void 0===b?void 0:b.Width)?t.jsonObj.Width:0,onChange:r,min:0}]},{blocks:[{title:"Foreground",type:ue.SelectFile,nvalue:null===(p=t.jsonObj)||void 0===p?void 0:p.ForegroundImageIndex,onChange:c},{title:"Color",type:ue.Color,svalue:(null===(O=t.jsonObj)||void 0===O?void 0:O.Color)?v.colorRead(t.jsonObj.Color):v.DEFAULT_COLOR,onChange:d}]},{blocks:[{title:"Line ending",type:ue.Select,svalue:(null===(f=t.jsonObj)||void 0===f?void 0:f.Flatness)?t.jsonObj.Flatness.toString():"0",onChange:h,selectOptions:xe}]},{blocks:[{title:"Pointer",type:ue.SelectFile,nvalue:null===(x=t.jsonObj)||void 0===x?void 0:x.PointerImageIndex,onChange:u},{title:"Background image",type:ue.SelectFile,nvalue:null===(y=t.jsonObj)||void 0===y?void 0:y.BackgroundImageIndex,onChange:g}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.jsonObj.LinearSettings.StartX=e,n(a)}function l(e){var a=Object(j.a)({},t);a.jsonObj.LinearSettings.StartY=e,a.jsonObj.LinearSettings.EndY=e,n(a)}function s(e){var a,i,o=Object(j.a)({},t),l=(null===(a=o.jsonObj)||void 0===a||null===(i=a.LinearSettings)||void 0===i?void 0:i.StartX)?o.jsonObj.LinearSettings.StartX:0;o.jsonObj.LinearSettings.EndX=l+Math.abs(e),n(o)}function r(e){var a=Object(j.a)({},t);a.jsonObj.Width=Math.max(0,e),n(a)}function c(e){var a=Object(j.a)({},t);a.jsonObj.ForegroundImageIndex=e,n(a)}function d(e){var a=Object(j.a)({},t);a.jsonObj.Color=v.colorWrite(e),n(a)}function u(e){var a=Object(j.a)({},t);a.jsonObj.PointerImageIndex=e,n(a)}function g(e){var a=Object(j.a)({},t);a.jsonObj.BackgroundImageIndex=e,n(a)}function h(e){var a=Object(j.a)({},t),i=parseInt(e);isNaN(i)?a.jsonObj.Flatness=0:a.jsonObj.Flatness=i,n(a)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Progress linear"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:t.enabledLinear,onChange:function(){var e=Object(j.a)({},t);e.enabledLinear=!e.enabledLinear,e.jsonObj||(e.jsonObj=new N),e.jsonObj.LinearSettings||(e.jsonObj.LinearSettings=new P),n(e)}})})]})}),t.enabledLinear?Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:i})}):""]})},Xe=function(e){var t=e.activity,n=e.title,a=e.onUpdateActivity,i=e.showDecimalPointer,o=e.showDelimiter,l=e.showNoData,s=e.paddingZeroFix,r=e.showProgress,c=e.onCopy,d=e.onDelete,u=e.titleDefault,g=e.titleMin,h=e.titleMax;return Object(ge.jsxs)(me.a,{className:"activity w-100",children:[Object(ge.jsxs)(me.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},t);e.collapsed=!e.collapsed,a(e)},children:[Object(ge.jsx)("span",{className:"input-group-text",children:n}),Object(ge.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:function(e){e.stopPropagation(),d(e)},children:"Delete"})]}),t.collapsed?"":Object(ge.jsxs)(me.a.Body,{children:[c?Object(ge.jsx)("button",{className:"btn btn-outline-secondary btn-sm",onClick:c,children:"Copy from normal screen"}):"",t.type===S.Weather?Object(ge.jsx)("div",{className:"alert alert-info",role:"alert",children:"In order to center the temperature correctly under the weather Icon (only if weather icon as ImageProgress is enabled), weather icon should be defined in separated activity and placed before activity with temperature."}):"",Object(ge.jsx)(Ae,{digit:t.digit,title:u||n,onUpdate:function(e){var n=Object(j.a)({},t);n.digit=e,t.digit=e,a(n)},showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}),g?Object(ge.jsx)(Ae,{digit:t.digitMin,title:g,onUpdate:function(e){var n=Object(j.a)({},t);n.digitMin=e,t.digitMin=e,a(n)},showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}):"",h?Object(ge.jsx)(Ae,{digit:t.digitMax,title:h,onUpdate:function(e){var n=Object(j.a)({},t);n.digitMax=e,t.digitMax=e,a(n)},showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}):"",void 0===r||!0===r?Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Ue,{imageProgress:t.imageProgress,onUpdate:function(e){var n=Object(j.a)({},t);n.imageProgress=Object(j.a)({},e),a(n)}}),Object(ge.jsx)(Be,{progressBar:t.progressBar,onUpdate:function(e){var n=Object(j.a)({},t);n.progressBar=Object(j.a)({},e),a(n)}}),Object(ge.jsx)(Ye,{progressBar:t.progressBar,onUpdate:function(e){var n=Object(j.a)({},t);n.progressBar=Object(j.a)({},e),a(n)}}),Object(ge.jsx)(Ee,{title:"Pointer Progress",clockHand:t.pointerProgress,onUpdate:function(e){var n=Object(j.a)({},t);n.pointerProgress=Object(j.a)({},e),a(n)},showAngle:!0})]}):"",t.icon?Object(ge.jsx)(Te,{title:"Icon",imageCoords:t.icon,onUpdate:function(e){var n=Object(j.a)({},t);n.icon=Object(j.a)({},e),a(n)}}):""]})]})},Le=function(e){var t=e.activitys,n=e.onUpdate,i=e.collapsed,o=e.setCollapsed,l=Object(a.useState)(S.Battery.index),r=Object(s.a)(l,2),c=r[0],d=r[1];return Object(ge.jsxs)(me.a,{children:[Object(ge.jsxs)(me.a.Header,{className:"d-flex justify-content-between align-items-center",title:"Click to open / close",onClick:function(){o(!i)},children:["Activity [",null===t||void 0===t?void 0:t.length,"]",Object(ge.jsxs)("span",{className:"d-flex flex-nowrap",children:[Object(ge.jsx)("select",{className:"form-select",onChange:function(e){return d(parseInt(e.target.value))},onClick:function(e){return e.stopPropagation()},value:c,children:Object.keys(S).map((function(e){return S[e]instanceof p?Object(ge.jsx)("option",{value:S[e].index,children:S[e].json},S[e].index):""}))}),Object(ge.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(e){if(e.stopPropagation(),c){var a=ie(null,S.findByIndex(c));if(a){var i=[].concat(Object(he.a)(t),[a]);n(i)}}},children:"Add"})]})]}),i?"":Object(ge.jsx)(me.a.Body,{children:(null===t||void 0===t?void 0:t.length)>0?Object(ge.jsx)(ve,{_list:t.map((function(e,a){return{item:e,reactItem:Object(ge.jsx)(Xe,{activity:e,onUpdateActivity:function(e){return function(e,a){var i=Object(he.a)(t).map((function(t,n){return n===e?a:t}));n(i)}(a,e)},onDelete:function(e){return function(e,a){if(e.stopPropagation(),window.confirm('would you delete this "'.concat(t[a].digit.con.title,'" activity?'))){var i=Object(he.a)(t);i.splice(a,1),n(i)}}(e,a)},showNoData:!0,showDecimalPointer:e.type===S.Distance||e.type===S.Sunrise,showProgress:e.type!==S.Distance,showDelimiter:e.type===S.Weather,title:e.digit?e.digit.con.title:null,titleDefault:e.digit?e.digit.con.titleDefault:null,titleMin:e.digitMin?e.digitMin.con.titleMin:null,titleMax:e.digitMax?e.digitMax.con.titleMax:null},e.key)}})),updateOrder:function(e){var t=e.map((function(e){return e.item}));n(t)}}):"no activitys addes"})]})},We=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface,i=Object(a.useMemo)((function(){return[{blocks:[{title:"Preview",type:ue.SelectFile,nvalue:t.background.previewIndex,onChange:o},{title:"Background",type:ue.SelectFile,nvalue:t.background.imageIndex,onChange:l}]},{blocks:[{title:"Color",type:ue.Color,svalue:t.background.color,onChange:s}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.background.previewIndex=e,n(a)}function l(e){var a=Object(j.a)({},t);a.background.imageIndex=e,n(a)}function s(e){var a=Object(j.a)({},t);a.background.color=e,n(a)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{className:"clickable",onClick:function(){var e=Object(j.a)({},t);e.background.collapsed=!e.background.collapsed,n(e)},children:"Background"}),t.background.collapsed?"":Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:i})})]})},Re=function(e){var t=e.date,n=e.onUpdate,i=Object(a.useState)(!0),o=Object(s.a)(i,2),l=o[0],r=o[1];function c(e){var a=Object(j.a)({},t);a.day=e,n(a)}function d(e){var a=Object(j.a)({},t);a.month=e,n(a)}function u(e){var a=Object(j.a)({},t);a.year=e,n(a)}return Object(ge.jsx)(ge.Fragment,{children:Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{onClick:function(){var e=Object(j.a)({},t);e.collapsed=!e.collapsed,n(e)},children:"Date"}),Object(ge.jsxs)(me.a.Body,{className:"".concat(t.collapsed?"collapse":""),children:[Object(ge.jsxs)(me.a,{className:"mb-1",children:[Object(ge.jsx)(me.a.Header,{onClick:function(){r(!l)},children:"Order of date elements"}),l?"":Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(ve,{_list:t.orderElements.map((function(e){return{item:e,reactItem:e.title}})),updateOrder:function(e){var a=Object(j.a)({},t);a.orderElements=e.map((function(e){return e.item})),n(a)}})})]}),Object(ge.jsx)(Fe,{title:"Day Digit",digit:t.day,onUpdate:c}),Object(ge.jsx)(Ne,{title:"Day Systemfont Rotated",digit:t.day,onUpdate:c}),Object(ge.jsx)(Pe,{title:"Day Systemfont Circle",digit:t.day,onUpdate:c}),Object(ge.jsx)(Fe,{title:"Month",digit:t.month,onUpdate:d}),Object(ge.jsx)(Ne,{title:"Month Systemfont Rotated",digit:t.month,onUpdate:d}),Object(ge.jsx)(Pe,{title:"Month Systemfont Circle",digit:t.month,onUpdate:d}),Object(ge.jsx)(Fe,{title:"Month as word",digit:t.monthAsWord,onUpdate:function(e){var a=Object(j.a)({},t);a.monthAsWord=e,n(a)},paddingZeroFix:!0}),Object(ge.jsx)(Fe,{title:"Year",digit:t.year,onUpdate:u}),Object(ge.jsx)(Ne,{title:"Year Systemfont Rotated",digit:t.year,onUpdate:u}),Object(ge.jsx)(Pe,{title:"Year Systemfont Circle",digit:t.year,onUpdate:u}),Object(ge.jsx)(Fe,{title:"Weekday",digit:t.weekDay,onUpdate:function(e){var a=Object(j.a)({},t);a.weekDay=e,n(a)},paddingZeroFix:!0})]})]})})},He=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface,i=Object(a.useState)(!0),o=Object(s.a)(i,2),l=o[0],r=o[1];function c(e){n(Object(j.a)(Object(j.a)({},t),{},{status:e}))}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{onClick:function(){r(!l)},children:"Status"}),Object(ge.jsxs)(me.a.Body,{className:"".concat(l?"collapse":""),children:[Object(ge.jsx)(Te,{title:"Bluetooth",imageCoords:Object(j.a)({},t.status.bluetooth),onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{bluetooth:e}))}}),Object(ge.jsx)(Te,{title:"Do Not Disturb",imageCoords:Object(j.a)({},t.status.dnd),onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{dnd:e}))}}),Object(ge.jsx)(Te,{title:"Alarm",imageCoords:Object(j.a)({},t.status.alarm),onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{alarm:e}))}}),Object(ge.jsx)(Te,{title:"Lock",imageCoords:Object(j.a)({},t.status.lock),onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{lock:e}))}})]})]})},Ge=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{onClick:function(){var e=Object(j.a)({},t);e.dialFace.collapsedAnalog=!e.dialFace.collapsedAnalog},children:"Time Analog"}),Object(ge.jsxs)(me.a.Body,{className:"".concat(t.dialFace.collapsedAnalog?"collapse":""),children:[Object(ge.jsx)(Ee,{title:"Hours",clockHand:Object(j.a)({},t.dialFace.hoursClockhand),showAngle:!1,onUpdate:function(e){var a=Object(j.a)({},t);a.dialFace.hoursClockhand=e,n(a)}}),Object(ge.jsx)(Ee,{title:"Minutes",clockHand:Object(j.a)({},t.dialFace.minutesClockhand),onUpdate:function(e){var a=Object(j.a)({},t);a.dialFace.minutesClockhand=e,n(a)},showAngle:!1}),Object(ge.jsx)(Ee,{title:"Seconds",clockHand:Object(j.a)({},t.dialFace.secondsClockhand),onUpdate:function(e){var a=Object(j.a)({},t);a.dialFace.secondsClockhand=e,n(a)},showAngle:!1})]})]})},_e=function(e){var t=e.title,n=e.imageCoords,i=e.onUpdate,o=Object(a.useMemo)((function(){return function(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t>=0?t:0}(n.json.ImageSet)}),[n]),l=Object(a.useMemo)((function(){var e,t,a,i,l,d;return[{blocks:[{title:"Image",type:ue.SelectFile,nvalue:null===(e=n.json)||void 0===e||null===(t=e.ImageSet[o])||void 0===t?void 0:t.ImageSet.ImageIndex,onChange:s},{title:"X",type:ue.Number,nvalue:(null===(a=n.json.Coordinates)||void 0===a?void 0:a.X)?null===(i=n.json.Coordinates)||void 0===i?void 0:i.X:0,onChange:r},{title:"Y",type:ue.Number,nvalue:(null===(l=n.json.Coordinates)||void 0===l?void 0:l.Y)?null===(d=n.json.Coordinates)||void 0===d?void 0:d.Y:0,onChange:c}]}]}),[n]);function s(e){var t=Object(j.a)({},n);t.json.ImageSet[o].ImageSet.ImageIndex=e,i(t)}function r(e){var t=Object(j.a)({},n);t.json.Coordinates||(t.json.Coordinates=new D),t.json.Coordinates.X=e,i(t)}function c(e){var t=Object(j.a)({},n);t.json.Coordinates||(t.json.Coordinates=new D),t.json.Coordinates.Y=e,i(t)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",children:t}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabled,onChange:function(){var e=Object(j.a)({},n);if(e.enabled=!e.enabled,!e.json.ImageSet){e.json.ImageSet=[];var t=new W;t.ImageSet.ImagesCount=e.count,e.json.ImageSet[0]=t}i(e)}})})]})}),n.enabled?Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:l})}):""]})},Je=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;function i(e){var n=Object(j.a)({},t.dialFace);n.hoursDigital=e,s(n)}function o(e){var n=Object(j.a)({},t.dialFace);n.minutesDigital=e,s(n)}function l(e){var n=Object(j.a)({},t.dialFace);n.secondsDigital=e,s(n)}function s(e){n(Object(j.a)(Object(j.a)({},t),{},{dialFace:e}))}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{onClick:function(){var e=Object(j.a)({},t);e.dialFace.collapsedDigital=!e.dialFace.collapsedDigital,n(e)},children:"Time Digital"}),Object(ge.jsxs)(me.a.Body,{className:"".concat(t.dialFace.collapsedDigital?"collapse":""),children:[Object(ge.jsx)(Fe,{title:"Hours Digits",digit:Object(j.a)({},t.dialFace.hoursDigital),onUpdate:i,followDisabled:!0}),Object(ge.jsx)(Ne,{title:"Hours Systemfont Rotated",digit:Object(j.a)({},t.dialFace.hoursDigital),onUpdate:i,followDisabled:!0}),Object(ge.jsx)(Pe,{title:"Hours Systemfont Circle",digit:Object(j.a)({},t.dialFace.hoursDigital),onUpdate:i,followDisabled:!0}),Object(ge.jsx)(Fe,{title:"Minutes",digit:Object(j.a)({},t.dialFace.minutesDigital),onUpdate:o,paddingZeroFix:!0}),Object(ge.jsx)(Ne,{title:"Minutes Systemfont Rotated",digit:Object(j.a)({},t.dialFace.minutesDigital),onUpdate:o}),Object(ge.jsx)(Pe,{title:"Minutes Systemfont Circle",digit:Object(j.a)({},t.dialFace.minutesDigital),onUpdate:o}),Object(ge.jsx)(Fe,{title:"Seconds",digit:Object(j.a)({},t.dialFace.secondsDigital),onUpdate:l,paddingZeroFix:!0}),Object(ge.jsx)(Ne,{title:"Seconds Systemfont Rotated",digit:Object(j.a)({},t.dialFace.secondsDigital),onUpdate:l}),Object(ge.jsx)(Pe,{title:"Seconds Systemfont Circle",digit:Object(j.a)({},t.dialFace.secondsDigital),onUpdate:l}),Object(ge.jsx)(_e,{title:"AM",imageCoords:Object(j.a)({},t.dialFace.am),onUpdate:function(e){var n=Object(j.a)({},t.dialFace);n.am=e,s(n)}}),Object(ge.jsx)(_e,{title:"PM",imageCoords:Object(j.a)({},t.dialFace.pm),onUpdate:function(e){var n=Object(j.a)({},t.dialFace);n.pm=e,s(n)}})]})]})},Ze=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(We,{}),Object(ge.jsx)(Je,{}),Object(ge.jsx)(Ge,{}),Object(ge.jsx)(Re,{date:Object(j.a)({},t.date),onUpdate:function(e){var a=Object(j.a)({},t);a.date=e,n(a)}}),Object(ge.jsx)(Le,{activitys:Object(he.a)(t.activity),onUpdate:function(e){var a=Object(j.a)({},t);a.activity=e,a.activitylistCollapsed=!1,n(a)},collapsed:Object(j.a)({},t).activitylistCollapsed,setCollapsed:function(e){var a=Object(j.a)({},t);a.activitylistCollapsed=e,n(a)}}),Object(ge.jsx)(He,{})]})},ze=function e(){Object(h.a)(this,e)};ze.ar=["Cloudy","Chance of rain","Chance of snow","Sunny","Overcast","Light rain","Light snow","Moderate rain","Moderate snow","Heavy snowfall","Heavy rain","Sandstorm","Sleet","Fog","Haze","Thunderstorm","Snowstorm","Dusty","Extreme rain","Rain with hail","Heavy rain with hail","Rainstorm","Dust storm","Severe sandstorm","Torrential rain","Unknown weather","Cloudy night","Rainy night","Clear night"];var Qe=function(){var e,t,n,i=Object(a.useContext)(g),o=i.watchface,l=i.watchState,r=i.setWatchState;Object(a.useEffect)((function(){var e,t=Object(j.a)({},l);if((null===(e=o.widgets)||void 0===e?void 0:e.widgets)&&o.widgets.widgets.length>0){if(l.widgets.length>o.widgets.widgets.length)t.widgets.splice(o.widgets.widgets.length-1),r(t);else if(l.widgets.length<o.widgets.widgets.length){for(var n=l.widgets.length;n<o.widgets.widgets.length;n++)t.widgets.push(0);r(t)}}else t.widgets=[],r(t)}),[o]);var c=Object(a.useMemo)((function(){return"".concat(l.year.toString().padStart(4,"0"),"-").concat(l.month.toString().padStart(2,"0"),"-").concat(l.day.toString().padStart(2,"0"))}),[l]),d=Object(a.useMemo)((function(){return"".concat(l.hours.toString().padStart(2,"0"),":").concat(l.minutes.toString().padStart(2,"0"),":").concat(l.seconds.toString().padStart(2,"0"))}),[l]);return Object(ge.jsx)("div",{children:Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Date"}),Object(ge.jsx)("input",{type:"date",className:"form-control form-control-sm",value:c,onChange:function(e){var t=new Date(e.target.value),n=Object(j.a)({},l);n.year=t.getFullYear(),n.month=t.getMonth()+1,n.monthasword=t.getMonth(),n.day=t.getDate(),n.weekday=t.getDay()>0?t.getDay()-1:6,r(n)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Time"}),Object(ge.jsx)("input",{type:"time",className:"form-control form-control-sm",step:"1",value:d,onChange:function(e){var t=e.target.value.split(":"),n=Object(s.a)(t,3),a=n[0],i=n[1],o=n[2],c=Object(j.a)({},l);isNaN(parseInt(a))||(c.hours=parseInt(a)),isNaN(parseInt(i))||(c.minutes=parseInt(i)),isNaN(parseInt(o))||(c.seconds=parseInt(o)),r(c)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Battery"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"100",value:l.battery,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.battery=isNaN(n)?0:Math.min(n,100),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Calories"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"999",value:l.calories,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.calories=isNaN(n)?0:Math.min(n,999),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Steps"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"99999",value:l.steps,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.steps=isNaN(n)?0:Math.min(n,99999),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Steps Goal"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"99999",value:l.stepsGoal,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.stepsGoal=isNaN(n)?0:Math.min(n,99999),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Hearthrate"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:l.hearthrateGoal,value:l.hearthrate,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.hearthrate=isNaN(n)?0:Math.min(n,l.hearthrateGoal),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Distance"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"9999",value:l.distance,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.distance=isNaN(n)?0:Math.min(n,9999),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"PAI"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:l.paiGoal,value:l.pai,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.pai=isNaN(n)?0:Math.min(n,l.paiGoal),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"StandUp"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:l.standupGoal,value:l.standup,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.standup=isNaN(n)?0:Math.min(n,l.standupGoal),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Stress"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"999",value:l.stress,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.stress=isNaN(n)?0:Math.min(n,999),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Fat Burning"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"99",value:l.fatBurning,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.fatBurning=isNaN(n)?0:Math.min(n,99),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Weather Icon"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"28",value:l.weatherIcon,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.weatherIcon=isNaN(n)?0:Math.min(n,28),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:ze.ar[l.weatherIcon]})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Current"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"-99",max:"99",value:l.temperature,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.temperature=isNaN(n)?0:Math.max(Math.min(n,99),-99),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Min"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"-99",max:"99",value:l.temperatureMin,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.temperatureMin=isNaN(n)?0:Math.max(Math.min(n,99),-99),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Max"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"-99",max:"99",value:l.temperatureMax,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.temperatureMax=isNaN(n)?0:Math.max(Math.min(n,99),-99),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"UV Index"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"11",value:l.uvIndex,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.uvIndex=isNaN(n)?0:Math.min(n,11),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Air Quality"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"500",value:l.airQuality,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.airQuality=isNaN(n)?0:Math.min(n,500),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Humidity"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"100",value:l.humidity,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.humidity=isNaN(n)?0:Math.min(n,100),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Windforce"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"12",value:l.windForce,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.windForce=isNaN(n)?0:Math.min(n,12),r(t)}}),Object(ge.jsx)("span",{className:"input-group-text",children:"Air Pressure"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:l.airPressureGoal,value:l.airPressure,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.airPressure=isNaN(n)?0:Math.min(n,l.airPressureGoal),r(t)}})]}),Object(ge.jsxs)("div",{className:"input-group input-group-sm",children:[Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Blutooth"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:l.bluetooth,onChange:function(){var e=Object(j.a)({},l);e.bluetooth=!e.bluetooth,r(e)}})}),Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"DnD"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:l.dnd,onChange:function(){var e=Object(j.a)({},l);e.dnd=!e.dnd,r(e)}})}),Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Alarm"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:l.alarm,onChange:function(){var e=Object(j.a)({},l);e.alarm=!e.alarm,r(e)}})}),Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Lock"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:l.lock,onChange:function(){var e=Object(j.a)({},l);e.lock=!e.lock,r(e)}})})]}),Object(ge.jsxs)(me.a,{className:"mt-3",children:[Object(ge.jsx)(me.a.Header,{children:Object(ge.jsx)("h3",{children:"Preview of widgets element"})}),Object(ge.jsxs)(me.a.Body,{children:[(null===(e=l.widgets)||void 0===e?void 0:e.length)>0?Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsx)("span",{className:"input-group-text",children:"Active widget"}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",value:l.activeWidget+1,min:1,max:null===(t=o.widgets)||void 0===t?void 0:t.widgets.length,onChange:function(e){var t=Object(j.a)({},l),n=parseInt(e.target.value);t.activeWidget=isNaN(n)?0:Math.max(0,n-1),r(t)}})]}):"",(null===(n=l.widgets)||void 0===n?void 0:n.length)>0?l.widgets.map((function(e,t){var n,a,i;return Object(ge.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(ge.jsxs)("span",{className:"input-group-text",children:["Widget ",t+1,". Element for preview "]}),Object(ge.jsx)("input",{type:"number",className:"form-control form-control-sm",value:e+1,min:1,max:null===(n=o.widgets)||void 0===n||null===(a=n.widgets[t])||void 0===a||null===(i=a.widgetElements)||void 0===i?void 0:i.length,onChange:function(e){var n=Object(j.a)({},l),a=parseInt(e.target.value);n.widgets[t]=isNaN(a)?0:Math.max(0,a-1),r(n)}})]},t)})):"no widgets in watchface"]})]})]})})},Ve=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface,i=Object(a.useMemo)((function(){return[{blocks:[{title:"Background",type:ue.SelectFile,nvalue:t.aod.backgroundImageIndex,onChange:o}]}]}),[t]);function o(e){n(Object(j.a)(Object(j.a)({},t),{},{aod:Object(j.a)(Object(j.a)({},t.aod),{},{backgroundImageIndex:e})}))}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{className:"clickable",onClick:function(){var e=Object(j.a)({},t);e.aod.backgroundCollapsed=!e.aod.backgroundCollapsed,n(e)},children:"Background"}),t.aod.backgroundCollapsed?"":Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:i})})]})},Ke=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{onClick:function(){var e=Object(j.a)({},t);e.aod.dialFace.collapsedAnalog=!e.aod.dialFace.collapsedAnalog,n(e)},children:"Time Analog"}),Object(ge.jsxs)(me.a.Body,{className:"".concat(t.aod.dialFace.collapsedAnalog?"collapse":""),children:[Object(ge.jsx)(Ee,{title:"Hours",clockHand:Object(j.a)({},t.aod.dialFace.hoursClockhand),showAngle:!1,onUpdate:function(e){var a=Object(j.a)({},t);a.aod.dialFace.hoursClockhand=e,n(a)},onCopyFromNormal:function(){var e=Object(j.a)({},t.aod.dialFace);e.hoursClockhand=Object(j.a)({},t.dialFace.hoursClockhand),n(Object(j.a)(Object(j.a)({},t),{},{aod:Object(j.a)(Object(j.a)({},t.aod),{},{dialFace:e})}))}}),Object(ge.jsx)(Ee,{title:"Minutes",clockHand:Object(j.a)({},t.aod.dialFace.minutesClockhand),onUpdate:function(e){var a=Object(j.a)({},t);a.aod.dialFace.minutesClockhand=e,n(a)},showAngle:!1,onCopyFromNormal:function(){var e=Object(j.a)({},t.aod.dialFace);e.minutesClockhand=Object(j.a)({},t.dialFace.minutesClockhand),n(Object(j.a)(Object(j.a)({},t),{},{aod:Object(j.a)(Object(j.a)({},t.aod),{},{dialFace:e})}))}})]})]})},$e=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;function i(e){var n=Object(j.a)({},t.aod.dialFace);n.hoursDigital=e,l(n)}function o(e){var n=Object(j.a)({},t.aod.dialFace);n.minutesDigital=e,l(n)}function l(e){n(Object(j.a)(Object(j.a)({},t),{},{aod:Object(j.a)(Object(j.a)({},t.aod),{},{dialFace:e})}))}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{onClick:function(){var e=Object(j.a)({},t);e.aod.dialFace.collapsedDigital=!e.aod.dialFace.collapsedDigital,n(e)},children:"Time Digital"}),Object(ge.jsxs)(me.a.Body,{className:"".concat(t.aod.dialFace.collapsedDigital?"collapse":""),children:[Object(ge.jsx)(Fe,{title:"Hours",digit:Object(j.a)({},t.aod.dialFace.hoursDigital),onUpdate:i,showDecimalPointer:!1,showDelimiter:!1,showNoData:!1,paddingZeroFix:!1,onCopyFromNormal:function(){var e=Object(j.a)({},t.aod.dialFace);e.hoursDigital=Object(j.a)({},t.dialFace.hoursDigital),l(e)},followDisabled:!0}),Object(ge.jsx)(Ne,{title:"Hours Systemfont Rotated",digit:Object(j.a)({},t.aod.dialFace.hoursDigital),onUpdate:i,followDisabled:!0}),Object(ge.jsx)(Pe,{title:"Hours Systemfont Circle",digit:Object(j.a)({},t.aod.dialFace.hoursDigital),onUpdate:i,followDisabled:!0}),Object(ge.jsx)(Fe,{title:"Minutes",digit:Object(j.a)({},t.aod.dialFace.minutesDigital),onUpdate:o,showDecimalPointer:!1,showDelimiter:!1,showNoData:!1,paddingZeroFix:!0,onCopyFromNormal:function(){var e=Object(j.a)({},t.aod.dialFace);e.minutesDigital=Object(j.a)({},t.dialFace.minutesDigital),l(e)}}),Object(ge.jsx)(Ne,{title:"Minutes Systemfont Rotated",digit:Object(j.a)({},t.aod.dialFace.minutesDigital),onUpdate:o}),Object(ge.jsx)(Pe,{title:"Minutes Systemfont Circle",digit:Object(j.a)({},t.aod.dialFace.minutesDigital),onUpdate:o}),Object(ge.jsx)(_e,{title:"AM",imageCoords:Object(j.a)({},t.aod.dialFace.am),onUpdate:function(e){var n=Object(j.a)({},t.aod.dialFace);n.am=e,l(n)}}),Object(ge.jsx)(_e,{title:"PM",imageCoords:Object(j.a)({},t.aod.dialFace.pm),onUpdate:function(e){var n=Object(j.a)({},t.aod.dialFace);n.pm=e,l(n)}})]})]})},qe=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(Ve,{}),Object(ge.jsx)($e,{}),Object(ge.jsx)(Ke,{}),Object(ge.jsx)(Re,{date:Object(j.a)({},t.aod.date),onUpdate:function(e){var a=Object(j.a)({},t);a.aod.date=e,n(a)}}),Object(ge.jsx)(Le,{activitys:Object(he.a)(t.aod.activitylist),onUpdate:function(e){var a=Object(j.a)({},t);a.aod.activitylist=e,a.aod.activitylistCollapsed=!1,n(a)},collapsed:Object(j.a)({},t.aod).activitylistCollapsed,setCollapsed:function(e){var a=Object(j.a)({},t);a.aod.activitylistCollapsed=e,n(a)}})]})},et=function(e){var t=e.index,n=e.element,a=e.onDelete,i=e.onUpdate;e.defaultCount;return Object(ge.jsxs)(me.a,{className:"w-100",children:[Object(ge.jsxs)(me.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},n);e.collapsed=!e.collapsed,i(e)},children:[Object(ge.jsxs)("span",{className:"input-group-text",children:["Element ",t+1]}),Object(ge.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:a,children:"Delete"})]}),n.collapsed?"":Object(ge.jsxs)(me.a.Body,{children:[Object(ge.jsx)(Me,{ar:[{blocks:[{title:"Preview",type:ue.SelectFile,nvalue:n.previewImageIndex,onChange:function(e){var t=Object(j.a)({},n);t.previewImageIndex=e,i(t)}}]}]}),Object(ge.jsx)(Re,{date:n.date,onUpdate:function(e){var t=Object(j.a)({},n);t.date=e,i(t)}}),Object(ge.jsx)(Le,{activitys:n.activitys,onUpdate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Object(j.a)({},n);t.activitys=e,t.activitylistCollapsed=!1,i(t)})),collapsed:n.activitylistCollapsed,setCollapsed:function(e){var t=Object(j.a)({},n);t.activitylistCollapsed=e,i(t)}})]})]})},tt=function(e){var t,n,i,o=e.title,l=e.widget,s=e.onUpdate,r=e.onDelete,c=Object(a.useMemo)((function(){return[{blocks:[{title:"X",type:ue.Number,nvalue:(null===l||void 0===l?void 0:l.x)?l.x:0,onChange:d},{title:"Y",type:ue.Number,nvalue:(null===l||void 0===l?void 0:l.y)?l.y:0,onChange:u}]},{blocks:[{title:"Width",type:ue.Number,nvalue:(null===l||void 0===l?void 0:l.width)?l.width:0,onChange:g},{title:"Height",type:ue.Number,nvalue:(null===l||void 0===l?void 0:l.height)?l.height:0,onChange:h}]},{blocks:[{title:"Frame activ",type:ue.SelectFile,nvalue:l.borderActivImageIndex?l.borderActivImageIndex:null,onChange:m},{title:"Frame inactiv",type:ue.SelectFile,nvalue:l.borderInactivImageIndex?l.borderInactivImageIndex:null,onChange:b}]},{blocks:[{title:"Description width",type:ue.Number,nvalue:(null===l||void 0===l?void 0:l.descriptionWidthCheck)?l.descriptionWidthCheck:0,onChange:v}]}]}),[l]);function d(e){var t=Object(j.a)({},l);t.x=e,s(t)}function u(e){var t=Object(j.a)({},l);t.y=e,s(t)}function g(e){var t=Object(j.a)({},l);t.width=e,s(t)}function h(e){var t=Object(j.a)({},l);t.height=e,s(t)}function m(e){var t=Object(j.a)({},l);t.borderActivImageIndex=e,s(t)}function b(e){var t=Object(j.a)({},l);t.borderInactivImageIndex=e,s(t)}function v(e){var t=Object(j.a)({},l);t.descriptionWidthCheck=e,s(t)}function p(e,t){var n=Object(j.a)({},l);n.widgetElements[e]=Object(j.a)({},t),s(n)}return Object(ge.jsxs)(me.a,{children:[Object(ge.jsxs)(me.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},l);e.collapsed=!e.collapsed,s(e)},children:[Object(ge.jsx)("span",{className:"input-group-text",children:o}),Object(ge.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:r,children:"Delete"})]}),l.collapsed?"":Object(ge.jsxs)(me.a.Body,{children:[Object(ge.jsx)(Me,{ar:c}),Object(ge.jsx)("div",{className:"input-group input-group-sm pt-1",children:Object(ge.jsx)(Te,{title:"Description background",imageCoords:l.descriptionImageBackground,onUpdate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Object(j.a)({},l);t.descriptionImageBackground=e,s(t)}))})}),Object(ge.jsxs)(me.a,{className:"mt-1",children:[Object(ge.jsxs)(me.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},l);e.widgetElementsCollapsed=!e.widgetElementsCollapsed,s(e)},children:["Elements [",null===(t=l.widgetElements)||void 0===t?void 0:t.length,"]",Object(ge.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(e){e.stopPropagation();var t=Object(j.a)({},l);t.widgetElements||(t.widgetElements=[]);var n=new le;t.widgetElements.push(n),t.widgetElementsCollapsed=!1,s(t)},children:"Add"})]}),l.widgetElementsCollapsed?"":Object(ge.jsx)(me.a.Body,{children:(null===(n=l.widgetElements)||void 0===n?void 0:n.length)>0?Object(ge.jsx)(ve,{_list:null===(i=l.widgetElements)||void 0===i?void 0:i.map((function(e,t){return{item:e,reactItem:Object(ge.jsx)(et,{index:t,element:e,defaultCount:1,onDelete:function(e){return function(e,t){if(e.stopPropagation(),window.confirm("would you delete this element of widget?")){var n=Object(j.a)({},l);n.widgetElements.splice(t,1),s(n)}}(e,t)},onUpdate:function(e){return p(t,e)}},t)}})),updateOrder:function(e){var t=Object(j.a)({},l);t.widgetElements=e.map((function(e){return e.item})),s(t)}}):"no elements added"})]})]})]})},nt=function(){var e,t,n,i,o,l,s,r=Object(a.useContext)(g),c=r.watchface,d=r.setWatchface;function u(e){var t=Object(j.a)({},c);t.widgets=Object(j.a)({},e),d(t)}return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)(me.a,{children:[Object(ge.jsx)(me.a.Header,{children:"Common Preferences"}),Object(ge.jsx)(me.a.Body,{children:Object(ge.jsx)(Me,{ar:[{blocks:[{title:"Top mask",type:ue.SelectFile,nvalue:null===(e=c.widgets)||void 0===e?void 0:e.topMaskImageIndex,onChange:function(e){var t=Object(j.a)({},c.widgets);t.enabled=!0,t.topMaskImageIndex=e,u(t)}},{title:"Bottom mask",type:ue.SelectFile,nvalue:null===(t=c.widgets)||void 0===t?void 0:t.underMaskImageIndex,onChange:function(e){var t=Object(j.a)({},c.widgets);t.enabled=!0,t.underMaskImageIndex=e,u(t)}}]},{blocks:[{title:"show time on Edit screen",type:ue.Checkbox,checked:(null===(n=c.widgets)||void 0===n?void 0:n.showTimeOnEditScreen)>0,onChange:function(e){var t=Object(j.a)({},c.widgets);t.showTimeOnEditScreen=e?1:0,u(t)}}]}]})})]}),Object(ge.jsxs)(me.a,{children:[Object(ge.jsxs)(me.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},c);e.widgets.collapsed=!e.widgets.collapsed,d(e)},children:["Widgets [",null===(i=c.widgets)||void 0===i||null===(o=i.widgets)||void 0===o?void 0:o.length,"]",Object(ge.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(e){e.stopPropagation();var t=new se,n=Object(j.a)({},c);n.widgets||(n.widgets=new re),n.widgets.enabled=!0,n.widgets.widgets.push(t),d(n)},children:"Add"})]}),Object(ge.jsx)(me.a.Body,{children:(null===(l=c.widgets)||void 0===l||null===(s=l.widgets)||void 0===s?void 0:s.length)>0?Object(ge.jsx)(ge.Fragment,{children:c.widgets.widgets.map((function(e,t){return Object(ge.jsx)(tt,{title:"Widget ".concat(t+1),widget:Object(j.a)({},e),onUpdate:function(e){return function(e,t){var n=Object(j.a)({},c);n.widgets.widgets[e]=Object(j.a)({},t),d(n)}(t,e)},onDelete:function(e){return function(e,t){if(e.stopPropagation(),window.confirm("would you delete this widget?")){var n=Object(j.a)({},c);n.widgets.widgets.splice(t,1),d(n)}}(e,t)}},t)}))}):"no widgets added"})]})]})},at=[{id:0,name:"Screen normal",el:Object(ge.jsx)("div",{className:"mt-3 blocks",children:Object(ge.jsx)(Ze,{})})},{id:1,name:"AOD",el:Object(ge.jsx)("div",{className:"mt-3 blocks",children:Object(ge.jsx)(qe,{})})},{id:2,name:"Widgets",el:Object(ge.jsx)("div",{className:"mt-3 blocks",children:Object(ge.jsx)(nt,{})})},{id:3,name:"Preview State",el:Object(ge.jsx)("div",{className:"mt-3",children:Object(ge.jsx)(Qe,{})})}],it=function(){var e=Object(a.useContext)(g).setPreviewScreenNormal,t=Object(a.useState)(0),n=Object(s.a)(t,2),i=n[0],o=n[1];return Object(ge.jsxs)("div",{children:[Object(ge.jsx)("ul",{className:"nav nav-tabs",children:at.map((function(t){return Object(ge.jsx)("li",{className:"nav-item",children:Object(ge.jsx)("button",{className:"nav-link ".concat(i===t.id?"active":""," "),onClick:function(){return n=t.id,o(n),0===n&&e(!0),1===n&&e(!1),void(2===n&&e(!0));var n},children:t.name})},t.id)}))}),at[i].el]})},ot=n(17),lt=n.n(ot),st=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.jsonName,i=Object(a.useState)(""),o=Object(s.a)(i,2),l=o[0],r=o[1];return Object(a.useEffect)((function(){var e=function(e){var n=e.dialFace.hoursDigital.enabled||e.dialFace.minutesDigital.enabled||e.dialFace.secondsDigital.enabled||e.dialFace.am.enabled||e.dialFace.pm.enabled,a=e.aod.dialFace.hoursDigital.enabled||e.aod.dialFace.minutesDigital.enabled||e.aod.dialFace.am.enabled||e.aod.dialFace.pm.enabled,i=e.dialFace.hoursClockhand.enabled||e.dialFace.minutesClockhand.enabled||e.dialFace.secondsClockhand.enabled,o=e.aod.dialFace.hoursClockhand.enabled||e.aod.dialFace.minutesClockhand.enabled,l=e.date.day.enabled||e.date.month.enabled||e.date.monthAsWord.enabled||e.date.weekDay.enabled||e.date.year.enabled,s=e.aod.date.day.enabled||e.aod.date.month.enabled||e.aod.date.monthAsWord.enabled||e.aod.date.weekDay.enabled||e.aod.date.year.enabled,r=e.status.alarm.enabled||e.status.bluetooth.enabled||e.status.lock.enabled||e.status.dnd.enabled,c=n||i,d=a||o,u=ct(t),g=ct(t.aod),j=dt(t.date),h=dt(t.aod.date),m=rt(t.activity),b=rt(t.aod.activitylist),p={Info:{DeviceId:de.deviceId},Background:e.background.imageIndex||e.background.color||e.background.previewIndex?{Preview:e.background.previewIndex?[{LangCode:O.All.json,ImageSet:{ImageIndex:e.background.previewIndex,ImagesCount:1}}]:null,BackgroundImageIndex:e.background.imageIndex,Color:!e.background.imageIndex&&e.background.color?v.colorBackgroundWrite(e.background.color):null}:null,DialFace:c?{DigitalDialFace:n?{Digits:u.length>0?u:null,AM:e.dialFace.am.enabled?e.dialFace.am.json:null,PM:e.dialFace.pm.enabled?e.dialFace.pm.json:null}:null,AnalogDialFace:i?{Hours:e.dialFace.hoursClockhand.enabled?e.dialFace.hoursClockhand.json:null,Minutes:e.dialFace.minutesClockhand.enabled?e.dialFace.minutesClockhand.json:null,Seconds:e.dialFace.secondsClockhand.enabled?e.dialFace.secondsClockhand.json:null}:null,ProgressDialFace:null}:null,System:l||m.length>0||r?{Status:r?{Bluetooth:e.status.bluetooth.enabled?e.status.bluetooth.json:null,DoNotDisturb:e.status.dnd.enabled?e.status.dnd.json:null,Lock:e.status.lock.enabled?e.status.lock.json:null,Alarm:e.status.alarm.enabled?e.status.alarm.json:null}:null,Date:l?{DateDigits:j.length>0?j:null,WeeksDigits:e.date.weekDay.enabled?e.date.weekDay.json:null,DateProgressBar:null,DateClockHand:null}:null,Activity:m.length>0?m:null}:null,Widgets:e.widgets.enabled?ut(e.widgets):null,ScreenIdle:e.aod.backgroundImageIndex||d||s||b.length>0?{BackgroundImageIndex:e.aod.backgroundImageIndex?e.aod.backgroundImageIndex:null,DialFace:d?{DigitalDialFace:a?{Digits:g.length>0?g:null,AM:e.aod.dialFace.am.enabled?e.aod.dialFace.am.json:null,PM:e.aod.dialFace.pm.enabled?e.aod.dialFace.pm.json:null}:null,AnalogDialFace:o?{Hours:e.aod.dialFace.hoursClockhand.enabled?e.aod.dialFace.hoursClockhand.json:null,Minutes:e.aod.dialFace.minutesClockhand.enabled?e.aod.dialFace.minutesClockhand.json:null,Seconds:null}:null,ProgressDialFace:null}:null,Date:s?{DateDigits:h.length>0?h:null,WeeksDigits:e.aod.date.weekDay.enabled?e.aod.date.weekDay.json:null,DateProgressBar:null,DateClockHand:null}:null,Activity:b.length>0?b:null}:null};return JSON.stringify(p,(function(e,t){if(null!==t&&void 0!==t)return t}),"  ")}(t);r(e),function(e){if(e.length>0){var t=document.getElementById("saveJson");if(t){var a=new Blob([e],{type:"text/plain"}),i=n||"watchface.json";t.href=URL.createObjectURL(a),t.download=i}}}(e)}),[t]),Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsx)(me.a,{className:lt.a.json,children:Object(ge.jsx)("pre",{children:l})}),Object(ge.jsx)("br",{}),Object(ge.jsx)("a",{href:"a",id:"saveJson",children:"download json file"})]})};function rt(e){var t=[];return e?(e.forEach((function(e){var n,a,i=[],o=!1,l=null,s=null,r=null,c=null,d=null;(e&&(e.digit.enabled&&(o=!0,i.push(e.digit)),e.digitMin.enabled&&(o=!0,i.push(e.digitMin)),e.digitMax.enabled&&(o=!0,i.push(e.digitMax)),e.imageProgress.enabled&&(o=!0,l=e.imageProgress),e.pointerProgress.enabled&&(o=!0,s=e.pointerProgress),(e.progressBar.enabledLinear||e.progressBar.enabledCircle)&&(o=!0,c=e.progressBar),e.icon.enabled&&(o=!0,r=e.icon),e.shortcut&&(o=!0,d=e.shortcut)),o)&&t.push({Type:e.type.json,PointerProgress:s?s.json:null,ProgressBar:c?c.jsonObj:null,ImageProgress:(null===(n=l)||void 0===n?void 0:n.enabled)?l.json:null,Digits:i.length>0?i.map((function(e){return e.json})):null,Shortcut:d||null,Icon:(null===(a=r)||void 0===a?void 0:a.enabled)?r.json:null})})),t):t}function ct(e){var t,n,a,i=[];return(null===(t=e.dialFace.hoursDigital)||void 0===t?void 0:t.enabled)&&i.push(e.dialFace.hoursDigital.json),(null===(n=e.dialFace.minutesDigital)||void 0===n?void 0:n.enabled)&&i.push(e.dialFace.minutesDigital.json),(null===(a=e.dialFace.secondsDigital)||void 0===a?void 0:a.enabled)&&i.push(e.dialFace.secondsDigital.json),i}function dt(e){var t=[];return e.orderElements.forEach((function(n){var a=null,i=!1;n.type===w.Year.index?(e.year.enabled&&(i=!0),a=e.year):n.type===w.Month.index?e.month.enabled?(i=!0,a=e.month):e.monthAsWord.enabled&&(i=!0,a=e.monthAsWord):n.type===w.Day.index&&(e.day.enabled&&(i=!0),a=e.day),i&&t.push(a.json)})),t}function ut(e){var t,n=null;e&&(n={TopMaskImageIndex:e.topMaskImageIndex,UnderMaskImageIndex:e.underMaskImageIndex,Unknown4:e.showTimeOnEditScreen,Widget:(null===(t=e.widgets)||void 0===t?void 0:t.length)>0?e.widgets.map((function(e){return function(e){var t;return{X:e.x,Y:e.y,Width:e.width,Height:e.height,BorderActivImageIndex:e.borderActivImageIndex,BorderInactivImageIndex:e.borderInactivImageIndex,DescriptionImageBackground:e.descriptionImageBackground.json,DescriptionWidthCheck:e.descriptionWidthCheck,WidgetElement:(null===(t=e.widgetElements)||void 0===t?void 0:t.length)?e.widgetElements.map((function(e){return function(e){var t=rt(e.activitys),n=e.date.day.enabled||e.date.month.enabled||e.date.monthAsWord.enabled||e.date.weekDay.enabled||e.date.year.enabled,a=dt(e.date);return{Preview:[{LangCode:O.All.json,ImageSet:{ImageIndex:e.previewImageIndex,ImagesCount:1}}],Date:n?{DateDigits:a.length>0?a:null,WeeksDigits:e.date.weekDay.enabled?e.date.weekDay.json:null,DateProgressBar:null,DateClockHand:null}:null,Activity:(null===t||void 0===t?void 0:t.length)>0?t:null}}(e)})):null}}(e)})):null});return n}var gt=n(18),jt=function(e){var t=e.draw,n=e.className,i=Object(gt.a)(e,["draw","className"]),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=o.current,n=e.getContext("2d");t(e,n)}),[t]),Object(ge.jsx)("canvas",Object(j.a)({className:n,ref:o},i))};function ht(e,t){if(null===e||void 0===e)return null;var n=t.find((function(t){return t.id===e}));return n?n.image:(console.error("Image with Index  "+e+" not found"),null)}function mt(e,t,n){if(n.ImageIndex){var a,i,o=(null===(a=n.Coordinates)||void 0===a?void 0:a.X)?n.Coordinates.X:0,l=(null===(i=n.Coordinates)||void 0===i?void 0:i.Y)?n.Coordinates.Y:0,s=ht(n.ImageIndex,t);s&&e.drawImage(s,o,l,s.width,s.height)}}function bt(e,t,n,a,i,o,l,s){var r,c,d,u,g,j,h,m,b,v,p,O,x,y,I,w,C,S,D,k,M=i?i[0]:(null===(r=n.json)||void 0===r||null===(c=r.Digit)||void 0===c||null===(d=c.Image)||void 0===d?void 0:d.X)?null===(u=n.json)||void 0===u||null===(g=u.Digit)||void 0===g||null===(j=g.Image)||void 0===j?void 0:j.X:0,F=i?i[1]:(null===(h=n.json)||void 0===h||null===(m=h.Digit)||void 0===m||null===(b=m.Image)||void 0===b?void 0:b.Y)?null===(v=n.json)||void 0===v||null===(p=v.Digit)||void 0===p||null===(O=p.Image)||void 0===O?void 0:O.Y:0,N=vt(null===(x=n.json.Digit)||void 0===x||null===(y=x.Image)||void 0===y?void 0:y.MultilangImage),P=vt(null===(I=n.json.Digit)||void 0===I||null===(w=I.Image)||void 0===w?void 0:w.MultilangImageUnit);if((null===(C=n.json.Digit)||void 0===C||null===(S=C.Image)||void 0===S?void 0:S.MultilangImage)&&(null===(D=n.json.Digit.Image.MultilangImage[N])||void 0===D||null===(k=D.ImageSet)||void 0===k?void 0:k.ImageIndex)){var A=a.toString();a<0&&(A=(-a).toString()),n.json.Digit.DisplayFormAnalog||!n.json.Digit.PaddingZero&&!l||(A=A.padStart(n.con.numberLenght,"0"));var E=[];if(n.json.Digit.Image.DelimiterImageIndex&&a<0){var T=ht(n.json.Digit.Image.DelimiterImageIndex,t);T&&E.push(T)}if(n.json.Digit.DisplayFormAnalog){var U=ht(n.json.Digit.Image.MultilangImage[N].ImageSet.ImageIndex+a,t);U&&E.push(U)}else E=E.concat(function(e,t,n,a,i){for(var o=[],l=0;l<t.length;l++){if(i&&l===t.length-2){var s=ht(i,e);s&&o.push(s)}var r=t.charAt(l),c=parseInt(r);if(!isNaN(c)&&c<a){var d=ht(n+c,e);d&&o.push(d)}else alert("cant parse number string: "+t+" at index "+l)}return o}(t,A,n.json.Digit.Image.MultilangImage[N].ImageSet.ImageIndex,n.json.Digit.Image.MultilangImage[N].ImageSet.ImagesCount,n.json.Digit.Image.DecimalPointImageIndex));var B=0,Y=ht(n.json.Digit.Image.MultilangImage[N].ImageSet.ImageIndex,t);Y&&(B=Y.width);var X=0;if(n.json.Digit.Image.DelimiterImageIndex)X=ht(n.json.Digit.Image.DelimiterImageIndex,t).width;var L=0;if(n.json.Digit.Image.MultilangImageUnit&&n.json.Digit.Image.MultilangImageUnit[P]){var W=ht(n.json.Digit.Image.MultilangImageUnit[P].ImageSet.ImageIndex,t);W&&(E.push(W),L=W.width)}var R=function(e,t,n,a,i,o,l,s,r,c,d,u,g){if(0===t.length)return;i||(i=0);var j=0;t.forEach((function(e){j+=e.width,j+=i})),j-=i;var h=u*s+u*(l-s);i>0&&(h+=i*(t.length+l-s-1));d&&(h+=d);g&&(h+=g);j>h&&(h=j);var m=n,b=a;o===f.Right.json?m=m+h-j:o===f.Center.json&&(m=c?c-(j-d)/2:m+h/2-j/2);var v=0;t.forEach((function(t){e.drawImage(t,m,b),v=Math.max(t.height,v),m+=t.width,i&&(m+=i)})),r&&(e.beginPath(),e.strokeStyle="gray",e.rect(n,a,h,v),e.stroke());return[m,b]}(e,E,M,F,n.json.Digit.Spacing,n.json.Digit.Alignment,n.con.numberLenght,A.length,o,s,L,B,X);return n.json.Separator&&mt(e,t,n.json.Separator),R}return i}function vt(e){if(!e)return null;var t=0;return e.forEach((function(e,n){e.LangCode===O.All.json&&(t=n)})),t}function pt(e,t,n){var a,i=null===(a=t.json.Digit)||void 0===a?void 0:a.SystemFont,o=e;return i?(-1===i.ShowUnitCheck||0!==i.ShowUnitCheck&&n?o+=t.con.unit[0]:1===i.ShowUnitCheck?o+=t.con.unit[1]:2===i.ShowUnitCheck&&(o+=t.con.unit[2]),t.json.Separator&&(o+=t.con.separator),o):o}function Ot(e,t){var n=t.toString();return e.json.Digit.PaddingZero&&(n=n.padStart(e.con.numberLenght,"0")),e.con.decimalDelimiter&&(n.length>3?n=n.substring(0,n.length-2)+"."+n.substring(n.length-2,n.length):n.length>1&&(n=n.substring(0,n.length-1)+"."+n.substring(n.length-1,n.length))),e.con.timeDelimiter&&n.length>2&&(n=n.substring(0,n.length-2)+":"+n.substring(n.length-2,n.length)),n=pt(n,e)}function ft(e,t,n,a,i,o,l,s,r){if(n)return n.enabledImage?bt(e,t,n,a,i,o,l,r):(n.enabledSystemFont||n.enabledSystemFontCircle)&&s?n.enabledSystemFontCircle?function(e,t,n){var a,i,o,l;if(!(null===(a=t.json)||void 0===a||null===(i=a.Digit)||void 0===i?void 0:i.SystemFont))return null;var s=t.json.Digit.SystemFont,r=s.Size?.8*s.Size:0,c=s.FontRotate.Radius,d=t.json.Digit.Spacing;e.font="".concat(r,"px Verdana");var u=(null===(o=s.FontRotate)||void 0===o?void 0:o.X)?s.FontRotate.X:0,g=(null===(l=s.FontRotate)||void 0===l?void 0:l.Y)?s.FontRotate.Y:0;if(e.fillStyle=v.colorRead(s.Color),e.save(),e.translate(u,g),1!==s.FontRotate.RotateDirection){e.rotate(Math.PI/180*s.Angle);for(var j=0;j<n.length;j++){var h=e.measureText(n[j]).width;e.fillText(n[j],0,-s.FontRotate.Radius);var m=180*(h+d)/(c*Math.PI);e.rotate(Math.PI/180*m)}}else{e.rotate(Math.PI/180*(180-s.Angle));for(var b=0;b<n.length;b++){var p=e.measureText(n[b]).width;e.fillText(n[b],0,+s.FontRotate.Radius);var O=180*(p+d)/(c*Math.PI);e.rotate(Math.PI/180*-O)}}return e.restore(),null}(e,n,s):function(e,t,n){var a,i,o,l;if(!(null===(a=t.json)||void 0===a||null===(i=a.Digit)||void 0===i?void 0:i.SystemFont))return null;var s=t.json.Digit.SystemFont,r=s.Size?.8*s.Size:0,c=t.json.Digit.Spacing;e.font="".concat(r,"px Verdana"),e.save();var d=(null===(o=s.Coordinates)||void 0===o?void 0:o.X)?s.Coordinates.X:0,u=(null===(l=s.Coordinates)||void 0===l?void 0:l.Y)?s.Coordinates.Y:0,g=Math.PI/180*s.Angle;e.translate(d,u),e.rotate(g),e.fillStyle=v.colorRead(s.Color);for(var j=0,h=0;h<n.length;h++)e.fillText(n[h],j,0),j=j+e.measureText(n[h]).width+c;return e.restore(),null}(e,n,s):i}function xt(e,t,n,a,i){var o;if(null!==i&&(null===(o=n.jsonObj)||void 0===o?void 0:o.AngleSettings)){var l,s,r,c=n.jsonObj.Width?n.jsonObj.Width:0,d=n.jsonObj.AngleSettings,u=d.X?d.X:0,g=d.Y?d.Y:0;a>i&&(a=i);var j=d.StartAngle?d.StartAngle:0,h=j+a*((d.EndAngle?d.EndAngle:360)-j)/i,m=d.Radius;if(null===(l=n.jsonObj)||void 0===l?void 0:l.ForegroundImageIndex){var b=ht(n.jsonObj.ForegroundImageIndex,t);if(b){var p,O=u-m-c/2,f=g-m-c/2;if(null===(p=n.jsonObj)||void 0===p?void 0:p.BackgroundImageIndex){var x=ht(n.jsonObj.BackgroundImageIndex,t);x&&e.drawImage(x,O,f,x.width,x.height)}e.save(),e.beginPath(),function(e,t,n,a,i,o,l,s){if(s<3)return;if(0!==t&&t)if(90===t){var r=Math.PI/180*(i-90),c=Math.PI/180*(o-90),d=r<c,u=n+(l-s/2)*Math.cos(Math.PI*(i-90)/180),g=a+(l-s/2)*Math.sin(Math.PI*(i-90)/180),j=n+l*Math.cos(Math.PI*(i-(d?1:-1)*(s/2*360/(2*Math.PI*(l-s/2)))-90)/180),h=a+l*Math.sin(Math.PI*(i-(d?1:-1)*(s/2*360/(2*Math.PI*(l-s/2)))-90)/180),m=n+(l+s/2)*Math.cos(Math.PI*(i-90)/180),b=a+(l+s/2)*Math.sin(Math.PI*(i-90)/180),v=n+l*Math.cos(Math.PI*(o+(d?1:-1)*s/2*360/(2*Math.PI*(l-s/2))-90)/180),p=a+l*Math.sin(Math.PI*(o+(d?1:-1)*s/2*360/(2*Math.PI*(l-s/2))-90)/180),O=n+(l-s/2)*Math.cos(Math.PI*(o-90)/180),f=a+(l-s/2)*Math.sin(Math.PI*(o-90)/180);e.arc(n,a,l-s/2,r,c,!d),e.moveTo(u,g),e.lineTo(j,h),e.lineTo(m,b),e.arc(n,a,l+s/2,r,c,!d),e.lineTo(v,p),e.lineTo(O,f)}else{var x=n+(l-s/2)*Math.cos(Math.PI*(i-90)/180),y=a+(l-s/2)*Math.sin(Math.PI*(i-90)/180),I=n+(l+s/2)*Math.cos(Math.PI*(i-90)/180),w=a+(l+s/2)*Math.sin(Math.PI*(i-90)/180),C=n+(l-s/2)*Math.cos(Math.PI*(o-90)/180),S=a+(l-s/2)*Math.sin(Math.PI*(o-90)/180),D=Math.PI/180*(i-90),k=Math.PI/180*(o-90),M=D<k;e.arc(n,a,l-s/2,D,k,!M),e.moveTo(x,y),e.lineTo(I,w),e.arc(n,a,l+s/2,D,k,!M),e.lineTo(C,S)}else{var F=n+l*Math.cos(Math.PI*(i-90)/180),N=a+l*Math.sin(Math.PI*(i-90)/180),P=n+l*Math.cos(Math.PI*(o-90)/180),A=a+l*Math.sin(Math.PI*(o-90)/180),E=Math.PI/180*(i-90),T=Math.PI/180*(o-90),U=E<T;e.arc(n,a,l-s/2,E,T,!U),e.arc(F,N,s/2,E-Math.PI,E,!U),e.arc(n,a,l+s/2,E,T,!U),e.arc(P,A,s/2,T,T+Math.PI,!U)}}(e,n.jsonObj.Flatness,u,g,j,h,m,c),e.clip(),e.drawImage(b,u-b.width/2,g-b.height/2),e.restore()}}else if(null===(s=n.jsonObj)||void 0===s?void 0:s.Color){var y=v.colorRead(n.jsonObj.Color);if(v.GFG_Fun(y)){var I,w=u-m-c/2,C=g-m-c/2;if(null===(I=n.jsonObj)||void 0===I?void 0:I.BackgroundImageIndex){var S=ht(n.jsonObj.BackgroundImageIndex,t);S&&e.drawImage(S,w,C,S.width,S.height)}e.beginPath();var D=Math.PI/180*(j-90),k=Math.PI/180*(h-90),M=D<k;e.arc(u,g,m,D,k,!M),e.strokeStyle=y,e.lineWidth=c,e.stroke(),function(e,t,n,a,i,o,l,s,r){if(r<3)return;if(0!==n&&n){if(90===n){var c=a+(s+r/2)*Math.cos(Math.PI*(o-90)/180),d=i+(s+r/2)*Math.sin(Math.PI*(o-90)/180),u=a+(s-r/2)*Math.cos(Math.PI*(o-90)/180),g=i+(s-r/2)*Math.sin(Math.PI*(o-90)/180),j=a+s*Math.cos(Math.PI*(o-r/2*360/(2*Math.PI*(s-r/2))-90)/180),h=i+s*Math.sin(Math.PI*(o-r/2*360/(2*Math.PI*(s-r/2))-90)/180);e.fillStyle=t,e.beginPath(),e.lineWidth=1,e.moveTo(c,d),e.lineTo(u,g),e.lineTo(j,h),e.closePath(),e.fill(),c=a+(s+r/2)*Math.cos(Math.PI*(l-90)/180),d=i+(s+r/2)*Math.sin(Math.PI*(l-90)/180),u=a+(s-r/2)*Math.cos(Math.PI*(l-90)/180),g=i+(s-r/2)*Math.sin(Math.PI*(l-90)/180),j=a+s*Math.cos(Math.PI*(l+r/2*360/(2*Math.PI*(s-r/2))-90)/180),h=i+s*Math.sin(Math.PI*(l+r/2*360/(2*Math.PI*(s-r/2))-90)/180),e.fillStyle=t,e.beginPath(),e.lineWidth=1,e.moveTo(c,d),e.lineTo(u,g),e.lineTo(j,h),e.closePath(),e.fill()}}else{var m=a+s*Math.cos(Math.PI*(o-90)/180),b=i+s*Math.sin(Math.PI*(o-90)/180);e.beginPath(),e.lineWidth=1,e.arc(m,b,r/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill(),m=a+s*Math.cos(Math.PI*(l-90)/180),b=i+s*Math.sin(Math.PI*(l-90)/180),e.beginPath(),e.lineWidth=1,e.arc(m,b,r/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill()}}(e,y,n.jsonObj.Flatness,u,g,j,h,m,c),e.lineWidth=1}}if(null===(r=n.jsonObj)||void 0===r?void 0:r.PointerImageIndex){var F=ht(n.jsonObj.PointerImageIndex,t);if(F){var N=u+m*Math.cos(Math.PI*(h-90)/180),P=g+m*Math.sin(Math.PI*(h-90)/180);e.drawImage(F,N,P,F.width,F.height)}}}}function yt(e,t,n,a,i){var o;if(null!==i&&(a>i&&(a=i),null===(o=n.jsonObj)||void 0===o?void 0:o.LinearSettings)){var l,s,r,c,d=n.jsonObj.LinearSettings;if(null===(l=n.jsonObj)||void 0===l?void 0:l.BackgroundImageIndex){var u=ht(n.jsonObj.BackgroundImageIndex,t);if(u){var g=d.StartX?d.StartX:0,j=d.StartY?d.StartY:0,h=d.EndX?d.EndX:g+u.width,m=d.EndY?d.EndY:j+u.height,b=Math.min(h-g,u.width),p=Math.min(m-j,u.height);e.drawImage(u,g,j,b,p)}}if(null===(s=n.jsonObj)||void 0===s?void 0:s.ForegroundImageIndex){var O=ht(n.jsonObj.ForegroundImageIndex,t);if(O){var f=d.StartX?d.StartX:0,x=d.StartY?d.StartY:0,y=a*((d.EndX?d.EndX:f+O.width)-f)/i;y=Math.min(y,O.width);var I=n.jsonObj.Width;I=Math.min(I,O.height),e.save(),e.beginPath(),function(e,t,n,a,i,o){if(0!==t&&t)e.rect(n,a,i,o);else{var l=n,s=a,r=n+i-o/2,c=a+o;e.arc(l,a+o/2,o/2,.5*Math.PI,1.5*Math.PI),e.lineTo(r,s),e.arc(r,a+o/2,o/2,1.5*Math.PI,.5*Math.PI),e.lineTo(l,c)}}(e,n.jsonObj.Flatness,f,x,y,I),e.clip(),e.drawImage(O,f,x),e.restore()}}else if(null===(r=n.jsonObj)||void 0===r?void 0:r.Color){var w=v.colorRead(n.jsonObj.Color);if(v.GFG_Fun(w)){e.fillStyle=w;var C=d.StartX?d.StartX:0,S=d.StartY?d.StartY:0,D=d.EndX?d.EndX:C,k=n.jsonObj.Width,M=a*(D-C)/i;e.fillRect(C,S,M,k),function(e,t,n,a,i,o,l){if(o<3)return;if(0===n||!n){e.beginPath(),e.lineWidth=1,e.arc(a,i+l/2,l/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill();var s=a+o;e.beginPath(),e.lineWidth=1,e.arc(s,i+l/2,l/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill()}}(e,w,n.jsonObj.Flatness,C,S,M,k)}}if(null===(c=n.jsonObj)||void 0===c?void 0:c.PointerImageIndex){var F=ht(n.jsonObj.PointerImageIndex,t);if(F){var N=d.StartX?d.StartX:0,P=d.StartY?d.StartY:0,A=a*((d.EndX?d.EndX:N)-N)/i-F.width;A>=0&&e.drawImage(F,N+A,P)}}}}function It(e,t,n,a,i){var o,l;if(null!==i){if(n.json.Scale){var s,r=function(e){var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t||0}(null===(s=n.json.Scale)||void 0===s?void 0:s.ImageSet);if(n.json.Scale.ImageSet[r].ImageSet.ImageIndex>=0){var c,d,u,g,j=(null===(c=n.json.Scale.Coordinates)||void 0===c?void 0:c.X)?null===(d=n.json.Scale.Coordinates)||void 0===d?void 0:d.X:0,h=(null===(u=n.json.Scale.Coordinates)||void 0===u?void 0:u.Y)?null===(g=n.json.Scale.Coordinates)||void 0===g?void 0:g.Y:0,m=ht(n.json.Scale.ImageSet[r].ImageSet.ImageIndex,t);m&&e.drawImage(m,j,h,m.width,m.height)}}if((null===(o=n.json.Pointer)||void 0===o?void 0:o.ImageIndex)>=0){var b,v=n.json.X?n.json.X:0,p=n.json.Y?n.json.Y:0;n.json.X>0||n.json.Y>0||(v=n.json.X?n.json.X:de.width/2,p=n.json.Y?n.json.Y:de.height/2);var f=ht(null===(b=n.json.Pointer)||void 0===b?void 0:b.ImageIndex,t);if(f){var x,y,I,w,C=(null===(x=n.json.Pointer.Coordinates)||void 0===x?void 0:x.X)?null===(y=n.json.Pointer.Coordinates)||void 0===y?void 0:y.X:0,S=(null===(I=n.json.Pointer.Coordinates)||void 0===I?void 0:I.Y)?null===(w=n.json.Pointer.Coordinates)||void 0===w?void 0:w.Y:0,D=n.json.StartAngle?n.json.StartAngle:0;a>i&&(a=i);var k=D+a*((n.json.EndAngle?n.json.EndAngle:360)-D)/i,M=Math.PI/180*k;e.save(),e.translate(v,p),e.rotate(M),e.drawImage(f,-C,-S,f.width,f.height),e.restore()}}if((null===(l=n.json.Cover)||void 0===l?void 0:l.ImageIndex)>=0){var F,N,P,A,E,T=(null===(F=n.json.Cover)||void 0===F||null===(N=F.Coordinates)||void 0===N?void 0:N.X)?n.json.Cover.Coordinates.X:0,U=(null===(P=n.json.Cover)||void 0===P||null===(A=P.Coordinates)||void 0===A?void 0:A.Y)?null===(E=n.json.Cover.Coordinates)||void 0===E?void 0:E.Y:0,B=ht(n.json.Cover.ImageIndex,t);B&&e.drawImage(B,T,U,B.width,B.height)}}}function wt(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=0,s=0;if(n){var r,c=0;o&&n.forEach((function(e,n){var a,i,o;if(e.type===S.Weather&&(e.digit.enabledImage&&(r=n),e.imageProgress.enabled&&(null===(a=e.imageProgress.json)||void 0===a||null===(i=a.ImageSet)||void 0===i?void 0:i.ImageIndex)&&(null===(o=e.imageProgress.json)||void 0===o?void 0:o.Coordinates)&&R(e.imageProgress.json.Coordinates))){var l=e.imageProgress.json.ImageSet.ImageIndex,s=e.imageProgress.json.Coordinates[0].X,d=ht(l,t);d&&(c=s+d.width/2,r&&n>=r&&(c=0))}})),n.forEach((function(n){switch(n.type){case S.Battery:l=a.battery,s=a.batteryGoal,Ct(e,t,n,{cur:{value:l,total:s},min:null,max:null,imageProgress:{value:l,total:s}},i);break;case S.Steps:l=a.steps,s=a.stepsGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.Calories:l=a.calories,s=a.caloriesGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.HeartRate:l=a.hearthrate,s=a.hearthrateGoal,Ct(e,t,n,{cur:{value:l,total:s},min:null,max:null,imageProgress:{value:l,total:s}},i);break;case S.Pai:l=a.pai,s=a.paiGoal,Ct(e,t,n,{cur:{value:l,total:s},min:null,max:null,imageProgress:{value:l,total:s}},i);break;case S.Distance:l=a.distance,Ct(e,t,n,{cur:{value:l,total:null},min:null,max:null,imageProgress:null},i);break;case S.StandUp:l=a.standup,s=a.standupGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.Weather:Ct(e,t,n,{cur:{value:a.temperature,total:null},min:{value:a.temperatureMin,total:null},max:{value:a.temperatureMax,total:null},imageProgress:{value:a.weatherIcon,total:29}},i,c);break;case S.UVindex:l=a.uvIndex,s=a.uvIndexGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.AirQuality:l=a.airQuality,s=a.airQualityGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.Humidity:l=a.humidity,s=a.humidityGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.Sunrise:Ct(e,t,n,{cur:{value:a.sunrise,total:null},min:{value:a.sunrise,total:null},max:{value:a.sunset,total:null},imageProgress:{value:1,total:2}},i);break;case S.WindForce:l=a.windForce,Ct(e,t,n,{cur:{value:l,total:null},min:null,max:null,imageProgress:{value:l,total:null}},i);break;case S.AirPressure:l=a.airPressure,s=a.airPressureGoal,Ct(e,t,n,{cur:{value:l,total:s},min:null,max:null,imageProgress:{value:l,total:s}},i);break;case S.Stress:l=a.stress,s=a.stressGoal,Ct(e,t,n,{cur:{value:l,total:s},min:null,max:null,imageProgress:{value:l,total:s}},i);break;case S.ActivityGoal:l=a.steps,s=a.stepsGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i);break;case S.FatBurning:l=a.fatBurning,s=a.fatBurningGoal,Ct(e,t,n,{cur:{value:l,total:s},min:{value:s,total:null},max:null,imageProgress:{value:l,total:s}},i)}}))}}function Ct(e,t,n,a,i,o){var l,s,r,c=null;n.imageProgress.enabled&&function(e,t,n,a,i){var o;if(null!==i&&n.enabled&&(null===(o=n.json.ImageSet)||void 0===o?void 0:o.ImageIndex)&&n.json.Coordinates){var l=n.json.ImageSet.ImagesCount-1,s=n.json.Coordinates,r=Math.ceil(a/(i/l));r>l&&(r=l),a>i&&(a=i);var c=0;n.json.DisplayType!==I.Continuous.json&&(c=r);for(var d=c;d<=r;d++){var u,g,j,h,m=d<(null===s||void 0===s?void 0:s.length)?(null===(u=s[d])||void 0===u?void 0:u.X)?s[d].X:0:(null===(g=s[s.length-1])||void 0===g?void 0:g.X)?s[s.length-1].X:0,b=d<(null===s||void 0===s?void 0:s.length)?(null===(j=s[d])||void 0===j?void 0:j.Y)?s[d].Y:0:(null===(h=s[s.length-1])||void 0===h?void 0:h.Y)?s[s.length-1].Y:0,v=ht(n.json.ImageSet.ImageIndex+d,t);v&&e.drawImage(v,m,b,v.width,v.height)}}}(e,t,n.imageProgress,a.imageProgress.value,a.imageProgress.total),n.progressBar.enabledLinear&&yt(e,t,n.progressBar,a.cur.value,a.cur.total),n.progressBar.enabledCircle&&xt(e,t,n.progressBar,a.cur.value,a.cur.total),n.pointerProgress.enabled&&It(e,t,n.pointerProgress,a.cur.value,a.cur.total),n.icon.enabled&&mt(e,t,n.icon.json),(null===(l=n.digit)||void 0===l?void 0:l.enabled)&&(c=ft(e,t,n.digit,a.cur.value,c,i,!1,Ot(n.digit,a.cur.value),o)),(null===(s=n.digitMin)||void 0===s?void 0:s.enabled)&&a.min&&(c=ft(e,t,n.digitMin,a.min.value,n.digitMin.json.CombingMode===x.Single.json?null:c,i,!1,Ot(n.digitMin,a.min.value))),(null===(r=n.digitMax)||void 0===r?void 0:r.enabled)&&a.max&&ft(e,t,n.digitMax,a.max.value,n.digitMax.json.CombingMode===x.Single.json?null:c,i,!1,Ot(n.digitMax,a.max.value))}function St(e,t,n,a,i,o){for(var l=null,s=[],r=0;r<a.length;r++)s[r]="";for(var c=0;c<a.length;c++){var d=null,u=!1;switch(a[c].type){case 0:n.year.enabled&&(u=n.year.json.CombingMode===x.Follow.json,d=pt(d=i.year.toString().padStart(n.year.con.numberLenght,"0"),n.year));break;case 1:n.month.enabled&&(u=n.month.json.CombingMode===x.Follow.json,d=pt(d=i.month.toString().padStart(n.month.con.numberLenght,"0"),n.month));break;case 2:n.day.enabled&&(u=n.day.json.CombingMode===x.Follow.json,d=pt(d=i.day.toString().padStart(n.day.con.numberLenght,"0"),n.day))}if(d){for(var g=c+1;g<a.length;g++)s[g]=s[g]+d;u?(""!==s[c-1]?s[c-1]=s[c-1]+d:s[c-2]=s[c-2]+d,s[c]=""):s[c]=s[c]+d}}for(var j=0;j<a.length;j++){switch(a[j].type){case 0:n.year.enabled&&(l=ft(e,t,n.year,i.year,n.year.json.CombingMode===x.Single.json?null:l,o,!1,s[j]));break;case 1:n.month.enabled?l=ft(e,t,n.month,i.month,n.month.json.CombingMode===x.Single.json?null:l,o,!1,s[j]):n.monthAsWord.enabled&&ft(e,t,n.monthAsWord,i.monthasword);break;case 2:n.day.enabled&&(l=ft(e,t,n.day,i.day,n.day.json.CombingMode===x.Single.json?null:l,o,!1,s[j]))}}n.weekDay.enabled&&ft(e,t,n.weekDay,i.weekday)}function Dt(e,t,n,a){var i,o,l;(null===(i=n.hoursClockhand)||void 0===i?void 0:i.enabled)&&(a.hours<12?It(e,t,n.hoursClockhand,a.hours,12):It(e,t,n.hoursClockhand,a.hours-12,12)),(null===(o=n.minutesClockhand)||void 0===o?void 0:o.enabled)&&It(e,t,n.minutesClockhand,a.minutes,60),(null===(l=n.secondsClockhand)||void 0===l?void 0:l.enabled)&&It(e,t,n.secondsClockhand,a.seconds,60)}function kt(e,t,n){var a,i,o,l=function(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t>=0?t:0}(null===(a=n.json)||void 0===a?void 0:a.ImageSet);if(n.json.ImageSet&&(null===(i=n.json.ImageSet[l])||void 0===i||null===(o=i.ImageSet)||void 0===o?void 0:o.ImageIndex)){var s,r,c=(null===(s=n.json.Coordinates)||void 0===s?void 0:s.X)?n.json.Coordinates.X:0,d=(null===(r=n.json.Coordinates)||void 0===r?void 0:r.Y)?n.json.Coordinates.Y:0,u=ht(n.json.ImageSet[l].ImageSet.ImageIndex,t);u&&e.drawImage(u,c,d,u.width,u.height)}}function Mt(e,t,n,a,i){var o,l,s,r,c,d,u,g,j,h=null,m="",b="",v="";((null===(o=n.secondsDigital)||void 0===o?void 0:o.enabled)&&(v=pt(v=a.seconds.toString().padStart(n.secondsDigital.con.numberLenght,"0"),n.secondsDigital)),null===(l=n.minutesDigital)||void 0===l?void 0:l.enabled)&&(b=pt(b=a.minutes.toString().padStart(n.minutesDigital.con.numberLenght,"0"),n.minutesDigital,n.minutesDigital.json.CombingMode!==x.Single.json),(null===(u=n.secondsDigital)||void 0===u?void 0:u.enabled)&&(n.secondsDigital.json.CombingMode!==x.Single.json?(b+=v,v=""):v=b+v));(null===(s=n.hoursDigital)||void 0===s?void 0:s.enabled)&&(m=a.hours.toString(),n.hoursDigital.json.Digit.PaddingZero&&(m=m.padStart(n.hoursDigital.con.numberLenght,"0")),m=pt(m,n.hoursDigital),n.minutesDigital.json.CombingMode!==x.Single.json?((null===(g=n.secondsDigital)||void 0===g?void 0:g.enabled)&&n.secondsDigital.json.CombingMode!==x.Single.json&&(v=m+v),m+=b,b=""):(b=m+b,(null===(j=n.secondsDigital)||void 0===j?void 0:j.enabled)&&n.secondsDigital.json.CombingMode!==x.Single.json&&(v=m+v)));(null===(r=n.hoursDigital)||void 0===r?void 0:r.enabled)&&(h=ft(e,t,n.hoursDigital,a.hours,n.hoursDigital.json.CombingMode===x.Single.json?null:h,i,!1,m)),(null===(c=n.minutesDigital)||void 0===c?void 0:c.enabled)&&(h=ft(e,t,n.minutesDigital,a.minutes,n.minutesDigital.json.CombingMode===x.Single.json?null:h,i,!0,b)),(null===(d=n.secondsDigital)||void 0===d?void 0:d.enabled)&&ft(e,t,n.secondsDigital,a.seconds,n.secondsDigital.json.CombingMode===x.Single.json?null:h,i,!0,v),n.am&&n.am.enabled&&a.hours<12&&kt(e,t,n.am),n.pm&&n.pm.enabled&&a.hours>=12&&kt(e,t,n.pm)}function Ft(e,t,n,a,i,o,l){n&&n.widgets.forEach((function(s,r){!function(e,t,n,a,i,o,l,s,r,c){if(a){if(a.widgetElements&&a.widgetElements.length>0){var d=i.widgets&&n<i.widgets.length?i.widgets[n]:0;if(s&&a.widgetElements[d].previewImageIndex){var u=ht(c,t);u&&e.drawImage(u,0,0);var g=ht(r,t);g&&e.drawImage(g,0,0);var j=ht(a.widgetElements[d].previewImageIndex,t);j&&e.drawImage(j,a.x,a.y);var h=i.activeWidget===n?ht(a.borderActivImageIndex,t):ht(a.borderInactivImageIndex,t);h&&e.drawImage(h,a.x,a.y)}else{var m=a.widgetElements[d].activitys;m&&wt(e,t,m,i,o),a.widgetElements[d].date&&St(e,t,a.widgetElements[d].date,a.widgetElements[d].date.orderElements,i,o)}}l&&(e.strokeStyle="white",e.strokeRect(a.x,a.y,a.width,a.height))}}(e,t,r,s,a,i,o,l,n.topMaskImageIndex,n.underMaskImageIndex)}))}var Nt=n(15),Pt=n.n(Nt),At="preview_white_grid",Et="preview_black_grid",Tt="preview_digit_border",Ut=function(e){var t,n=e.width,i=e.height,o=Object(a.useContext)(g),l=o.images,r=o.watchface,c=o.watchState,d=o.previewScreenNormal,u=Object(a.useState)(!1),j=Object(s.a)(u,2),h=j[0],m=j[1],b=Object(a.useState)(!1),p=Object(s.a)(b,2),O=p[0],f=p[1],x=Object(a.useState)(0),y=Object(s.a)(x,2),I=y[0],w=y[1],C=Object(a.useState)(0),S=Object(s.a)(C,2),D=S[0],k=S[1],M=Object(a.useState)(!!localStorage.getItem(At)&&JSON.parse(localStorage.getItem(At))),F=Object(s.a)(M,2),N=F[0],P=F[1],A=Object(a.useState)(!!localStorage.getItem(Et)&&JSON.parse(localStorage.getItem(Et))),E=Object(s.a)(A,2),T=E[0],U=E[1],B=Object(a.useState)(!!localStorage.getItem(Tt)&&JSON.parse(localStorage.getItem(Tt))),Y=Object(s.a)(B,2),X=Y[0],L=Y[1];function W(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;a&&(e.strokeStyle=a),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.stroke()}return Object(ge.jsxs)(ge.Fragment,{children:[Object(ge.jsxs)("div",{className:Pt.a.canvasCcontainer,children:[d?"Screen Normal":"AOD",Object(ge.jsxs)("div",{children:["x: ",I,", y: ",D]}),Object(ge.jsx)(jt,{id:"canvasPreview",draw:function(e,t){l&&r&&(e?(t.clearRect(0,0,e.width,e.height),d?function(e,t,n){r.background&&function(e,t,n,a){if(void 0!==(null===a||void 0===a?void 0:a.imageIndex)&&null!==(null===a||void 0===a?void 0:a.imageIndex)){var i=ht(a.imageIndex,n);if(i){var o=i;t.drawImage(o,0,0,o.width,o.height)}}else a.color&&v.GFG_Fun(a.color)&&(t.fillStyle=a.color,t.fillRect(0,0,e.width,e.height))}(e,t,n,r.background);r.date&&St(t,n,r.date,r.date.orderElements,c,X);r.activity&&wt(t,n,r.activity,c,X,!0);r.status&&function(e,t,n,a){n.bluetooth.enabled&&!a.bluetooth&&mt(e,t,n.bluetooth.json),n.dnd.enabled&&a.dnd&&mt(e,t,n.dnd.json),n.alarm.enabled&&a.alarm&&mt(e,t,n.alarm.json),n.lock.enabled&&a.lock&&mt(e,t,n.lock.json)}(t,n,r.status,c);r.widgets.enabled&&Ft(t,n,r.widgets,c,X,h,O);var a,i;r.dialFace&&(!O||(null===(a=r.widgets)||void 0===a?void 0:a.showTimeOnEditScreen)||(null===(i=r.widgets)||void 0===i?void 0:i.widgets)&&0===r.widgets.widgets.length)&&(Mt(t,n,r.dialFace,c,X),Dt(t,n,r.dialFace,c))}(e,t,l):function(e,t,n){r.aod&&function(e,t,n,a){if(void 0!==a&&null!==a){var i=ht(a,n);i&&t.drawImage(i,0,0,i.width,i.height)}else t.fillStyle="black",t.fillRect(0,0,e.width,e.height)}(e,t,n,r.aod.backgroundImageIndex);r.aod.date&&St(t,n,r.aod.date,r.aod.date.orderElements,c,X);r.aod.activitylist&&wt(t,n,r.aod.activitylist,c,X);r.aod.dialFace&&(Mt(t,n,r.aod.dialFace,c,X),Dt(t,n,r.aod.dialFace,c))}(e,t,l),function(e){if(!N&&!T)return;for(var t=N?"white":"black",a=20,o=n/2;o>0;o-=a)W(e,[o,0],[o,i],t,1);for(var l=n/2;l<n;l+=a)W(e,[l,0],[l,i],t,1);for(var s=i/2;s>0;s-=a)W(e,[0,s],[n,s],t,1);for(var r=i/2;r<i;r+=a)W(e,[0,r],[n,r],t,1);W(e,[n/2-1,0],[n/2-1,i],t,2),W(e,[0,i/2-1],[n,i/2-1],t,2)}(t)):console.error("don't find canvas with id canvasPreview"))},className:Pt.a.canvasPreview,width:n,height:i,onClick:function(e){var t=document.getElementById("canvasPreview").getBoundingClientRect(),a=e.clientX-t.left,o=e.clientY-t.top;a=Math.min(n,Math.max(0,Math.round(a))),o=Math.min(i,Math.max(0,Math.round(o))),w(a),k(o)}})]}),Object(ge.jsx)("div",{className:"container d-flex justify-content-center",children:Object(ge.jsxs)("div",{children:[Object(ge.jsxs)("div",{className:"input-group input-group-sm",style:{width:"max-content"},children:[Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"White grid"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:N,onChange:function(){var e=!N;P(e),localStorage.setItem(At,JSON.stringify(e))}})}),Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Black grid"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:T,onChange:function(){var e=!T;U(e),localStorage.setItem(At,JSON.stringify(e))}})}),Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"border on digit"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:X,onChange:function(){var e=!X;L(e),localStorage.setItem(Tt,JSON.stringify(e))}})})]}),(null===(t=r.widgets)||void 0===t?void 0:t.widgets)&&r.widgets.widgets.length>0?Object(ge.jsxs)("div",{className:"input-group input-group-sm",style:{width:"max-content"},children:[Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"border on widgets"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:h,onChange:function(){return m(!h)}})}),Object(ge.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"show preview of widgets"}),Object(ge.jsx)("div",{className:"input-group-text",children:Object(ge.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:O,onChange:function(){return f(!O)}})})]}):""]})})]})},Bt=function(){var e=Object(a.useContext)(g).images;return Object(ge.jsx)("div",{className:"container d-flex justify-content-center",children:e.length>0?Object(ge.jsxs)("div",{children:[Object(ge.jsxs)("h2",{children:["number of images: ",e.length," "]}),Object(ge.jsx)("ul",{className:"list-group blocks",style:{width:"100%"},children:e.map((function(e){return Object(ge.jsxs)("li",{value:e.id,className:"list-group-item fileitem",children:[Object(ge.jsx)("img",{src:e.image.src,alt:e.name,width:30}),e.name]},e.id)}))})]}):Object(ge.jsx)("div",{children:"no uploaded images"})})},Yt=[{id:0,name:"Preview",el:Object(ge.jsx)(Ut,{width:de.width,height:de.height})},{id:1,name:"Uploaded Images",el:Object(ge.jsx)(Bt,{})},{id:2,name:"Json",el:Object(ge.jsx)(st,{})}],Xt=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(ge.jsxs)("div",{children:[Object(ge.jsx)("ul",{className:"nav nav-tabs",children:Yt.map((function(e){return Object(ge.jsx)("li",{className:"nav-item",children:Object(ge.jsx)("button",{className:"nav-link ".concat(n===e.id?"active":""," "),onClick:function(){return i(e.id)},children:e.name})},e.id)}))}),Yt[n].el]})},Lt=function e(){Object(h.a)(this,e),this._date=new Date,this.year=this._date.getFullYear(),this.month=this._date.getMonth()+1,this.monthasword=this._date.getMonth(),this.day=this._date.getDate(),this.hours=this._date.getHours(),this.minutes=this._date.getMinutes(),this.seconds=this._date.getSeconds(),this.weekday=this._date.getDay()>0?this._date.getDay()-1:6,this.batteryGoal=100,this.battery=Math.round(Math.random()*this.batteryGoal),this.stepsGoal=1e3*(Math.round(5*Math.random())+5),this.steps=Math.round(Math.random()*this.stepsGoal),this.caloriesGoal=200,this.calories=Math.round(Math.random()*this.caloriesGoal),this.hearthrateGoal=220,this.hearthrate=Math.round(200*Math.random()),this.distance=Math.round(1e3*Math.random())+1e3,this.paiGoal=100,this.pai=Math.round(Math.random()*this.paiGoal),this.standupGoal=12,this.standup=Math.round(Math.random()*this.standupGoal),this.bluetooth=!0,this.dnd=!0,this.lock=!1,this.alarm=!0,this.temperature=Math.round(10*Math.random()),this.temperatureMin=this.temperature-Math.round(10*Math.random()),this.temperatureMax=this.temperature+Math.round(10*Math.random()),this.weatherIcon=Math.round(29*Math.random()),this.uvIndexGoal=11,this.uvIndex=Math.round(Math.random()*this.uvIndexGoal),this.airQualityGoal=500,this.airQuality=Math.round(Math.random()*this.airQualityGoal),this.humidityGoal=100,this.humidity=Math.round(Math.random()*this.humidityGoal),this.sunrise=536,this.sunset=1742,this.windForce=Math.round(12*Math.random()),this.airPressureGoal=100,this.airPressure=Math.round(Math.random()*this.airPressureGoal),this.stressGoal=100,this.stress=Math.round(Math.random()*this.stressGoal),this.fatBurningGoal=30,this.fatBurning=Math.round(Math.random()*this.fatBurningGoal),this.widgets=[],this.activeWidget=0},Wt=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(new ce),l=Object(s.a)(o,2),u=l[0],j=l[1],h=Object(a.useState)(new Lt),m=Object(s.a)(h,2),b=m[0],v=m[1],p=Object(a.useState)(null),O=Object(s.a)(p,2),f=O[0],x=O[1],y=Object(a.useState)(!0),I=Object(s.a)(y,2),w=I[0],C=I[1];return Object(ge.jsx)(g.Provider,{value:{images:n,setImages:i,watchface:u,setWatchface:j,watchState:b,setWatchState:v,jsonName:f,setJsonName:x,previewScreenNormal:w,setPreviewScreenNormal:C},children:Object(ge.jsxs)(r.a,{className:"App d-flex flex-column min-vh-100 vh-100",children:[Object(ge.jsx)(c.a,{className:"header",children:Object(ge.jsx)(je,{})}),Object(ge.jsxs)(c.a,{className:"main",children:[Object(ge.jsx)(d.a,{xs:6,className:"leftcol",children:Object(ge.jsx)(it,{})}),Object(ge.jsx)(d.a,{xs:6,className:"rightcol",children:Object(ge.jsx)(Xt,{})})]})]})})},Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),a(e),i(e),o(e),l(e)}))};l.a.render(Object(ge.jsx)(i.a.StrictMode,{children:Object(ge.jsx)(Wt,{})}),document.getElementById("root")),Rt()}},[[29,1,2]]]);
//# sourceMappingURL=main.9abb9027.chunk.js.map