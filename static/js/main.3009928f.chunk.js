(this.webpackJsonpwatchmaker=this.webpackJsonpwatchmaker||[]).push([[0],{15:function(e,t,n){e.exports={canvasCcontainer:"previewComponent_canvasCcontainer__GUole",canvasPreview:"previewComponent_canvasPreview__2pp0G"}},17:function(e,t,n){e.exports={json:"JsonComponent_json__3nvjm"}},23:function(e,t,n){},25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),o=n(16),l=n.n(o),s=(n(23),n(4)),r=(n(24),n(30)),c=n(31),d=n(32),u=(n(25),n(34)),g=Object(a.createContext)(null),j=n(1),h=n(3),m=n(10),v=/^#[0-9A-F]{6}$/i,b=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}},{key:"rgbToHex",value:function(e,t,n){return"#"+e.toString(16).padStart(2,"0")+t.toString(16).padStart(2,"0")+n.toString(16).padStart(2,"0")}},{key:"colorRead",value:function(e){return e?(18===e.length&&(e=e.substring(0,2)+e.substring(10,18)),10===e.length&&(e="#"+e.substring(4)),e):null}},{key:"colorBackgroundRead",value:function(e){if(!e)return null;18===e.length&&(e=e.substring(0,2)+e.substring(8,18));var t,n,a,i=e.substring(8,10),o=e.substring(10,12),l=parseInt(i,16),s=parseInt(o,16);return t=(l>>3&31)<<3,n=(s>>5&7|(7&l)<<3)<<2,a=(31&s)<<3,this.rgbToHex(t,n,a)}},{key:"colorBackgroundWrite",value:function(e){var t=this.hexToRgb(e),n=t.r,a=t.g,i=t.b>>3&31|(a>>2&7)<<5;return"0xFFFF"+(a>>5&7|(n>>3&31)<<3).toString(16).padStart(2,"0").toUpperCase()+i.toString(16).padStart(2,"0").toUpperCase()}},{key:"colorWrite",value:function(e){var t=this.hexToRgb(e),n=t.r,a=t.g,i=t.b;return"0xFF"+n.toString(16).padStart(2,"0")+a.toString(16).padStart(2,"0")+i.toString(16).padStart(2,"0")}},{key:"GFG_Fun",value:function(e){return v.test(e)}}]),e}();b.DEFAULT_COLOR="#000000";var p=function e(t,n){Object(h.a)(this,e),this.index=t,this.json=n},O=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Zh.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Zh.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();O.Zh=new p(0,"Zh"),O.ZhHant=new p(1,"ZhHant"),O.All=new p(2,"All");var f=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Left.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Left.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();f.Left=new p(0,"Left"),f.Center=new p(1,"Center"),f.Right=new p(2,"Right");var x=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Follow.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Follow.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();x.Follow=new p(0,"Follow"),x.Single=new p(1,"Single");var y=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Default.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Default.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();y.Default=new p(0,null),y.Min=new p(1,"Min"),y.Max=new p(2,"Max");var I=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Single.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Single.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();I.Single=new p(0,"Single"),I.Continuous=new p(1,"Continuous");var C=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Year.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Year.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();C.Year=new p(0,"Year"),C.Month=new p(1,"Month"),C.Day=new p(2,"Day");var w=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"toJson",value:function(t){return void 0===t?this.Hour.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"fromJson",value:function(t){return void 0===t?this.Hour.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();w.Hour=new p(0,"Hour"),w.Minute=new p(1,"Minute"),w.Second=new p(2,"Second");var S=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"findByIndex",value:function(t){return void 0===t?this.Date:Object.values(e).find((function(e){return e.index===t}))}},{key:"toJson",value:function(t){return void 0===t?this.Date.json:Object.values(e).find((function(e){return e.index===t})).json}},{key:"findByJson",value:function(t){return void 0===t?this.Date:Object.values(e).find((function(e){return e.json===t}))}},{key:"fromJson",value:function(t){return void 0===t?this.Date.index:Object.values(e).find((function(e){return e.json===t})).index}}]),e}();S.Date=new p(0,"Date"),S.Battery=new p(1,"Battery"),S.Steps=new p(2,"Steps"),S.Calories=new p(3,"Calories"),S.HeartRate=new p(4,"HeartRate"),S.Pai=new p(5,"PAI"),S.Distance=new p(6,"Distance"),S.StandUp=new p(7,"StandUp"),S.Weather=new p(8,"Weather"),S.UVindex=new p(9,"UVindex"),S.AirQuality=new p(10,"AirQuality"),S.Humidity=new p(11,"Humidity"),S.Sunrise=new p(12,"Sunrise"),S.WindForce=new p(13,"WindForce"),S.Altitude=new p(14,"Altitude"),S.AirPressure=new p(15,"AirPressure"),S.Stress=new p(16,"Stress"),S.ActivityGoal=new p(17,"ActivityGoal"),S.FatBurning=new p(18,"FatBurning");var D,k=function e(){Object(h.a)(this,e),this.X=0,this.Y=0},M=function e(){Object(h.a)(this,e),this.ImageIndex=null,this.ImagesCount=1},F=function e(){Object(h.a)(this,e),this.Coordinates=new k,this.ImageIndex=null,this.ImageIndex2=null,this.ImageIndex3=null},N=function e(){Object(h.a)(this,e),this.Coordinates=[],this.ImageSet=new M,this.DisplayType=I.Single.json},P=function e(){Object(h.a)(this,e),this.AngleSettings=void 0,this.LinearSettings=void 0,this.ForegroundImageIndex=void 0,this.Color=void 0,this.Width=void 0,this.Flatness=void 0,this.PointerImageIndex=void 0,this.BackgroundImageIndex=void 0},A=function e(){Object(h.a)(this,e),this.StartX=0,this.StartY=0,this.EndX=0,this.EndY=0,this.Unknown5=void 0},E=function e(){Object(h.a)(this,e),this.X=0,this.Y=0,this.StartAngle=0,this.EndAngle=360,this.Radius=0},U=function e(){Object(h.a)(this,e),this.X=void 0,this.Y=void 0,this.Scale=void 0,this.Pointer=void 0,this.Cover=void 0,this.StartAngle=void 0,this.EndAngle=void 0,this.Unknown16=void 0},T=function e(){Object(h.a)(this,e),this.Coordinates=new k,this.ImageSet=[{LangCode:O.All.json,ImageSet:{ImageIndex:null,ImagesCount:1}}]},B=function e(){Object(h.a)(this,e),this.Image=void 0,this.SystemFont=void 0,this.Alignment=f.Left.json,this.Spacing=0,this.PaddingZero=!1,this.DisplayFormAnalog=!1},Y=function e(){Object(h.a)(this,e),this.X=0,this.Y=0,this.NoDataImageIndex=null,this.MultilangImage=[{LangCode:O.All.json,ImageSet:{ImageIndex:null,ImagesCount:1}}],this.DecimalPointImageIndex=null,this.MultilangImageUnit=void 0,this.DelimiterImageIndex=null,this.MultilangImageUnitMile=void 0},X=function e(){Object(h.a)(this,e),this.FontRotate=void 0,this.Coordinates=void 0,this.Angle=0,this.Size=20,this.Color=b.colorWrite("#000000"),this.ShowUnitCheck=-1},L=function e(){Object(h.a)(this,e),this.X=0,this.Y=0,this.Radius=0,this.RotateDirection=0},W=function e(){Object(h.a)(this,e),this.Type=void 0,this.TimeType=void 0,this.DateType=void 0,this.CombingMode=void 0,this.Digit=new B,this.Separator=void 0},R=function e(){Object(h.a)(this,e),this.LangCode=O.All.json,this.ImageSet=new M},H={hour:{type:w.Hour.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["",":",":"],separator:"/",timeDelimiter:!0,title:"Hours"},min:{type:w.Minute.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["",":",":"],separator:"/",timeDelimiter:!0,title:"Minutes"},sec:{type:w.Second.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["",":",":"],separator:"/",timeDelimiter:!0,title:"Seconds"},year:{type:C.Year.index,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["",".","/"],separator:"/",title:"Year"},month:{type:C.Month.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["",".","/"],separator:"/",title:"Month"},monthasword:{type:C.Month.index,count:12,numberLenght:1,displayAnalog:!0,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Month as word"},day:{type:C.Day.index,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["",".","/"],separator:"/",title:"Day"},weekday:{type:0,count:7,numberLenght:1,displayAnalog:!0,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Weekday"},battery:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:null,unit:["%","%","%"],separator:"/",title:"Battery"},steps:{type:0,count:10,numberLenght:5,displayAnalog:!1,imageProgressTotal:null,unit:["","Steps","STEPS"],separator:"/",title:"Steps",titleMin:"goal of steps"},calories:{type:0,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["","kcal","Cal"],separator:"/",title:"Calories",titleMin:"goal of calories"},heartRate:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:6,unit:["","bpm","BPM"],separator:"/",title:"Heart rate"},pai:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"PAI"},distance:{type:0,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["","km","KM"],separator:"/",decimalDelimiter:!0,title:"Distance"},standUp:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Standup",titleMin:"goal of stand up"},uvIndex:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"UVIndex"},airQuality:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Air quality"},humidity:{type:0,count:10,numberLenght:3,displayAnalog:!1,imageProgressTotal:null,unit:["%","%","%"],separator:"/",title:"Humidity"},sunrise:{type:0,count:10,numberLenght:4,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",timeDelimiter:!0,title:"Sunrise",titleDefault:"closest sunrise or sunset",titleMin:"sunrise",titleMax:"sunset"},windForce:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","kpa","KPA"],separator:"/",title:"Wind force"},airPressure:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Air pressure"},stress:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"Stress"},activityGoal:{type:0,count:10,numberLenght:5,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"ActivityGoal",titleMin:"goal of activity"},fatBurning:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:null,unit:["","",""],separator:"/",title:"FatBurning",titleMin:"goal of FatBurning"},weather:{type:0,count:10,numberLenght:2,displayAnalog:!1,imageProgressTotal:29,unit:["\xb0C","\xb0C","\xb0C"],separator:"/",title:"Weather",titleDefault:"Current",titleMin:"Minimum",titleMax:"Maximum"}},G=function e(){Object(h.a)(this,e),this.imageIndex=null,this.previewIndex=null,this.color=b.DEFAULT_COLOR,this.collapsed=!0},_=function e(t){Object(h.a)(this,e),this.json=new F,this.enabled=!1,t&&(this.enabled=!0,this.json=t)},J=function e(t,n){Object(h.a)(this,e),this.json=new T,this.enabled=!1,this.count=1,null!=t&&void 0!==t&&(this.enabled=!0,this.json=t),n&&(this.count=n)},Z=function e(t){Object(h.a)(this,e),this.enabled=!1,this.json=new N,null!=t&&void 0!==t&&(this.enabled=!0,this.json=t)};!function(e){e[e.TIME=0]="TIME",e[e.DATE=1]="DATE",e[e.COMMON=2]="COMMON"}(D||(D={}));var z=function e(t,n,a){var i,o,l,s;(Object(h.a)(this,e),this.json=new W,this.con=void 0,this.enabled=!1,this.enabledImage=!1,this.enabledSystemFont=!1,this.enabledSystemFontCircle=!1,this.json=n,null!=n)&&(this.enabled=!0,(null===(i=n.Digit)||void 0===i?void 0:i.Image)&&(this.enabledImage=!0),(null===(o=n.Digit)||void 0===o?void 0:o.SystemFont)&&((null===(l=n.Digit)||void 0===l||null===(s=l.SystemFont)||void 0===s?void 0:s.FontRotate)?this.enabledSystemFontCircle=!0:this.enabledSystemFont=!0));null!=a&&(n||(this.json=new W,this.json.Digit=new B),this.con=a),this.json.DateType=t===D.DATE?C.toJson(a.type):null,this.json.TimeType=t===D.TIME?w.toJson(a.type):null,this.json.Type=t===D.COMMON?y.toJson(a.type):null},Q=function e(t){Object(h.a)(this,e),this.enabled=void 0,this.json=new U,this.json=t,t&&(this.enabled=!0)},V=function e(){Object(h.a)(this,e),this.collapsedDigital=!0,this.collapsedAnalog=!0,this.hoursDigital=new z(D.TIME,null,H.hour),this.minutesDigital=new z(D.TIME,null,H.min),this.secondsDigital=new z(D.TIME,null,H.sec),this.hoursClockhand=new Q,this.minutesClockhand=new Q,this.secondsClockhand=new Q,this.am=new J,this.pm=new J},$=function e(){Object(h.a)(this,e),this.collapsed=!0,this.year=new z(D.DATE,null,H.year),this.month=new z(D.DATE,null,H.month),this.day=new z(D.DATE,null,H.day),this.monthAsWord=new z(D.DATE,null,H.monthasword),this.weekDay=new z(D.COMMON,null,H.weekday)},K=function e(t){var n,a,i,o;(Object(h.a)(this,e),this.collapsed=!0,this.bluetooth=new _(null),this.dnd=new _(null),this.alarm=new _(null),this.lock=new _(null),t)&&((null===(n=t.Bluetooth)||void 0===n?void 0:n.ImageIndex)&&(this.bluetooth=new _(t.Bluetooth),this.bluetooth.enabled=!0),(null===(a=t.Lock)||void 0===a?void 0:a.ImageIndex)&&(this.lock=new _(t.Lock),this.lock.enabled=!0),(null===(i=t.DoNotDisturb)||void 0===i?void 0:i.ImageIndex)&&(this.dnd=new _(t.DoNotDisturb),this.dnd.enabled=!0),(null===(o=t.Alarm)||void 0===o?void 0:o.ImageIndex)&&(this.alarm=new _(t.Alarm),this.alarm.enabled=!0))},q=function e(t){Object(h.a)(this,e),this.enabledLinear=void 0,this.enabledCircle=void 0,this.jsonObj=void 0,this.jsonObj=t,t&&(t.LinearSettings?this.enabledLinear=!0:t.AngleSettings&&(this.enabledCircle=!0))},ee=function e(t,n){Object(h.a)(this,e),this.collapsed=!0,this.key=void 0,this.type=void 0,this.dt=void 0,this.digit=void 0,this.digitMin=void 0,this.digitMax=void 0,this.imageProgress=new Z,this.pointerProgress=new Q,this.progressBar=new q,this.icon=new _,this.shortcut=null,this.key=t.index+"_"+(new Date).getTime(),this.type=t,this.dt=n,this.imageProgress.json.ImageSet.ImagesCount=n.imageProgressTotal},te=function e(t){Object(h.a)(this,e),this.type=void 0,this.title=void 0,this.type=t.index,this.title=t.json},ne=function e(t){var n,a,i,o,l,s,r,c,d,u,g,j,m=this;if(Object(h.a)(this,e),this.dialFace=new V,this.date=new $,this.activitylistCollapsed=!0,this.activitylist=[],this.backgroundImageIndex=void 0,this.backgroundCollapsed=!0,this.json=void 0,this.orderElements={orderElementsDate:[new te(C.Year),new te(C.Month),new te(C.Day)]},this.dialFace=new V,this.date=new $,this.activitylist=[],this.backgroundImageIndex=null,this.json=t,null!=t){this.backgroundImageIndex=t.BackgroundImageIndex,this.dialFace=new V,this.dialFace.secondsDigital=null;var v=[];(null===(n=t.DialFace)||void 0===n||null===(a=n.DigitalDialFace)||void 0===a?void 0:a.Digits)&&t.DialFace.DigitalDialFace.Digits.forEach((function(e){switch(e.TimeType){case w.Minute.json:m.dialFace.minutesDigital=new z(D.TIME,e,H.min),v.push(new te(w.Minute));break;default:m.dialFace.hoursDigital=new z(D.TIME,e,H.hour),v.push(new te(w.Hour))}})),this.dialFace.am=new J(null===(i=t.DialFace)||void 0===i||null===(o=i.DigitalDialFace)||void 0===o?void 0:o.AM),this.dialFace.pm=new J(null===(l=t.DialFace)||void 0===l||null===(s=l.DigitalDialFace)||void 0===s?void 0:s.PM),this.dialFace.hoursClockhand=new Q(null===(r=t.DialFace)||void 0===r||null===(c=r.AnalogDialFace)||void 0===c?void 0:c.Hours),this.dialFace.minutesClockhand=new Q(null===(d=t.DialFace)||void 0===d||null===(u=d.AnalogDialFace)||void 0===u?void 0:u.Minutes),this.dialFace.secondsClockhand=null,this.date=new $;var b=[];(null===(g=t.Date)||void 0===g?void 0:g.DateDigits)&&t.Date.DateDigits.forEach((function(e){switch(e.DateType){case C.Month.json:e.Digit.DisplayFormAnalog?(m.date.monthAsWord=new z(D.DATE,e,H.month),b.push(new te(C.Month))):(m.date.month=new z(D.DATE,e,H.monthasword),b.push(new te(C.Month)));break;case C.Day.json:m.date.day=new z(D.DATE,e,H.day),b.push(new te(C.Day));break;default:m.date.year=new z(D.DATE,e,H.year),b.push(new te(C.Year))}})),this.orderElements.orderElementsDate.forEach((function(e){b.find((function(t){return t.type===e.type}))||b.push(e)})),this.orderElements.orderElementsDate=b,this.date.weekDay=new z(D.COMMON,null===(j=t.Date)||void 0===j?void 0:j.WeeksDigits,H.weekday),this.activitylist=ie(t.Activity)}};function ae(e,t){var n=null,a=null;switch(t){case S.Battery:a=H.battery;break;case S.Steps:a=H.steps;break;case S.Calories:a=H.calories;break;case S.HeartRate:a=H.heartRate;break;case S.Pai:a=H.pai;break;case S.Distance:a=H.distance;break;case S.StandUp:a=H.standUp;break;case S.UVindex:a=H.uvIndex;break;case S.AirQuality:a=H.airQuality;break;case S.Humidity:a=H.humidity;break;case S.Sunrise:a=H.sunrise;break;case S.WindForce:a=H.windForce;break;case S.AirPressure:a=H.airPressure;break;case S.Weather:a=H.weather;break;case S.ActivityGoal:a=H.activityGoal}return a&&((n=new ee(t,a)).digit=new z(D.COMMON,null,a),n.digitMin=new z(D.COMMON,null,Object(j.a)(Object(j.a)({},a),{},{type:y.Min.index})),n.digitMax=new z(D.COMMON,null,Object(j.a)(Object(j.a)({},a),{},{type:y.Max.index}))),n&&((null===e||void 0===e?void 0:e.Digits)&&e.Digits.forEach((function(e){e.Type===y.Min.json?n.digitMin=new z(D.COMMON,e,Object(j.a)(Object(j.a)({},a),{},{type:y.Min.index})):e.Type===y.Max.json?n.digitMax=new z(D.COMMON,e,Object(j.a)(Object(j.a)({},a),{},{type:y.Max.index})):n.digit=new z(D.COMMON,e,Object(j.a)(Object(j.a)({},a),{},{type:y.Default.index}))})),n.imageProgress=new Z(null===e||void 0===e?void 0:e.ImageProgress),n.pointerProgress=new Q(null===e||void 0===e?void 0:e.PointerProgress),n.progressBar=new q(null===e||void 0===e?void 0:e.ProgressBar),n.icon=new _(null===e||void 0===e?void 0:e.Icon),n.shortcut=null===e||void 0===e?void 0:e.Shortcut),n}function ie(e){if(e){var t=[];return e.forEach((function(e){var n=ae(e,S.findByJson(e.Type));n&&t.push(n)})),t}return[]}var oe,le=function e(t){if(Object(h.a)(this,e),this.collapsed=!0,this.previewImageIndex=void 0,this.date=void 0,this.activitylistCollapsed=!0,this.activitys=[],t){if(!t.Preview)return null;var n=t.Preview.findIndex((function(e){return e.LangCode===O.All.json}));this.previewImageIndex=n>=0?n:0,this.activitys=ie(t.Activity)}},se=function e(t){var n=this;Object(h.a)(this,e),this.collapsed=!0,this.x=0,this.y=0,this.width=0,this.height=0,this.widgetElementsCollapsed=!0,this.widgetElements=[],this.borderActivImageIndex=void 0,this.borderInactivImageIndex=void 0,this.descriptionImageBackground=new _,this.descriptionWidthCheck=0,t&&(this.x=t.X?t.X:0,this.y=t.Y?t.Y:0,this.width=t.Width,this.height=t.Height,this.widgetElements=[],t.WidgetElement&&t.WidgetElement.forEach((function(e){n.widgetElements.push(new le(e))})),this.borderActivImageIndex=t.BorderActivImageIndex,this.borderInactivImageIndex=t.BorderInactivImageIndex,this.descriptionImageBackground=new _(t.DescriptionImageBackground),this.descriptionWidthCheck=t.DescriptionWidthCheck)},re=function e(t){Object(h.a)(this,e),this.enabled=void 0,this.collapsed=!0,this.topMaskImageIndex=void 0,this.underMaskImageIndex=void 0,this.showTimeOnEditScreen=void 0,this.widgets=[],t&&(this.enabled=!0,this.topMaskImageIndex=t.TopMaskImageIndex,this.underMaskImageIndex=t.UnderMaskImageIndex,this.showTimeOnEditScreen=t.Unknown4,this.widgets=[],t.Widget&&(this.widgets=t.Widget.map((function(e){return new se(e)}))))},ce=function e(t){var n,a,i,o,l,s,r,c,d,u,g,j,m,v,p,f,x,y,I=this;if(Object(h.a)(this,e),this.background=new G,this.dialFace=new V,this.date=new $,this.activitylistCollapsed=!0,this.activity=[],this.status=new K,this.widgets=new re(null),this.aod=new ne(null),this.orderElements={orderElementsDate:[new te(C.Year),new te(C.Month),new te(C.Day)],orderElementsActivity:[new te(S.Date),new te(S.Battery),new te(S.Steps),new te(S.Calories),new te(S.HeartRate),new te(S.Pai),new te(S.Distance),new te(S.StandUp),new te(S.Weather)]},t){if(this.background=new G,this.dialFace=new V,this.date=new $,this.activity=[],this.status=new K,this.aod=new ne(null),this.background.color=b.colorBackgroundRead(t.Background.Color),this.background.imageIndex=t.Background.BackgroundImageIndex,t.Background.Preview){var k,M,F,N,P=0;null===(k=t.Background)||void 0===k||null===(M=k.Preview)||void 0===M||M.forEach((function(e,t){e.LangCode===O.All.json&&(P=t)})),this.background.previewIndex=null===(F=t.Background.Preview[P])||void 0===F||null===(N=F.ImageSet)||void 0===N?void 0:N.ImageIndex}this.dialFace=new V;var A=[];(null===(n=t.DialFace)||void 0===n||null===(a=n.DigitalDialFace)||void 0===a?void 0:a.Digits)&&t.DialFace.DigitalDialFace.Digits.forEach((function(e){switch(e.TimeType){case w.Minute.json:I.dialFace.minutesDigital=new z(D.TIME,e,H.min),A.push(new te(w.Minute));break;case w.Second.json:I.dialFace.secondsDigital=new z(D.TIME,e,H.sec),A.push(new te(w.Second));break;default:I.dialFace.hoursDigital=new z(D.TIME,e,H.hour),A.push(new te(w.Hour))}})),this.dialFace.am=new J(null===(i=t.DialFace)||void 0===i||null===(o=i.DigitalDialFace)||void 0===o?void 0:o.AM),this.dialFace.pm=new J(null===(l=t.DialFace)||void 0===l||null===(s=l.DigitalDialFace)||void 0===s?void 0:s.PM),this.dialFace.hoursClockhand=new Q(null===(r=t.DialFace)||void 0===r||null===(c=r.AnalogDialFace)||void 0===c?void 0:c.Hours),this.dialFace.minutesClockhand=new Q(null===(d=t.DialFace)||void 0===d||null===(u=d.AnalogDialFace)||void 0===u?void 0:u.Minutes),this.dialFace.secondsClockhand=new Q(null===(g=t.DialFace)||void 0===g||null===(j=g.AnalogDialFace)||void 0===j?void 0:j.Seconds),this.date=new $;var E=[];(null===(m=t.System)||void 0===m||null===(v=m.Date)||void 0===v?void 0:v.DateDigits)&&t.System.Date.DateDigits.forEach((function(e){switch(e.DateType){case C.Month.json:e.Digit.DisplayFormAnalog?(I.date.monthAsWord=new z(D.DATE,e,H.month),E.push(new te(C.Month))):(I.date.month=new z(D.DATE,e,H.monthasword),E.push(new te(C.Month)));break;case C.Day.json:I.date.day=new z(D.DATE,e,H.day),E.push(new te(C.Day));break;default:I.date.year=new z(D.DATE,e,H.year),E.push(new te(C.Year))}})),this.orderElements.orderElementsDate.forEach((function(e){E.find((function(t){return t.type===e.type}))||E.push(e)})),this.orderElements.orderElementsDate=E,this.date.weekDay=new z(D.COMMON,null===(p=t.System)||void 0===p||null===(f=p.Date)||void 0===f?void 0:f.WeeksDigits,H.weekday),this.status=new K(null===(x=t.System)||void 0===x?void 0:x.Status),this.activity=ie(null===(y=t.System)||void 0===y?void 0:y.Activity),this.widgets=new re(t.Widgets),this.aod=new ne(t.ScreenIdle)}},de=n(0),ue=function(){var e=Object(a.useContext)(g),t=e.images,n=e.setImages,i=e.setWatchface,o=e.setJsonName;function l(e){var t=e.target.result,n=JSON.parse(t.toString()),a=new ce(n);i(a)}function s(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r(),o(null),a<e.length){var i=e[a].name,l=i;-1!==l.lastIndexOf(".")&&(l=l.substring(0,l.lastIndexOf(".")));var c=parseInt(l);if(/^\d+$/.test(l)&&!isNaN(c)){var d=new Image;d.addEventListener("load",(function(){(a+=1)<e.length?s(e,t,a):n(t)})),d.src=URL.createObjectURL(e[a]),d.alt=i,t.push({id:c,name:i,image:d})}else(a+=1)<e.length?s(e,t,a):n(t)}}function r(){document.getElementById("jsonLoad")&&(document.getElementById("jsonLoad").value=null),i(new ce)}return Object(de.jsx)("div",{children:Object(de.jsxs)("span",{className:"input-group input-group-sm mb-3",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Load images"}),Object(de.jsx)("input",{type:"file",multiple:!0,id:"fileUpload",accept:"image/*",onChange:function(e){s(e.target.files,[])}}),t.length>0?Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("span",{className:"input-group-text",children:"Load json file"}),Object(de.jsx)("input",{type:"file",accept:"application/json",id:"jsonLoad",onChange:function(e){var t=e.target.files.item(0);if(t){var n=new FileReader;n.onload=l,n.readAsText(t),o(e.target.files.item(0).name)}}}),Object(de.jsx)(u.a,{onClick:r,children:"clear"})]}):""]})})},ge=n(11),je=n(33),he=(n(27),{draggedFrom:null,draggedTo:null,isDragging:!1,originalOrder:[],updatedOrder:[]}),me=function(e){var t=e._list,n=e.updateOrder,i=Object(a.useState)(he),o=Object(s.a)(i,2),l=o[0],r=o[1];function c(e){var n=Number(e.currentTarget.dataset.position);r(Object(j.a)(Object(j.a)({},l),{},{draggedFrom:n,isDragging:!0,originalOrder:t})),e.dataTransfer.setData("text/html","")}function d(e){e.preventDefault();var t=l.originalOrder,a=l.draggedFrom,i=Number(e.currentTarget.dataset.position),o=t[a],s=t.filter((function(e,t){return t!==a}));t=[].concat(Object(ge.a)(s.slice(0,i)),[o],Object(ge.a)(s.slice(i))),i!==l.draggedTo&&(r(Object(j.a)(Object(j.a)({},l),{},{updatedOrder:t,draggedTo:i})),n(t))}function u(e){n(l.updatedOrder),r(Object(j.a)(Object(j.a)({},l),{},{draggedFrom:null,draggedTo:null,isDragging:!1}))}function g(){r(Object(j.a)(Object(j.a)({},l),{},{draggedTo:null}))}return Object(de.jsx)(de.Fragment,{children:Object(de.jsx)("ul",{className:"list-group droplist",children:t.map((function(e,t){return Object(de.jsx)("li",{"data-position":t,draggable:!0,onDragStart:c,onDragOver:d,onDrop:u,onDragLeave:g,className:"list-group-item ".concat(l&&l.draggedTo===Number(t)?"dropArea":""),children:e.reactItem},t)}))})})};!function(e){e[e.Empty=0]="Empty",e[e.Number=1]="Number",e[e.Date=2]="Date",e[e.Time=3]="Time",e[e.Checkbox=4]="Checkbox",e[e.Select=5]="Select",e[e.Color=6]="Color",e[e.SelectFile=7]="SelectFile"}(oe||(oe={}));var ve=[{value:"0",title:"Left"},{value:"1",title:"Center"},{value:"2",title:"Right"}],be=[{value:"-1",title:"Default"},{value:"1",title:"Normal"},{value:"2",title:"Alt"}],pe=[{value:"0",title:"Clockwise"},{value:"1",title:"Counter clock"}],Oe=[{value:"0",title:"Circle"},{value:"180",title:"Flat"}],fe=[{value:"0",title:"Circle"},{value:"90",title:"Triangle"},{value:"180",title:"Flat"}],xe=function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,null,[{key:"getImageIndex",value:function(t,n){var a=t-e.startImageIndex;return a>=n?(alert("Bad imageIndex: "+a),0):t}}]),e}();xe.NONE="None",xe.startImageIndex=1,xe.width=348,xe.height=442,xe.deviceId=65;n(28);var ye=function(e){var t=e.title,n=e.value,i=e.onChange,o=Object(a.useContext)(g).images,l=Object(a.useState)(!0),r=Object(s.a)(l,2),c=r[0],d=r[1];function u(e){i(e),d(!0)}var j=[];if(j.push(Object(de.jsx)("option",{value:"None",children:" "},"None")),o)for(var h=function(){var e=o[m];j.push(Object(de.jsxs)("li",{value:e.id,className:"list-group-item fileitem",onClick:function(){return u(e.id)},children:[Object(de.jsx)("img",{src:e.image.src,alt:e.name,width:30}),e.name]},e.id))},m=0;m<o.length;m++)h();return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsxs)("div",{className:"input-group-text dropdown",children:[Object(de.jsx)("div",{children:null!==n&&void 0!==n&&o[n-xe.startImageIndex]?o[n-xe.startImageIndex].name:"None"}),c?"":Object(de.jsx)("ul",{className:"list-group dropdown-content",children:j})]}),Object(de.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){d(!c)},disabled:!o||0===o.length,children:"+"}),Object(de.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){u(null)},disabled:!n,children:"x"})]})},Ie=function(e){var t=e.title,n=e.checked,a=e.onChange,i=e.disabled;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input form-check-input-sm",type:"checkbox",disabled:i,checked:n,onChange:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return a(!n)}))})})]})},Ce=function(e){var t=e.title,n=e.value,a=e.onChange;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("input",{type:"color",className:"form-control form-control-sm",style:{width:40},onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){a(e.target.value)})),id:"colorBackground",value:n,title:"Choose color"})]})},we=function(e){var t=e.title,n=e.value,a=e.onChange,i=e.disabled,o=e.min,l=e.max;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:t}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",value:n,min:o,max:l,onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=parseInt(e.target.value);a(isNaN(t)?0:t)})),disabled:i})]})},Se=function(e){var t=e.title,n=e.value,a=e.onChange,i=e.disabled,o=e.options;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("select",{disabled:i,value:n,className:"form-select form-select-sm",onChange:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return a(e.target.value)})),children:o.map((function(e){return Object(de.jsx)("option",{value:e.value,children:e.title},e.value)}))})]})},De=function(e){var t=e.row;return Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm d-flex ".concat(t.showDelete?"justify-content-between":""),children:[t.blocks.map((function(e){return function(e){var t="";switch(e.type){case oe.Empty:t=Object(de.jsx)("span",{className:"input-group-text",children:e.title});break;case oe.SelectFile:t=Object(de.jsx)(ye,{title:e.title,onChange:e.onChange,value:e.nvalue});break;case oe.Number:t=Object(de.jsx)(we,{title:e.title,onChange:e.onChange,value:e.nvalue,disabled:e.disabled});break;case oe.Checkbox:t=Object(de.jsx)(Ie,{title:e.title,onChange:e.onChange,checked:e.checked,disabled:e.disabled});break;case oe.Select:t=Object(de.jsx)(Se,{title:e.title,onChange:e.onChange,value:e.svalue,disabled:e.disabled,options:e.selectOptions});break;case oe.Color:t=Object(de.jsx)(Ce,{title:e.title,onChange:e.onChange,value:e.svalue})}return t}(e)})),t.showDelete?Object(de.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:t.onDelete,disabled:!t.onDelete,children:"Delete"}):""]})})},ke=function(e){var t=e.ar;return Object(de.jsx)(de.Fragment,{children:t.map((function(e){return e.disabled?"":Object(de.jsx)(De,{row:e})}))})},Me=function(e){var t=e.title,n=e.digit,i=e.onUpdate,o=e.showNoData,l=e.showDecimalPointer,s=e.showDelimiter,r=e.paddingZeroFix,c=e.followDisabled,d=(e.onCopyFromNormal,Object(a.useMemo)((function(){var e,t,a;return h(null===(e=n.json)||void 0===e||null===(t=e.Digit)||void 0===t||null===(a=t.Image)||void 0===a?void 0:a.MultilangImage)}),[n])),u=Object(a.useMemo)((function(){var e,t,a;return h(null===(e=n.json)||void 0===e||null===(t=e.Digit)||void 0===t||null===(a=t.Image)||void 0===a?void 0:a.MultilangImageUnit)}),[n]),g=Object(a.useMemo)((function(){var e,t,a,i,g,j,h,O,F,A,E,U,T,B,Y,X,L,W,R,H,G,_,J,Z,z,Q,V,$,K,q,ee,te,ne,ae,ie,le,se,re,ce,de,ue,ge,je;return[{blocks:[{title:"Image",type:oe.SelectFile,nvalue:null===(e=n.json)||void 0===e||null===(t=e.Digit)||void 0===t||null===(a=t.Image)||void 0===a||null===(i=a.MultilangImage[d])||void 0===i||null===(g=i.ImageSet)||void 0===g?void 0:g.ImageIndex,onChange:m},{title:"Count: ".concat(null===(j=n.json)||void 0===j||null===(h=j.Digit)||void 0===h||null===(O=h.Image)||void 0===O||null===(F=O.MultilangImage[d])||void 0===F||null===(A=F.ImageSet)||void 0===A?void 0:A.ImagesCount),type:oe.Empty}]},{blocks:[{title:"X",type:oe.Number,nvalue:(null===(E=n.json.Digit)||void 0===E||null===(U=E.Image)||void 0===U?void 0:U.X)?n.json.Digit.Image.X:0,onChange:b},{title:"Y",type:oe.Number,nvalue:(null===(T=n.json.Digit)||void 0===T||null===(B=T.Image)||void 0===B?void 0:B.Y)?n.json.Digit.Image.Y:0,onChange:p}]},{blocks:[{title:"Unit",type:oe.SelectFile,nvalue:(null===(Y=n.json)||void 0===Y||null===(X=Y.Digit)||void 0===X||null===(L=X.Image)||void 0===L?void 0:L.MultilangImageUnit)?null===(W=n.json)||void 0===W||null===(R=W.Digit)||void 0===R||null===(H=R.Image)||void 0===H||null===(G=H.MultilangImageUnit[u].ImageSet)||void 0===G?void 0:G.ImageIndex:null,onChange:v}]},{disabled:!o,blocks:[{title:"No data",type:oe.SelectFile,nvalue:null===(_=n.json)||void 0===_||null===(J=_.Digit)||void 0===J||null===(Z=J.Image)||void 0===Z?void 0:Z.NoDataImageIndex,onChange:S}]},{disabled:!s,blocks:[{title:"Minus",type:oe.SelectFile,nvalue:null===(z=n.json)||void 0===z||null===(Q=z.Digit)||void 0===Q||null===(V=Q.Image)||void 0===V?void 0:V.DelimiterImageIndex,onChange:D}]},{disabled:!l,blocks:[{title:"Decimal pointer",type:oe.SelectFile,nvalue:null===($=n.json)||void 0===$||null===(K=$.Digit)||void 0===K||null===(q=K.Image)||void 0===q?void 0:q.DecimalPointImageIndex,onChange:k}]},{disabled:n.json.Digit.DisplayFormAnalog,blocks:[{title:"padding zero",type:oe.Checkbox,checked:(null===(ee=n.json)||void 0===ee||null===(te=ee.Digit)||void 0===te?void 0:te.PaddingZero)||r,onChange:y,disabled:r},{title:"spacing",type:oe.Number,nvalue:(null===(ne=n.json)||void 0===ne||null===(ae=ne.Digit)||void 0===ae?void 0:ae.Spacing)?n.json.Digit.Spacing:0,onChange:w}]},{disabled:n.json.Digit.DisplayFormAnalog,blocks:[{title:"follow",type:oe.Checkbox,checked:(null===(ie=n.json)||void 0===ie?void 0:ie.CombingMode)===x.Follow.json,onChange:C,disabled:c},{title:"alignment",type:oe.Select,svalue:f.fromJson(null===(le=n.json)||void 0===le||null===(se=le.Digit)||void 0===se?void 0:se.Alignment).toString(),selectOptions:ve,onChange:I}]},{disabled:n.json.Digit.DisplayFormAnalog,blocks:[{title:"Separator",type:oe.SelectFile,nvalue:null===(re=n.json)||void 0===re||null===(ce=re.Separator)||void 0===ce?void 0:ce.ImageIndex,onChange:M},{title:"X",type:oe.Number,nvalue:(null===(de=n.json.Separator)||void 0===de||null===(ue=de.Coordinates)||void 0===ue?void 0:ue.X)?n.json.Separator.Coordinates.X:0,onChange:N},{title:"Y",type:oe.Number,nvalue:(null===(ge=n.json.Separator)||void 0===ge||null===(je=ge.Coordinates)||void 0===je?void 0:je.Y)?n.json.Separator.Coordinates.Y:0,onChange:P}]}]}),[n]);function h(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t>=0?t:0}function m(e){var t=Object(j.a)({},n);if(t.json.Digit.Image.MultilangImage||(t.json.Digit.Image.MultilangImage=[]),t.json.Digit.Image.MultilangImage[d])t.json.Digit.Image.MultilangImage[d].ImageSet.ImageIndex=e;else{var a=t.json.Digit.Image.MultilangImage.push(new R);t.json.Digit.Image.MultilangImage[a-1].LangCode=O.All.json,t.json.Digit.Image.MultilangImage[a-1].ImageSet.ImageIndex=e,t.json.Digit.Image.MultilangImage[a-1].ImageSet.ImagesCount=t.con.count}i(t)}function v(e){var t=Object(j.a)({},n);if(t.json.Digit.Image.MultilangImageUnit||(t.json.Digit.Image.MultilangImageUnit=[]),t.json.Digit.Image.MultilangImageUnit[d])t.json.Digit.Image.MultilangImageUnit[d].ImageSet.ImageIndex=e;else{var a=t.json.Digit.Image.MultilangImageUnit.push(new R);t.json.Digit.Image.MultilangImageUnit[a-1].LangCode=O.All.json,t.json.Digit.Image.MultilangImageUnit[a-1].ImageSet.ImageIndex=e,t.json.Digit.Image.MultilangImageUnit[a-1].ImageSet.ImagesCount=1}i(t)}function b(e){var t=Object(j.a)({},n);t.json.Digit.Image.X=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Digit.Image.Y=e,i(t)}function y(e){var t=Object(j.a)({},n);t.json.Digit.PaddingZero=e,i(t)}function I(e){var t=Object(j.a)({},n);t.json.Digit.Alignment=f.toJson(parseInt(e)),i(t)}function C(e){var t=Object(j.a)({},n);t.json.CombingMode=e?x.Follow.json:x.Single.json,i(t)}function w(e){var t=Object(j.a)({},n);t.json.Digit.Spacing=e,i(t)}function S(e){var t=Object(j.a)({},n);t.json.Digit.Image.NoDataImageIndex=e,i(t)}function D(e){var t=Object(j.a)({},n);t.json.Digit.Image.DelimiterImageIndex=e,i(t)}function k(e){var t=Object(j.a)({},n);t.json.Digit.Image.DecimalPointImageIndex=e,i(t)}function M(e){var t=Object(j.a)({},n);e?(t.json.Separator||(t.json.Separator=new F),t.json.Separator.ImageIndex=e):t.json.Separator=null,i(t)}function N(e){var t=Object(j.a)({},n);t.json.Separator||(t.json.Separator=new F),t.json.Separator.Coordinates.X=e,i(t)}function P(e){var t=Object(j.a)({},n);t.json.Separator||(t.json.Separator=new F),t.json.Separator.Coordinates.Y=e,i(t)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabledImage,onChange:function(){var e=Object(j.a)({},n);if(e.enabledImage=!e.enabledImage,e.enabled=e.enabledImage||e.enabledSystemFont,!e.json.Digit.Image){e.json.Digit.Image=new Y;var t=new R;t.ImageSet.ImagesCount=e.con.count,e.json.Digit.DisplayFormAnalog=e.con.displayAnalog,e.json.Digit.Image.MultilangImage[0]=t}i(e)}})})]})}),n.enabledImage?Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:g})}):""]})},Fe=function(e){var t=e.title,n=e.digit,i=e.onUpdate,o=e.paddingZeroFix,l=e.onCopyFromNormal,s=e.followDisabled,r=Object(a.useMemo)((function(){var e,t,a,i,l,r,j,y,I,C,w,S,D,k,M,F,N,P,A,E,U,T,B,Y;return[{blocks:[{title:"X",type:oe.Number,nvalue:(null===(e=n.json.Digit)||void 0===e||null===(t=e.SystemFont)||void 0===t||null===(a=t.Coordinates)||void 0===a?void 0:a.X)?n.json.Digit.SystemFont.Coordinates.X:0,onChange:d},{title:"Y",type:oe.Number,nvalue:(null===(i=n.json.Digit)||void 0===i||null===(l=i.SystemFont)||void 0===l||null===(r=l.Coordinates)||void 0===r?void 0:r.Y)?n.json.Digit.SystemFont.Coordinates.Y:0,onChange:u},{title:"Color",type:oe.Color,svalue:(null===(j=n.json.Digit)||void 0===j||null===(y=j.SystemFont)||void 0===y?void 0:y.Color)?b.colorRead(n.json.Digit.SystemFont.Color):b.DEFAULT_COLOR,onChange:c}]},{blocks:[{title:"Size",type:oe.Number,nvalue:(null===(I=n.json.Digit)||void 0===I||null===(C=I.SystemFont)||void 0===C?void 0:C.Size)?n.json.Digit.SystemFont.Size:0,onChange:v},{title:"Angle",type:oe.Number,nvalue:(null===(w=n.json.Digit)||void 0===w||null===(S=w.SystemFont)||void 0===S?void 0:S.Angle)?n.json.Digit.SystemFont.Angle:0,onChange:p}]},{blocks:[{title:"padding zero",type:oe.Checkbox,checked:(null===(D=n.json)||void 0===D||null===(k=D.Digit)||void 0===k?void 0:k.PaddingZero)||o,onChange:g,disabled:o},{title:"follow",type:oe.Checkbox,checked:(null===(M=n.json)||void 0===M?void 0:M.CombingMode)===x.Follow.json,onChange:h,disabled:s},{title:"spacing",type:oe.Number,nvalue:(null===(F=n.json)||void 0===F||null===(N=F.Digit)||void 0===N?void 0:N.Spacing)?n.json.Digit.Spacing:0,onChange:m}]},{blocks:[{title:"Unit",type:oe.Select,svalue:(null===(P=n.json)||void 0===P||null===(A=P.Digit)||void 0===A||null===(E=A.SystemFont)||void 0===E?void 0:E.ShowUnitCheck)?null===(U=n.json)||void 0===U||null===(T=U.Digit)||void 0===T||null===(B=T.SystemFont.ShowUnitCheck)||void 0===B?void 0:B.toString():"-1",onChange:f,selectOptions:be},{title:"Separator",type:oe.Checkbox,checked:!!(null===(Y=n.json)||void 0===Y?void 0:Y.Separator),onChange:O}]}]}),[n]);function c(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Color=b.colorWrite(e),i(t)}function d(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Coordinates.X=e,i(t)}function u(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Coordinates.Y=e,i(t)}function g(e){var t=Object(j.a)({},n);t.json.Digit.PaddingZero=e,i(t)}function h(e){var t=Object(j.a)({},n);t.json.CombingMode=e?x.Follow.json:x.Single.json,i(t)}function m(e){var t=Object(j.a)({},n);t.json.Digit.Spacing=e,i(t)}function v(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Size=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Angle=e,i(t)}function O(){var e=Object(j.a)({},n);e.json.Separator?e.json.Separator=null:(e.json.Separator=new F,e.json.Separator.Coordinates.X=-1,e.json.Separator.Coordinates.Y=-1),i(e)}function f(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.ShowUnitCheck=parseInt(e),i(t)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabledSystemFont,onChange:function(){var e=Object(j.a)({},n);e.enabledSystemFont=!e.enabledSystemFont,e.enabled=e.enabledImage||e.enabledSystemFont,e.json.Digit.SystemFont||(e.json.Digit.SystemFont=new X,e.json.Digit.SystemFont.Coordinates=new k),i(e)}})})]})}),n.enabledSystemFont?Object(de.jsxs)(je.a.Body,{children:[l?Object(de.jsx)("div",{style:{clear:"both"},children:Object(de.jsx)("button",{className:"btn btn-sm btn-secondary mb-1",style:{float:"right"},onClick:l,children:"Copy from normal screen"})}):"",Object(de.jsx)(ke,{ar:r})]}):""]})},Ne=function(e){var t=e.title,n=e.digit,i=e.onUpdate,o=e.paddingZeroFix,l=e.onCopyFromNormal,s=e.followDisabled,r=Object(a.useMemo)((function(){var e,t,a,i,l,r,j,C,w,S,D,k,M,F,N,P,A,E,U,T,B,Y,X,L,W,R,H,G,_,J,Z;return[{blocks:[{title:"X",type:oe.Number,nvalue:(null===(e=n.json.Digit)||void 0===e||null===(t=e.SystemFont)||void 0===t||null===(a=t.FontRotate)||void 0===a?void 0:a.X)?n.json.Digit.SystemFont.FontRotate.X:0,onChange:c},{title:"Y",type:oe.Number,nvalue:(null===(i=n.json.Digit)||void 0===i||null===(l=i.SystemFont)||void 0===l||null===(r=l.FontRotate)||void 0===r?void 0:r.Y)?n.json.Digit.SystemFont.FontRotate.Y:0,onChange:d},{title:"Color",type:oe.Color,svalue:(null===(j=n.json.Digit)||void 0===j||null===(C=j.SystemFont)||void 0===C?void 0:C.Color)?b.colorRead(n.json.Digit.SystemFont.Color):b.DEFAULT_COLOR,onChange:u}]},{blocks:[{title:"Size",type:oe.Number,nvalue:(null===(w=n.json.Digit)||void 0===w||null===(S=w.SystemFont)||void 0===S?void 0:S.Size)?n.json.Digit.SystemFont.Size:0,onChange:v},{title:"Radius",type:oe.Number,nvalue:(null===(D=n.json.Digit)||void 0===D||null===(k=D.SystemFont)||void 0===k||null===(M=k.FontRotate)||void 0===M?void 0:M.Radius)?n.json.Digit.SystemFont.FontRotate.Radius:0,onChange:p}]},{blocks:[{title:"Angle",type:oe.Number,nvalue:(null===(F=n.json.Digit)||void 0===F||null===(N=F.SystemFont)||void 0===N?void 0:N.Angle)?n.json.Digit.SystemFont.Angle:0,onChange:O},{title:"Direction",type:oe.Select,svalue:(null===(P=n.json)||void 0===P||null===(A=P.Digit)||void 0===A||null===(E=A.SystemFont)||void 0===E||null===(U=E.FontRotate)||void 0===U?void 0:U.RotateDirection)?n.json.Digit.SystemFont.FontRotate.RotateDirection.toString():"0",onChange:I,selectOptions:pe}]},{blocks:[{title:"padding zero",type:oe.Checkbox,checked:(null===(T=n.json)||void 0===T||null===(B=T.Digit)||void 0===B?void 0:B.PaddingZero)||o,onChange:g,disabled:o},{title:"follow",type:oe.Checkbox,checked:(null===(Y=n.json)||void 0===Y?void 0:Y.CombingMode)===x.Follow.json,onChange:h,disabled:s},{title:"spacing",type:oe.Number,nvalue:(null===(X=n.json)||void 0===X||null===(L=X.Digit)||void 0===L?void 0:L.Spacing)?n.json.Digit.Spacing:0,onChange:m}]},{blocks:[{title:"Unit",type:oe.Select,svalue:(null===(W=n.json)||void 0===W||null===(R=W.Digit)||void 0===R||null===(H=R.SystemFont)||void 0===H?void 0:H.ShowUnitCheck)?null===(G=n.json)||void 0===G||null===(_=G.Digit)||void 0===_||null===(J=_.SystemFont.ShowUnitCheck)||void 0===J?void 0:J.toString():"-1",onChange:y,selectOptions:be},{title:"Separator",type:oe.Checkbox,checked:!!(null===(Z=n.json)||void 0===Z?void 0:Z.Separator),onChange:f}]}]}),[n]);function c(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.X=e,i(t)}function d(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.Y=e,i(t)}function u(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Color=b.colorWrite(e),i(t)}function g(e){var t=Object(j.a)({},n);t.json.Digit.PaddingZero=e,i(t)}function h(e){var t=Object(j.a)({},n);t.json.CombingMode=e?x.Follow.json:x.Single.json,i(t)}function m(e){var t=Object(j.a)({},n);t.json.Digit.Spacing=e,i(t)}function v(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Size=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.Radius=e,i(t)}function O(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.Angle=e,i(t)}function f(){var e=Object(j.a)({},n);e.json.Separator?e.json.Separator=null:(e.json.Separator=new F,e.json.Separator.Coordinates.X=-1,e.json.Separator.Coordinates.Y=-1),i(e)}function y(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.ShowUnitCheck=parseInt(e),i(t)}function I(e){var t=Object(j.a)({},n);t.json.Digit.SystemFont.FontRotate.RotateDirection=parseInt(e),i(t)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabledSystemFontCircle,onChange:function(){var e=Object(j.a)({},n);e.enabledSystemFontCircle=!e.enabledSystemFontCircle,e.enabled=e.enabledImage||e.enabledSystemFont||e.enabledSystemFontCircle,e.json.Digit.SystemFont||(e.json.Digit.SystemFont=new X),e.json.Digit.SystemFont.FontRotate||(e.json.Digit.SystemFont.FontRotate=new L),i(e)}})})]})}),n.enabledSystemFontCircle?Object(de.jsxs)(je.a.Body,{children:[l?Object(de.jsx)("div",{style:{clear:"both"},children:Object(de.jsx)("button",{className:"btn btn-sm btn-secondary mb-1",style:{float:"right"},onClick:l,children:"Copy from normal screen"})}):"",Object(de.jsx)(ke,{ar:r})]}):""]})},Pe=function(e){var t=e.digit,n=e.title,a=e.onUpdate,i=e.showDecimalPointer,o=e.showDelimiter,l=e.showNoData,s=e.paddingZeroFix;return Object(de.jsxs)("div",{children:[Object(de.jsx)(Me,{title:"Numerical (".concat(n,")"),digit:t,onUpdate:a,showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}),Object(de.jsx)(Fe,{title:"Systemfont Rotated (".concat(n,")"),digit:t,onUpdate:a,paddingZeroFix:s}),Object(de.jsx)(Ne,{title:"Systemfont Circle (".concat(n,")"),digit:t,onUpdate:a,paddingZeroFix:s})]})},Ae=function(e){var t=e.title,n=e.clockHand,i=e.onUpdate,o=e.showAngle,l=e.onCopyFromNormal,s=Object(a.useMemo)((function(){var e,t;return function(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t||0}(null===(e=n.json)||void 0===e||null===(t=e.Scale)||void 0===t?void 0:t.ImageSet)}),[n]),r=Object(a.useMemo)((function(){var e,t,a,i,l,r,j,O,C,w,S,D,k,M,F,N,P,A,E,U,T,B,Y,X,L,W,R,H,G,_,J,Z,z,Q,V,$,K,q,ee,te,ne,ae,ie,le,se,re,ce,de,ue;return[{blocks:[{title:"Pointer",type:oe.SelectFile,nvalue:null===(e=n.json)||void 0===e||null===(t=e.Pointer)||void 0===t?void 0:t.ImageIndex,onChange:u}]},{blocks:[{title:"Center of rotation",type:oe.Empty},{title:"X",type:oe.Number,nvalue:(null===(a=n.json)||void 0===a?void 0:a.X)?n.json.X:0,onChange:g},{title:"Y",type:oe.Number,nvalue:(null===(i=n.json)||void 0===i?void 0:i.Y)?null===(l=n.json)||void 0===l?void 0:l.Y:0,onChange:h}]},{blocks:[{title:"Pointer offset",type:oe.Empty},{title:"X",type:oe.Number,nvalue:(null===(r=n.json)||void 0===r||null===(j=r.Pointer)||void 0===j||null===(O=j.Coordinates)||void 0===O?void 0:O.X)?null===(C=n.json)||void 0===C||null===(w=C.Pointer)||void 0===w||null===(S=w.Coordinates)||void 0===S?void 0:S.X:0,onChange:m},{title:"Y",type:oe.Number,nvalue:(null===(D=n.json)||void 0===D||null===(k=D.Pointer)||void 0===k||null===(M=k.Coordinates)||void 0===M?void 0:M.Y)?null===(F=n.json)||void 0===F||null===(N=F.Pointer)||void 0===N||null===(P=N.Coordinates)||void 0===P?void 0:P.Y:0,onChange:v}]},{blocks:[{title:"Cover",type:oe.SelectFile,nvalue:null===(A=n.json)||void 0===A||null===(E=A.Cover)||void 0===E?void 0:E.ImageIndex,onChange:b},{title:"X",type:oe.Number,nvalue:(null===(U=n.json)||void 0===U||null===(T=U.Cover)||void 0===T||null===(B=T.Coordinates)||void 0===B?void 0:B.X)?null===(Y=n.json)||void 0===Y||null===(X=Y.Cover)||void 0===X||null===(L=X.Coordinates)||void 0===L?void 0:L.X:0,onChange:p},{title:"Y",type:oe.Number,nvalue:(null===(W=n.json)||void 0===W||null===(R=W.Cover)||void 0===R||null===(H=R.Coordinates)||void 0===H?void 0:H.Y)?null===(G=n.json)||void 0===G||null===(_=G.Cover)||void 0===_||null===(J=_.Coordinates)||void 0===J?void 0:J.Y:0,onChange:f}]},{blocks:[{title:"Scale",type:oe.SelectFile,nvalue:null===(Z=n.json)||void 0===Z||null===(z=Z.Scale)||void 0===z||null===(Q=z.ImageSet[s])||void 0===Q||null===(V=Q.ImageSet)||void 0===V?void 0:V.ImageIndex,onChange:x},{title:"X",type:oe.Number,nvalue:(null===($=n.json)||void 0===$||null===(K=$.Scale)||void 0===K||null===(q=K.Coordinates)||void 0===q?void 0:q.X)?null===(ee=n.json)||void 0===ee||null===(te=ee.Scale)||void 0===te||null===(ne=te.Coordinates)||void 0===ne?void 0:ne.X:0,onChange:y},{title:"Y",type:oe.Number,nvalue:(null===(ae=n.json)||void 0===ae||null===(ie=ae.Scale)||void 0===ie||null===(le=ie.Coordinates)||void 0===le?void 0:le.Y)?null===(se=n.json)||void 0===se||null===(re=se.Scale)||void 0===re||null===(ce=re.Coordinates)||void 0===ce?void 0:ce.Y:0,onChange:I}]},{disabled:!o,blocks:[{title:"Start angle",type:oe.Number,nvalue:null===(de=n.json)||void 0===de?void 0:de.StartAngle,onChange:d},{title:"End angle",type:oe.Number,nvalue:null===(ue=n.json)||void 0===ue?void 0:ue.EndAngle,onChange:c}]}]}),[n]);function c(e){var t=Object(j.a)({},n);t.json.EndAngle=e,i(t)}function d(e){var t=Object(j.a)({},n);t.json.StartAngle=e,i(t)}function u(e){var t=Object(j.a)({},n);t.json.Pointer||(t.json.Pointer=new F),t.json.Pointer.ImageIndex=e,i(t)}function g(e){var t=Object(j.a)({},n);t.json.X=e,i(t)}function h(e){var t=Object(j.a)({},n);t.json.Y=e,i(t)}function m(e){var t=Object(j.a)({},n);t.json.Pointer||(t.json.Pointer=new F),t.json.Pointer.Coordinates||(t.json.Pointer.Coordinates=new k),t.json.Pointer.Coordinates.X=e,i(t)}function v(e){var t=Object(j.a)({},n);t.json.Pointer||(t.json.Pointer=new F),t.json.Pointer.Coordinates||(t.json.Pointer.Coordinates=new k),t.json.Pointer.Coordinates.Y=e,i(t)}function b(e){var t=Object(j.a)({},n);t.json.Cover||(t.json.Cover=new F),t.json.Cover.ImageIndex=e,i(t)}function p(e){var t=Object(j.a)({},n);t.json.Cover||(t.json.Cover=new F),t.json.Cover.Coordinates||(t.json.Cover.Coordinates=new k),t.json.Cover.Coordinates.X=e,i(t)}function f(e){var t=Object(j.a)({},n);t.json.Cover||(t.json.Cover=new F),t.json.Cover.Coordinates||(t.json.Cover.Coordinates=new k),t.json.Cover.Coordinates.Y=e,i(t)}function x(e){var t=Object(j.a)({},n);t.json.Scale?t.json.Scale.ImageSet[s].ImageSet.ImageIndex=e:(t.json.Scale=new T,t.json.Scale.ImageSet[0].ImageSet.ImageIndex=e),i(t)}function y(e){var t=Object(j.a)({},n);t.json.Scale||(t.json.Scale=new T),t.json.Scale.Coordinates||(t.json.Scale.Coordinates=new k),t.json.Scale.Coordinates.X=e,i(t)}function I(e){var t=Object(j.a)({},n);t.json.Scale||(t.json.Scale=new T),t.json.Scale.Coordinates||(t.json.Scale.Coordinates=new k),t.json.Scale.Coordinates.Y=e,i(t)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabled,onChange:function(e){var t=Object(j.a)({},n);t.enabled=!t.enabled,t.enabled&&!t.json&&(t.json=new U,t.json.StartAngle=0,t.json.EndAngle=360),i(t)}})})]})}),n.enabled?Object(de.jsxs)(je.a.Body,{children:[l?Object(de.jsx)("div",{style:{clear:"both"},children:Object(de.jsx)("button",{className:"btn btn-sm btn-secondary mb-1",style:{float:"right"},onClick:l,children:"Copy from normal screen"})}):"",Object(de.jsx)(ke,{ar:r})]}):""]})},Ee=function(e){var t=e.title,n=e.imageCoords,i=e.onUpdate,o=Object(a.useMemo)((function(){return[{blocks:[{title:"Image",type:oe.SelectFile,nvalue:n.json.ImageIndex,onChange:l},{title:"X",type:oe.Number,nvalue:n.json.Coordinates.X,onChange:s},{title:"Y",type:oe.Number,nvalue:n.json.Coordinates.Y,onChange:r}]}]}),[n]);function l(e){var t=Object(j.a)({},n);t.json.ImageIndex=e,i(t)}function s(e){var t=Object(j.a)({},n);t.json.Coordinates.X=e,i(t)}function r(e){var t=Object(j.a)({},n);t.json.Coordinates.Y=e,i(t)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabled,onChange:function(){var e=Object(j.a)({},n);e.enabled=!e.enabled,i(e)}})})]})}),n.enabled?Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:o})}):""]})},Ue=function(e){var t=e.imageProgress,n=e.onUpdate,i=Object(a.useMemo)((function(){var e,n,a,i;return[{blocks:[{title:"Image",type:oe.SelectFile,nvalue:null===(e=t.json)||void 0===e||null===(n=e.ImageSet)||void 0===n?void 0:n.ImageIndex,onChange:o},{title:"Count",type:oe.Number,nvalue:null===(a=t.json)||void 0===a||null===(i=a.ImageSet)||void 0===i?void 0:i.ImagesCount,onChange:l}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.json.ImageSet.ImageIndex=e,n(a)}function l(e){var a=Object(j.a)({},t);a.json.ImageSet.ImagesCount=e,n(a)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Image Progress"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:t.enabled,onChange:function(){var e=Object(j.a)({},t);e.enabled=!e.enabled,n(e)}})})]})}),t.enabled?Object(de.jsxs)(je.a.Body,{children:[Object(de.jsx)(ke,{ar:i}),Object(de.jsxs)(je.a,{className:"mt-1",children:[Object(de.jsxs)(je.a.Header,{className:"input-group input-group-sm d-flex justify-content-between",children:[Object(de.jsx)("span",{children:"Coordinates"}),Object(de.jsx)("button",{className:"btn btn-outline-success",type:"button",title:"add coordinates",onClick:function(){var e=Object(j.a)({},t),a=new k;a.X=e.json.Coordinates.length>0?e.json.Coordinates[e.json.Coordinates.length-1].X:0,a.Y=e.json.Coordinates.length>0?e.json.Coordinates[e.json.Coordinates.length-1].Y:0,e.json.Coordinates.push(a),n(e)},children:"Add"})]}),Object(de.jsx)(ke,{ar:t.json.Coordinates.map((function(e,a){return{blocks:[{title:"".concat(a),type:oe.Empty},{title:"X",type:oe.Number,nvalue:e.X?e.X:0,onChange:function(e){return function(e,a){var i=Object(j.a)({},t);i.json.Coordinates[a].X=e,n(i)}(e,a)}},{title:"Y",type:oe.Number,nvalue:e.Y?e.Y:0,onChange:function(e){return function(e,a){var i=Object(j.a)({},t);i.json.Coordinates[a].Y=e,n(i)}(e,a)}}],onDelete:a>0?function(){return function(e){var a=Object(j.a)({},t);a.json.Coordinates.splice(e,1),n(a)}(a)}:null,showDelete:!0}}))})]})]}):""]})},Te=function(e){var t=e.progressBar,n=e.onUpdate,i=Object(a.useMemo)((function(){var e,n,a,i,j,p,O,f,x,y,I,C,w,S,D,k;return[{blocks:[{title:"Center",type:oe.Empty},{title:"X",type:oe.Number,nvalue:(null===(e=t.jsonObj)||void 0===e||null===(n=e.AngleSettings)||void 0===n?void 0:n.X)?t.jsonObj.AngleSettings.X:0,onChange:l},{title:"Y",type:oe.Number,nvalue:(null===(a=t.jsonObj)||void 0===a||null===(i=a.AngleSettings)||void 0===i?void 0:i.Y)?t.jsonObj.AngleSettings.Y:0,onChange:s}]},{blocks:[{title:"Radius",type:oe.Number,nvalue:(null===(j=t.jsonObj)||void 0===j||null===(p=j.AngleSettings)||void 0===p?void 0:p.Radius)?t.jsonObj.AngleSettings.Radius:0,onChange:r},{title:"Width",type:oe.Number,nvalue:(null===(O=t.jsonObj)||void 0===O?void 0:O.Width)?t.jsonObj.Width:0,onChange:c,min:0,max:100}]},{blocks:[{title:"Start angle",type:oe.Number,nvalue:(null===(f=t.jsonObj)||void 0===f||null===(x=f.AngleSettings)||void 0===x?void 0:x.StartAngle)?t.jsonObj.AngleSettings.StartAngle:0,onChange:d},{title:"End angle",type:oe.Number,nvalue:(null===(y=t.jsonObj)||void 0===y||null===(I=y.AngleSettings)||void 0===I?void 0:I.EndAngle)?t.jsonObj.AngleSettings.EndAngle:0,onChange:u}]},{blocks:[{title:"Foreground",type:oe.SelectFile,nvalue:null===(C=t.jsonObj)||void 0===C?void 0:C.ForegroundImageIndex,onChange:g},{title:"Color",type:oe.Color,svalue:(null===(w=t.jsonObj)||void 0===w?void 0:w.Color)?b.colorRead(t.jsonObj.Color):b.DEFAULT_COLOR,onChange:h}]},{blocks:[{title:"Line ending",type:oe.Select,svalue:(null===(S=t.jsonObj)||void 0===S?void 0:S.Flatness)?t.jsonObj.Flatness.toString():"0",onChange:o,selectOptions:fe}]},{blocks:[{title:"Pointer",type:oe.SelectFile,nvalue:null===(D=t.jsonObj)||void 0===D?void 0:D.PointerImageIndex,onChange:m},{title:"Background image",type:oe.SelectFile,nvalue:null===(k=t.jsonObj)||void 0===k?void 0:k.BackgroundImageIndex,onChange:v}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.jsonObj.Flatness=parseInt(e),n(a)}function l(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.X=e,n(a)}function s(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.Y=e,n(a)}function r(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.Radius=Math.abs(e),n(a)}function c(e){var a=Object(j.a)({},t);a.jsonObj.Width=Math.max(0,Math.min(e,100)),n(a)}function d(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.StartAngle=e,n(a)}function u(e){var a=Object(j.a)({},t);a.jsonObj.AngleSettings.EndAngle=e,n(a)}function g(e){var a=Object(j.a)({},t);a.jsonObj.ForegroundImageIndex=e,n(a)}function h(e){var a=Object(j.a)({},t);a.jsonObj.Color=b.colorWrite(e),n(a)}function m(e){var a=Object(j.a)({},t);a.jsonObj.PointerImageIndex=e,n(a)}function v(e){var a=Object(j.a)({},t);a.jsonObj.BackgroundImageIndex=e,n(a)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Progress circle"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:t.enabledCircle,onChange:function(){var e=Object(j.a)({},t);e.enabledCircle=!e.enabledCircle,e.jsonObj||(e.jsonObj=new P),e.jsonObj.AngleSettings||(e.jsonObj.AngleSettings=new E),n(e)}})})]})}),t.enabledCircle?Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:i})}):""]})},Be=function(e){var t=e.progressBar,n=e.onUpdate,i=Object(a.useMemo)((function(){var e,n,a,i,j,m,v,p,O,f,x,y;return[{blocks:[{title:"X",type:oe.Number,nvalue:(null===(e=t.jsonObj)||void 0===e||null===(n=e.LinearSettings)||void 0===n?void 0:n.StartX)?t.jsonObj.LinearSettings.StartX:0,onChange:o},{title:"Y",type:oe.Number,nvalue:(null===(a=t.jsonObj)||void 0===a||null===(i=a.LinearSettings)||void 0===i?void 0:i.StartY)?t.jsonObj.LinearSettings.StartY:0,onChange:l}]},{blocks:[{title:"Length",type:oe.Number,nvalue:(null===(j=t.jsonObj)||void 0===j||null===(m=j.LinearSettings)||void 0===m?void 0:m.EndX)?t.jsonObj.LinearSettings.EndX-t.jsonObj.LinearSettings.StartX:0,onChange:s},{title:"Width",type:oe.Number,nvalue:(null===(v=t.jsonObj)||void 0===v?void 0:v.Width)?t.jsonObj.Width:0,onChange:r,min:0}]},{blocks:[{title:"Foreground",type:oe.SelectFile,nvalue:null===(p=t.jsonObj)||void 0===p?void 0:p.ForegroundImageIndex,onChange:c},{title:"Color",type:oe.Color,svalue:(null===(O=t.jsonObj)||void 0===O?void 0:O.Color)?b.colorRead(t.jsonObj.Color):b.DEFAULT_COLOR,onChange:d}]},{blocks:[{title:"Line ending",type:oe.Select,svalue:(null===(f=t.jsonObj)||void 0===f?void 0:f.Flatness)?t.jsonObj.Flatness.toString():"0",onChange:h,selectOptions:Oe}]},{blocks:[{title:"Pointer",type:oe.SelectFile,nvalue:null===(x=t.jsonObj)||void 0===x?void 0:x.PointerImageIndex,onChange:u},{title:"Background image",type:oe.SelectFile,nvalue:null===(y=t.jsonObj)||void 0===y?void 0:y.BackgroundImageIndex,onChange:g}]}]}),[t]);function o(e){var a=Object(j.a)({},t);a.jsonObj.LinearSettings.StartX=e,n(a)}function l(e){var a=Object(j.a)({},t);a.jsonObj.LinearSettings.StartY=e,a.jsonObj.LinearSettings.EndY=e,n(a)}function s(e){var a,i,o=Object(j.a)({},t),l=(null===(a=o.jsonObj)||void 0===a||null===(i=a.LinearSettings)||void 0===i?void 0:i.StartX)?o.jsonObj.LinearSettings.StartX:0;o.jsonObj.LinearSettings.EndX=l+Math.abs(e),n(o)}function r(e){var a=Object(j.a)({},t);a.jsonObj.Width=Math.max(0,e),n(a)}function c(e){var a=Object(j.a)({},t);a.jsonObj.ForegroundImageIndex=e,n(a)}function d(e){var a=Object(j.a)({},t);a.jsonObj.Color=b.colorWrite(e),n(a)}function u(e){var a=Object(j.a)({},t);a.jsonObj.PointerImageIndex=e,n(a)}function g(e){var a=Object(j.a)({},t);a.jsonObj.BackgroundImageIndex=e,n(a)}function h(e){var a=Object(j.a)({},t),i=parseInt(e);isNaN(i)?a.jsonObj.Flatness=0:a.jsonObj.Flatness=i,n(a)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Progress linear"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:t.enabledLinear,onChange:function(){var e=Object(j.a)({},t);e.enabledLinear=!e.enabledLinear,e.jsonObj||(e.jsonObj=new P),e.jsonObj.LinearSettings||(e.jsonObj.LinearSettings=new A),n(e)}})})]})}),t.enabledLinear?Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:i})}):""]})},Ye=function(e){var t=e.activity,n=e.title,a=e.onUpdateActivity,i=e.showDecimalPointer,o=e.showDelimiter,l=e.showNoData,s=e.paddingZeroFix,r=e.showProgress,c=e.onCopy,d=e.onDelete,u=e.titleDefault,g=e.titleMin,h=e.titleMax;return Object(de.jsxs)(je.a,{className:"activity w-100",children:[Object(de.jsxs)(je.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},t);e.collapsed=!e.collapsed,a(e)},children:[Object(de.jsx)("span",{className:"input-group-text",children:n}),Object(de.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:function(e){e.stopPropagation(),d(e)},children:"Delete"})]}),t.collapsed?"":Object(de.jsxs)(je.a.Body,{children:[c?Object(de.jsx)("button",{className:"btn btn-outline-secondary btn-sm mr-0",onClick:c,children:"Copy from normal screen"}):"",Object(de.jsx)(Pe,{digit:t.digit,title:u||n,onUpdate:function(e){var n=Object(j.a)({},t);n.digit=Object(j.a)({},e),a(n)},showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}),g?Object(de.jsx)(Pe,{digit:t.digitMin,title:g,onUpdate:function(e){var n=Object(j.a)({},t);n.digitMin=Object(j.a)({},e),a(n)},showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}):"",h?Object(de.jsx)(Pe,{digit:t.digitMax,title:h,onUpdate:function(e){var n=Object(j.a)({},t);n.digitMax=Object(j.a)({},e),a(n)},showDecimalPointer:i,showDelimiter:o,showNoData:l,paddingZeroFix:s}):"",void 0===r||!0===r?Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Ue,{imageProgress:t.imageProgress,onUpdate:function(e){var n=Object(j.a)({},t);n.imageProgress=e,a(n)}}),Object(de.jsx)(Te,{progressBar:t.progressBar,onUpdate:function(e){var n=Object(j.a)({},t);n.progressBar=e,a(n)}}),Object(de.jsx)(Be,{progressBar:t.progressBar,onUpdate:function(e){var n=Object(j.a)({},t);n.progressBar=e,a(n)}}),Object(de.jsx)(Ae,{title:"Pointer Progress",clockHand:t.pointerProgress,onUpdate:function(e){var n=Object(j.a)({},t);n.pointerProgress=e,a(n)},showAngle:!0})]}):"",t.icon?Object(de.jsx)(Ee,{title:"Icon",imageCoords:t.icon,onUpdate:function(e){var n=Object(j.a)({},t);n.icon=e,a(n)}}):""]})]})},Xe=function(e){var t=e.activitys,n=e.onUpdate,i=e.collapsed,o=e.setCollapsed,l=Object(a.useState)(S.Battery.index),r=Object(s.a)(l,2),c=r[0],d=r[1];return Object(de.jsxs)(je.a,{children:[Object(de.jsxs)(je.a.Header,{className:"d-flex justify-content-between align-items-center",title:"Click to open / close",onClick:function(){o(!i)},children:["Activity [",null===t||void 0===t?void 0:t.length,"]",Object(de.jsxs)("span",{className:"d-flex flex-nowrap",children:[Object(de.jsx)("select",{className:"form-select",onChange:function(e){return d(parseInt(e.target.value))},onClick:function(e){return e.stopPropagation()},value:c,children:Object.keys(S).map((function(e){return S[e]instanceof p?Object(de.jsx)("option",{value:S[e].index,children:S[e].json},S[e].index):""}))}),Object(de.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(e){if(e.stopPropagation(),c){var a=ae(null,S.findByIndex(c));if(a){var i=Object(ge.a)(t);i.push(a),n(i)}}},children:"Add"})]})]}),i?"":Object(de.jsx)(je.a.Body,{children:(null===t||void 0===t?void 0:t.length)>0?Object(de.jsx)(me,{_list:t.map((function(e,a){return{item:e,reactItem:Object(de.jsx)(Ye,{activity:e,onUpdateActivity:function(e){return function(e,a){var i=Object(ge.a)(t);i[e]=Object(j.a)({},a),n(i)}(a,e)},onDelete:function(e){return function(e,a){if(e.stopPropagation(),window.confirm('would you delete this "'.concat(t[a].digit.con.title,'" activity?'))){var i=Object(ge.a)(t);i.splice(a,1),n(i)}}(e,a)},showNoData:!0,showDecimalPointer:e.type===S.Distance,showProgress:e.type!==S.Distance,showDelimiter:e.type===S.Weather,title:e.digit?e.digit.con.title:null,titleDefault:e.digit?e.digit.con.titleDefault:null,titleMin:e.digitMin?e.digitMin.con.titleMin:null,titleMax:e.digitMax?e.digitMax.con.titleMax:null},e.key)}})),updateOrder:function(e){var t=e.map((function(e){return e.item}));n(t)}}):"no activitys addes"})]})},Le=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface,i=Object(a.useMemo)((function(){return[{blocks:[{title:"Preview",type:oe.SelectFile,nvalue:t.background.previewIndex,onChange:o},{title:"Background",type:oe.SelectFile,nvalue:t.background.imageIndex,onChange:l}]},{blocks:[{title:"Color",type:oe.Color,svalue:t.background.color,onChange:s}]}]}),[t.background]);function o(e){n(Object(j.a)(Object(j.a)({},t),{},{background:Object(j.a)(Object(j.a)({},t.background),{},{previewIndex:e})}))}function l(e){n(Object(j.a)(Object(j.a)({},t),{},{background:Object(j.a)(Object(j.a)({},t.background),{},{imageIndex:e})}))}function s(e){n(Object(j.a)(Object(j.a)({},t),{},{background:Object(j.a)(Object(j.a)({},t.background),{},{color:e})}))}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{className:"clickable",onClick:function(){var e=Object(j.a)({},t);e.background.collapsed=!e.background.collapsed,n(e)},children:"Background"}),t.background.collapsed?"":Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:i})})]})},We=function(e){var t=e.collapsed,n=e.setCollapsed,i=Object(a.useContext)(g),o=i.watchface,l=i.setWatchface;function s(e){var t=Object(j.a)({},o.date);t.day=e,d(t)}function r(e){var t=Object(j.a)({},o.date);t.month=e,d(t)}function c(e){var t=Object(j.a)({},o.date);t.year=e,d(t)}function d(e){l(Object(j.a)(Object(j.a)({},o),{},{date:e}))}return Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){n(!t)},children:"Date"}),Object(de.jsxs)(je.a.Body,{className:"".concat(t?"collapse":""),children:[Object(de.jsx)(Me,{title:"Day Digit",digit:o.date.day,onUpdate:s}),Object(de.jsx)(Fe,{title:"Day Systemfont Rotated",digit:o.date.day,onUpdate:s}),Object(de.jsx)(Ne,{title:"Day Systemfont Circle",digit:o.date.day,onUpdate:s}),Object(de.jsx)(Me,{title:"Month",digit:o.date.month,onUpdate:r}),Object(de.jsx)(Fe,{title:"Month Systemfont Rotated",digit:o.date.month,onUpdate:r}),Object(de.jsx)(Ne,{title:"Month Systemfont Circle",digit:o.date.month,onUpdate:r}),Object(de.jsx)(Me,{title:"Month as word",digit:o.date.monthAsWord,onUpdate:function(e){var t=Object(j.a)({},o.date);t.monthAsWord=e,d(t)},paddingZeroFix:!0}),Object(de.jsx)(Me,{title:"Year",digit:o.date.year,onUpdate:c}),Object(de.jsx)(Fe,{title:"Year Systemfont Rotated",digit:o.date.year,onUpdate:c}),Object(de.jsx)(Ne,{title:"Year Systemfont Circle",digit:o.date.year,onUpdate:c}),Object(de.jsx)(Me,{title:"Weekday",digit:o.date.weekDay,onUpdate:function(e){var t=Object(j.a)({},o.date);t.weekDay=e,d(t)},paddingZeroFix:!0})]})]})})},Re=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface,i=Object(a.useState)(!0),o=Object(s.a)(i,2),l=o[0],r=o[1];function c(e){n(Object(j.a)(Object(j.a)({},t),{},{status:e}))}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){r(!l)},children:"Status"}),Object(de.jsxs)(je.a.Body,{className:"".concat(l?"collapse":""),children:[Object(de.jsx)(Ee,{title:"Bluetooth",imageCoords:t.status.bluetooth,onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{bluetooth:e}))}}),Object(de.jsx)(Ee,{title:"Do Not Disturb",imageCoords:t.status.dnd,onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{dnd:e}))}}),Object(de.jsx)(Ee,{title:"Alarm",imageCoords:t.status.alarm,onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{alarm:e}))}}),Object(de.jsx)(Ee,{title:"Lock",imageCoords:t.status.lock,onUpdate:function(e){c(Object(j.a)(Object(j.a)({},t.status),{},{lock:e}))}})]})]})},He=function(e){var t=e.collapsed,n=void 0===t||t,i=e.setCollapsed,o=Object(a.useContext)(g),l=o.watchface,s=o.setWatchface;return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){i(!n)},children:"Time Analog"}),Object(de.jsxs)(je.a.Body,{className:"".concat(n?"collapse":""),children:[Object(de.jsx)(Ae,{title:"Hours",clockHand:l.dialFace.hoursClockhand,showAngle:!1,onUpdate:function(e){var t=Object(j.a)({},l);t.dialFace.hoursClockhand=e,s(t)}}),Object(de.jsx)(Ae,{title:"Minutes",clockHand:l.dialFace.minutesClockhand,onUpdate:function(e){var t=Object(j.a)({},l);t.dialFace.minutesClockhand=e,s(t)},showAngle:!1}),Object(de.jsx)(Ae,{title:"Seconds",clockHand:l.dialFace.secondsClockhand,onUpdate:function(e){var t=Object(j.a)({},l);t.dialFace.secondsClockhand=e,s(t)},showAngle:!1})]})]})},Ge=function(e){var t=e.title,n=e.imageCoords,i=e.onUpdate,o=Object(a.useMemo)((function(){return function(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t>=0?t:0}(n.json.ImageSet)}),[n]),l=Object(a.useMemo)((function(){var e,t,a,i,l,d;return[{blocks:[{title:"Image",type:oe.SelectFile,nvalue:null===(e=n.json)||void 0===e||null===(t=e.ImageSet[o])||void 0===t?void 0:t.ImageSet.ImageIndex,onChange:s},{title:"X",type:oe.Number,nvalue:(null===(a=n.json.Coordinates)||void 0===a?void 0:a.X)?null===(i=n.json.Coordinates)||void 0===i?void 0:i.X:0,onChange:r},{title:"Y",type:oe.Number,nvalue:(null===(l=n.json.Coordinates)||void 0===l?void 0:l.Y)?null===(d=n.json.Coordinates)||void 0===d?void 0:d.Y:0,onChange:c}]}]}),[n]);function s(e){var t=Object(j.a)({},n);t.json.ImageSet[o].ImageSet.ImageIndex=e,i(t)}function r(e){var t=Object(j.a)({},n);t.json.Coordinates||(t.json.Coordinates=new k),t.json.Coordinates.X=e,i(t)}function c(e){var t=Object(j.a)({},n);t.json.Coordinates||(t.json.Coordinates=new k),t.json.Coordinates.Y=e,i(t)}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",children:t}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:n.enabled,onChange:function(){var e=Object(j.a)({},n);if(e.enabled=!e.enabled,!e.json.ImageSet){e.json.ImageSet=[];var t=new R;t.ImageSet.ImagesCount=e.count,e.json.ImageSet[0]=t}i(e)}})})]})}),n.enabled?Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:l})}):""]})},_e=function(e){var t=e.collapsed,n=void 0===t||t,i=e.setCollapsed,o=Object(a.useContext)(g),l=o.watchface,s=o.setWatchface;function r(e){var t=Object(j.a)({},l.dialFace);t.hoursDigital=e,u(t)}function c(e){var t=Object(j.a)({},l.dialFace);t.minutesDigital=e,u(t)}function d(e){var t=Object(j.a)({},l.dialFace);t.secondsDigital=e,u(t)}function u(e){s(Object(j.a)(Object(j.a)({},l),{},{dialFace:e}))}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){i(!n)},children:"Time Digital"}),Object(de.jsxs)(je.a.Body,{className:"".concat(n?"collapse":""),children:[Object(de.jsx)(Me,{title:"Hours Digits",digit:l.dialFace.hoursDigital,onUpdate:r,followDisabled:!0}),Object(de.jsx)(Fe,{title:"Hours Systemfont Rotated",digit:l.dialFace.hoursDigital,onUpdate:r,followDisabled:!0}),Object(de.jsx)(Ne,{title:"Hours Systemfont Circle",digit:l.dialFace.hoursDigital,onUpdate:r,followDisabled:!0}),Object(de.jsx)(Me,{title:"Minutes",digit:l.dialFace.minutesDigital,onUpdate:c,paddingZeroFix:!0}),Object(de.jsx)(Fe,{title:"Minutes Systemfont Rotated",digit:l.dialFace.minutesDigital,onUpdate:c}),Object(de.jsx)(Ne,{title:"Minutes Systemfont Circle",digit:l.dialFace.minutesDigital,onUpdate:c}),Object(de.jsx)(Me,{title:"Seconds",digit:l.dialFace.secondsDigital,onUpdate:d,paddingZeroFix:!0}),Object(de.jsx)(Fe,{title:"Seconds Systemfont Rotated",digit:l.dialFace.secondsDigital,onUpdate:d}),Object(de.jsx)(Ne,{title:"Seconds Systemfont Circle",digit:l.dialFace.secondsDigital,onUpdate:d}),Object(de.jsx)(Ge,{title:"AM",imageCoords:l.dialFace.am,onUpdate:function(e){var t=Object(j.a)({},l.dialFace);t.am=e,u(t)}}),Object(de.jsx)(Ge,{title:"PM",imageCoords:l.dialFace.pm,onUpdate:function(e){var t=Object(j.a)({},l.dialFace);t.pm=e,u(t)}})]})]})},Je=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Le,{}),Object(de.jsx)(_e,{collapsed:t.dialFace.collapsedDigital,setCollapsed:function(e){var a=Object(j.a)({},t);a.dialFace.collapsedDigital=e,n(a)}}),Object(de.jsx)(He,{collapsed:t.dialFace.collapsedAnalog,setCollapsed:function(e){var a=Object(j.a)({},t);a.dialFace.collapsedAnalog=e,n(a)}}),Object(de.jsx)(We,{collapsed:t.date.collapsed,setCollapsed:function(e){var a=Object(j.a)({},t);a.date.collapsed=e,n(a)}}),Object(de.jsx)(Xe,{activitys:t.activity,onUpdate:function(e){var a=Object(j.a)({},t);a.activity=e,a.activitylistCollapsed=!1,n(a)},collapsed:t.activitylistCollapsed,setCollapsed:function(e){var a=Object(j.a)({},t);a.activitylistCollapsed=e,n(a)}}),Object(de.jsx)(Re,{})]})},Ze=function e(){Object(h.a)(this,e)};Ze.ar=["Cloudy","Chance of rain","Chance of snow","Sunny","Overcast","Light rain","Light snow","Moderate rain","Moderate snow","Heavy snowfall","Heavy rain","Sandstorm","Sleet","Fog","Haze","Thunderstorm","Snowstorm","Dusty","Extreme rain","Rain with hail","Heavy rain with hail","Rainstorm","Dust storm","Severe sandstorm","Torrential rain","Unknown weather","Cloudy night","Rainy night","Clear night"];var ze=function(){var e,t=Object(a.useContext)(g),n=t.watchface,i=t.watchState,o=t.setWatchState;Object(a.useEffect)((function(){var e,t=Object(j.a)({},i);if(null===(e=n.widgets)||void 0===e?void 0:e.widgets){if(i.widgets.length>n.widgets.widgets.length)t.widgets.splice(n.widgets.widgets.length-1),o(t);else if(i.widgets.length<n.widgets.widgets.length){for(var a=i.widgets.length;a<n.widgets.widgets.length;a++)t.widgets.push(0);o(t)}}else t.widgets=[],o(t)}),[n]);var l=Object(a.useMemo)((function(){return"".concat(i.year.toString().padStart(4,"0"),"-").concat(i.month.toString().padStart(2,"0"),"-").concat(i.day.toString().padStart(2,"0"))}),[i]),r=Object(a.useMemo)((function(){return"".concat(i.hours.toString().padStart(2,"0"),":").concat(i.minutes.toString().padStart(2,"0"),":").concat(i.seconds.toString().padStart(2,"0"))}),[i]);return Object(de.jsx)("div",{children:Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Date"}),Object(de.jsx)("input",{type:"date",className:"form-control form-control-sm",value:l,onChange:function(e){var t=new Date(e.target.value),n=Object(j.a)({},i);n.year=t.getFullYear(),n.month=t.getMonth()+1,n.monthasword=t.getMonth(),n.day=t.getDate(),n.weekday=t.getDay()>0?t.getDay()-1:6,o(n)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Time"}),Object(de.jsx)("input",{type:"time",className:"form-control form-control-sm",step:"1",value:r,onChange:function(e){var t=e.target.value.split(":"),n=Object(s.a)(t,3),a=n[0],l=n[1],r=n[2],c=Object(j.a)({},i);isNaN(parseInt(a))||(c.hours=parseInt(a)),isNaN(parseInt(l))||(c.minutes=parseInt(l)),isNaN(parseInt(r))||(c.seconds=parseInt(r)),o(c)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Battery"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"100",value:i.battery,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.battery=isNaN(n)?0:Math.min(n,100),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Calories"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"999",value:i.calories,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.calories=isNaN(n)?0:Math.min(n,999),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Steps"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"99999",value:i.steps,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.steps=isNaN(n)?0:Math.min(n,99999),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Steps Goal"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"99999",value:i.stepsGoal,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.stepsGoal=isNaN(n)?0:Math.min(n,99999),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Hearthrate"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:i.hearthrateGoal,value:i.hearthrate,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.hearthrate=isNaN(n)?0:Math.min(n,i.hearthrateGoal),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Distance"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"9999",value:i.distance,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.distance=isNaN(n)?0:Math.min(n,9999),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"PAI"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:i.paiGoal,value:i.pai,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.pai=isNaN(n)?0:Math.min(n,i.paiGoal),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"StandUp"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:i.standupGoal,value:i.standup,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.standup=isNaN(n)?0:Math.min(n,i.standupGoal),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Stress"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"999",value:i.stress,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.stress=isNaN(n)?0:Math.min(n,999),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Fat Burning"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"99",value:i.fatBurning,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.fatBurning=isNaN(n)?0:Math.min(n,99),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Weather Icon"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"28",value:i.weatherIcon,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.weatherIcon=isNaN(n)?0:Math.min(n,28),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:Ze.ar[i.weatherIcon]})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Current"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"-99",max:"99",value:i.temperature,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.temperature=isNaN(n)?0:Math.max(Math.min(n,99),-99),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Min"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"-99",max:"99",value:i.temperatureMin,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.temperatureMin=isNaN(n)?0:Math.max(Math.min(n,99),-99),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Max"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"-99",max:"99",value:i.temperatureMax,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.temperatureMax=isNaN(n)?0:Math.max(Math.min(n,99),-99),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"UV Index"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"11",value:i.uvIndex,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.uvIndex=isNaN(n)?0:Math.min(n,11),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Air Quality"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"500",value:i.airQuality,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.airQuality=isNaN(n)?0:Math.min(n,500),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsx)("span",{className:"input-group-text",children:"Humidity"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"100",value:i.humidity,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.humidity=isNaN(n)?0:Math.min(n,100),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Windforce"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"12",value:i.windForce,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.windForce=isNaN(n)?0:Math.min(n,12),o(t)}}),Object(de.jsx)("span",{className:"input-group-text",children:"Air Pressure"}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",min:"0",max:i.airPressureGoal,value:i.airPressure,onChange:function(e){var t=Object(j.a)({},i),n=parseInt(e.target.value);t.airPressure=isNaN(n)?0:Math.min(n,i.airPressureGoal),o(t)}})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm",children:[Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Blutooth"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:i.bluetooth,onChange:function(){var e=Object(j.a)({},i);e.bluetooth=!e.bluetooth,o(e)}})}),Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"DnD"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:i.dnd,onChange:function(){var e=Object(j.a)({},i);e.dnd=!e.dnd,o(e)}})}),Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Alarm"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:i.alarm,onChange:function(){var e=Object(j.a)({},i);e.alarm=!e.alarm,o(e)}})}),Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Lock"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:i.lock,onChange:function(){var e=Object(j.a)({},i);e.lock=!e.lock,o(e)}})})]}),Object(de.jsxs)(je.a,{className:"mt-3",children:[Object(de.jsx)(je.a.Header,{children:Object(de.jsx)("h3",{children:"Preview of widgets element"})}),Object(de.jsx)(je.a.Body,{children:(null===(e=i.widgets)||void 0===e?void 0:e.length)>0?i.widgets.map((function(e,t){var a,l,s;return Object(de.jsxs)("div",{className:"input-group input-group-sm mb-1",children:[Object(de.jsxs)("span",{className:"input-group-text",children:["Widget ",t+1,". Element for preview "]}),Object(de.jsx)("input",{type:"number",className:"form-control form-control-sm",value:e+1,min:1,max:null===(a=n.widgets)||void 0===a||null===(l=a.widgets[t])||void 0===l||null===(s=l.widgetElements)||void 0===s?void 0:s.length,onChange:function(e){var n=Object(j.a)({},i),a=parseInt(e.target.value);n.widgets[t]=isNaN(a)?0:Math.max(0,a-1),o(n)}})]},t)})):"no widgets in watchface"})]})]})})},Qe=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface,i=Object(a.useMemo)((function(){return[{blocks:[{title:"Background",type:oe.SelectFile,nvalue:t.aod.backgroundImageIndex,onChange:o}]}]}),[t.aod.backgroundImageIndex]);function o(e){n(Object(j.a)(Object(j.a)({},t),{},{aod:Object(j.a)(Object(j.a)({},t.aod),{},{backgroundImageIndex:e})}))}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{className:"clickable",onClick:function(){var e=Object(j.a)({},t);e.aod.backgroundCollapsed=!e.aod.backgroundCollapsed,n(e)},children:"Background"}),t.aod.backgroundCollapsed?"":Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:i})})]})},Ve=function(e){var t=e.collapsed,n=e.setCollapsed,i=Object(a.useContext)(g),o=i.watchface,l=i.setWatchface;function s(e){var t=Object(j.a)({},o.aod.date);t.day=e,m(t)}function r(e){var t=Object(j.a)({},o.aod.date);t.month=e,m(t)}function c(e){var t=Object(j.a)({},o.aod.date);t.year=e,m(t)}function d(){var e=Object(j.a)({},o.aod.date);e.day=Object(j.a)({},o.date.day),m(e)}function u(){var e=Object(j.a)({},o.aod.date);e.month=Object(j.a)({},o.date.month),m(e)}function h(){var e=Object(j.a)({},o.aod.date);e.year=Object(j.a)({},o.date.year),m(e)}function m(e){l(Object(j.a)(Object(j.a)({},o),{},{aod:Object(j.a)(Object(j.a)({},o.aod),{},{date:e})}))}return Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){n(!t)},children:"Date"}),Object(de.jsxs)(je.a.Body,{className:"".concat(t?"collapse":""),children:[Object(de.jsx)(Me,{title:"Day Digits",digit:o.aod.date.day,onUpdate:s,onCopyFromNormal:d}),Object(de.jsx)(Fe,{title:"Day Systemfont Rotated",digit:o.date.day,onUpdate:s,onCopyFromNormal:d}),Object(de.jsx)(Ne,{title:"Day Systemfont Circle",digit:o.date.day,onUpdate:s,onCopyFromNormal:d}),Object(de.jsx)(Me,{title:"Month Digits",digit:o.aod.date.month,onUpdate:r,onCopyFromNormal:u}),Object(de.jsx)(Fe,{title:"Month Systemfont Rotated",digit:o.date.month,onUpdate:r,onCopyFromNormal:u}),Object(de.jsx)(Ne,{title:"Month Systemfont Circle",digit:o.date.month,onUpdate:r,onCopyFromNormal:u}),Object(de.jsx)(Me,{title:"Month as word",digit:o.aod.date.monthAsWord,onUpdate:function(e){var t=Object(j.a)({},o.aod.date);t.monthAsWord=e,m(t)},paddingZeroFix:!0,onCopyFromNormal:function(){var e=Object(j.a)({},o.aod.date);e.monthAsWord=Object(j.a)({},o.date.monthAsWord),m(e)}}),Object(de.jsx)(Me,{title:"Year",digit:o.aod.date.year,onUpdate:c,onCopyFromNormal:h}),Object(de.jsx)(Fe,{title:"Year Systemfont Rotated",digit:o.aod.date.year,onUpdate:c,onCopyFromNormal:h}),Object(de.jsx)(Ne,{title:"Month Systemfont Circle",digit:o.aod.date.year,onUpdate:c,onCopyFromNormal:h}),Object(de.jsx)(Me,{title:"Weekday",digit:o.aod.date.weekDay,onUpdate:function(e){var t=Object(j.a)({},o.aod.date);t.weekDay=e,m(t)},paddingZeroFix:!0,onCopyFromNormal:function(){var e=Object(j.a)({},o.aod.date);e.weekDay=Object(j.a)({},o.date.weekDay),m(e)}})]})]})})},$e=function(e){var t=e.collapsed,n=void 0===t||t,i=e.setCollapsed,o=Object(a.useContext)(g),l=o.watchface,s=o.setWatchface;return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){i(!n)},children:"Time Analog"}),Object(de.jsxs)(je.a.Body,{className:"".concat(n?"collapse":""),children:[Object(de.jsx)(Ae,{title:"Hours",clockHand:l.aod.dialFace.hoursClockhand,showAngle:!1,onUpdate:function(e){var t=Object(j.a)({},l);t.aod.dialFace.hoursClockhand=e,s(t)},onCopyFromNormal:function(){var e=Object(j.a)({},l.aod.dialFace);e.hoursClockhand=Object(j.a)({},l.dialFace.hoursClockhand),s(Object(j.a)(Object(j.a)({},l),{},{aod:Object(j.a)(Object(j.a)({},l.aod),{},{dialFace:e})}))}}),Object(de.jsx)(Ae,{title:"Minutes",clockHand:l.aod.dialFace.minutesClockhand,onUpdate:function(e){var t=Object(j.a)({},l);t.aod.dialFace.minutesClockhand=e,s(t)},showAngle:!1,onCopyFromNormal:function(){var e=Object(j.a)({},l.aod.dialFace);e.minutesClockhand=Object(j.a)({},l.dialFace.minutesClockhand),s(Object(j.a)(Object(j.a)({},l),{},{aod:Object(j.a)(Object(j.a)({},l.aod),{},{dialFace:e})}))}})]})]})},Ke=function(e){var t=e.collapsed,n=void 0===t||t,i=e.setCollapsed,o=Object(a.useContext)(g),l=o.watchface,s=o.setWatchface;function r(e){var t=Object(j.a)({},l.aod.dialFace);t.hoursDigital=e,d(t)}function c(e){var t=Object(j.a)({},l.aod.dialFace);t.minutesDigital=e,d(t)}function d(e){s(Object(j.a)(Object(j.a)({},l),{},{aod:Object(j.a)(Object(j.a)({},l.aod),{},{dialFace:e})}))}return Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{onClick:function(){i(!n)},children:"Time Digital"}),Object(de.jsxs)(je.a.Body,{className:"".concat(n?"collapse":""),children:[Object(de.jsx)(Me,{title:"Hours",digit:l.aod.dialFace.hoursDigital,onUpdate:r,showDecimalPointer:!1,showDelimiter:!1,showNoData:!1,paddingZeroFix:!1,onCopyFromNormal:function(){var e=Object(j.a)({},l.aod.dialFace);e.hoursDigital=Object(j.a)({},l.dialFace.hoursDigital),d(e)},followDisabled:!0}),Object(de.jsx)(Fe,{title:"Hours Systemfont Rotated",digit:l.aod.dialFace.hoursDigital,onUpdate:r,followDisabled:!0}),Object(de.jsx)(Ne,{title:"Hours Systemfont Circle",digit:l.aod.dialFace.hoursDigital,onUpdate:r,followDisabled:!0}),Object(de.jsx)(Me,{title:"Minutes",digit:l.aod.dialFace.minutesDigital,onUpdate:c,showDecimalPointer:!1,showDelimiter:!1,showNoData:!1,paddingZeroFix:!0,onCopyFromNormal:function(){var e=Object(j.a)({},l.aod.dialFace);e.minutesDigital=Object(j.a)({},l.dialFace.minutesDigital),d(e)}}),Object(de.jsx)(Fe,{title:"Minutes Systemfont Rotated",digit:l.aod.dialFace.minutesDigital,onUpdate:c}),Object(de.jsx)(Ne,{title:"Minutes Systemfont Circle",digit:l.aod.dialFace.minutesDigital,onUpdate:c}),Object(de.jsx)(Ge,{title:"AM",imageCoords:l.aod.dialFace.am,onUpdate:function(e){var t=Object(j.a)({},l.aod.dialFace);t.am=e,d(t)}}),Object(de.jsx)(Ge,{title:"PM",imageCoords:l.aod.dialFace.pm,onUpdate:function(e){var t=Object(j.a)({},l.aod.dialFace);t.pm=e,d(t)}})]})]})},qe=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(Qe,{}),Object(de.jsx)(Ke,{collapsed:t.aod.dialFace.collapsedDigital,setCollapsed:function(e){var a=Object(j.a)({},t);a.aod.dialFace.collapsedDigital=e,n(a)}}),Object(de.jsx)($e,{collapsed:t.aod.dialFace.collapsedAnalog,setCollapsed:function(e){var a=Object(j.a)({},t);a.aod.dialFace.collapsedAnalog=e,n(a)}}),Object(de.jsx)(Ve,{collapsed:t.aod.date.collapsed,setCollapsed:function(e){var a=Object(j.a)({},t);a.aod.date.collapsed=e,n(a)}}),Object(de.jsx)(Xe,{activitys:t.aod.activitylist,onUpdate:function(e){var a=Object(j.a)({},t);a.aod.activitylist=e,a.aod.activitylistCollapsed=!1,n(a)},collapsed:t.aod.activitylistCollapsed,setCollapsed:function(e){var a=Object(j.a)({},t);a.aod.activitylistCollapsed=e,n(a)}})]})},et=function(e){var t=e.index,n=e.element,a=e.onDelete,i=e.onUpdate;e.defaultCount;return Object(de.jsxs)(je.a,{className:"w-100",children:[Object(de.jsxs)(je.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},n);e.collapsed=!e.collapsed,i(e)},children:[Object(de.jsxs)("span",{className:"input-group-text",children:["Element ",t+1]}),Object(de.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:a,children:"Delete"})]}),n.collapsed?"":Object(de.jsxs)(je.a.Body,{children:[Object(de.jsx)(ke,{ar:[{blocks:[{title:"Preview",type:oe.SelectFile,nvalue:n.previewImageIndex,onChange:function(e){var t=Object(j.a)({},n);t.previewImageIndex=e,i(t)}}]}]}),Object(de.jsx)(Xe,{activitys:n.activitys,onUpdate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Object(j.a)({},n);t.activitys=e,t.activitylistCollapsed=!1,i(t)})),collapsed:n.activitylistCollapsed,setCollapsed:function(e){var t=Object(j.a)({},n);t.activitylistCollapsed=e,i(t)}})]})]})},tt=function(e){var t,n,i,o=e.title,l=e.widget,s=e.onUpdate,r=e.onDelete,c=Object(a.useMemo)((function(){return[{blocks:[{title:"X",type:oe.Number,nvalue:(null===l||void 0===l?void 0:l.x)?l.x:0,onChange:d},{title:"Y",type:oe.Number,nvalue:(null===l||void 0===l?void 0:l.y)?l.y:0,onChange:u}]},{blocks:[{title:"Width",type:oe.Number,nvalue:(null===l||void 0===l?void 0:l.width)?l.width:0,onChange:g},{title:"Height",type:oe.Number,nvalue:(null===l||void 0===l?void 0:l.height)?l.height:0,onChange:h}]},{blocks:[{title:"Frame activ",type:oe.SelectFile,nvalue:l.borderActivImageIndex?l.borderActivImageIndex:null,onChange:m},{title:"Frame inactiv",type:oe.SelectFile,nvalue:l.borderInactivImageIndex?l.borderInactivImageIndex:null,onChange:v}]},{blocks:[{title:"Description width",type:oe.Number,nvalue:(null===l||void 0===l?void 0:l.descriptionWidthCheck)?l.descriptionWidthCheck:0,onChange:b}]}]}),[l]);function d(e){var t=Object(j.a)({},l);t.x=e,s(t)}function u(e){var t=Object(j.a)({},l);t.y=e,s(t)}function g(e){var t=Object(j.a)({},l);t.width=e,s(t)}function h(e){var t=Object(j.a)({},l);t.height=e,s(t)}function m(e){var t=Object(j.a)({},l);t.borderActivImageIndex=e,s(t)}function v(e){var t=Object(j.a)({},l);t.borderInactivImageIndex=e,s(t)}function b(e){var t=Object(j.a)({},l);t.descriptionWidthCheck=e,s(t)}function p(e,t){var n=Object(j.a)({},l);n.widgetElements[e]=Object(j.a)({},t),s(n)}return Object(de.jsxs)(je.a,{children:[Object(de.jsxs)(je.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},l);e.collapsed=!e.collapsed,s(e)},children:[Object(de.jsx)("span",{className:"input-group-text",children:o}),Object(de.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:r,children:"Delete"})]}),l.collapsed?"":Object(de.jsxs)(je.a.Body,{children:[Object(de.jsx)(ke,{ar:c}),Object(de.jsx)("div",{className:"input-group input-group-sm pt-1",children:Object(de.jsx)(Ee,{title:"Description background",imageCoords:l.descriptionImageBackground,onUpdate:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=Object(j.a)({},l);t.descriptionImageBackground=e,s(t)}))})}),Object(de.jsxs)(je.a,{className:"mt-1",children:[Object(de.jsxs)(je.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},l);e.widgetElementsCollapsed=!e.widgetElementsCollapsed,s(e)},children:["Elements [",null===(t=l.widgetElements)||void 0===t?void 0:t.length,"]",Object(de.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(e){e.stopPropagation();var t=Object(j.a)({},l);t.widgetElements||(t.widgetElements=[]);var n=new le;t.widgetElements.push(n),t.widgetElementsCollapsed=!1,s(t)},children:"Add"})]}),l.widgetElementsCollapsed?"":Object(de.jsx)(je.a.Body,{children:(null===(n=l.widgetElements)||void 0===n?void 0:n.length)>0?Object(de.jsx)(me,{_list:null===(i=l.widgetElements)||void 0===i?void 0:i.map((function(e,t){return{item:e,reactItem:Object(de.jsx)(et,{index:t,element:e,defaultCount:1,onDelete:function(e){return function(e,t){if(e.stopPropagation(),window.confirm("would you delete this element of widget?")){var n=Object(j.a)({},l);n.widgetElements.splice(t,1),s(n)}}(e,t)},onUpdate:function(e){return p(t,e)}},t)}})),updateOrder:function(e){var t=Object(j.a)({},l);t.widgetElements=e.map((function(e){return e.item})),s(t)}}):"no elements added"})]})]})]})},nt=function(){var e,t,n,i,o,l,s=Object(a.useContext)(g),r=s.watchface,c=s.setWatchface;function d(e){var t=Object(j.a)({},r);t.widgets=Object(j.a)({},e),c(t)}return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(je.a,{children:[Object(de.jsx)(je.a.Header,{children:"Common Preferences"}),Object(de.jsx)(je.a.Body,{children:Object(de.jsx)(ke,{ar:[{blocks:[{title:"Top mask",type:oe.SelectFile,nvalue:null===(e=r.widgets)||void 0===e?void 0:e.topMaskImageIndex,onChange:function(e){var t=Object(j.a)({},r.widgets);t.enabled=!0,t.topMaskImageIndex=e,d(t)}},{title:"Bottom mask",type:oe.SelectFile,nvalue:null===(t=r.widgets)||void 0===t?void 0:t.underMaskImageIndex,onChange:function(e){var t=Object(j.a)({},r.widgets);t.enabled=!0,t.underMaskImageIndex=e,d(t)}}]}]})})]}),Object(de.jsxs)(je.a,{children:[Object(de.jsxs)(je.a.Header,{className:"d-flex justify-content-between align-items-center",onClick:function(){var e=Object(j.a)({},r);e.widgets.collapsed=!e.widgets.collapsed,c(e)},children:["Widgets [",null===(n=r.widgets)||void 0===n||null===(i=n.widgets)||void 0===i?void 0:i.length,"]",Object(de.jsx)("button",{className:"btn btn-outline-success",type:"button",onClick:function(e){e.stopPropagation();var t=new se,n=Object(j.a)({},r);n.widgets||(n.widgets=new re),n.widgets.enabled=!0,n.widgets.widgets.push(t),c(n)},children:"Add"})]}),Object(de.jsx)(je.a.Body,{children:(null===(o=r.widgets)||void 0===o||null===(l=o.widgets)||void 0===l?void 0:l.length)>0?Object(de.jsx)(de.Fragment,{children:r.widgets.widgets.map((function(e,t){return Object(de.jsx)(tt,{title:"Widget ".concat(t+1),widget:e,onUpdate:function(e){return function(e,t){var n=Object(j.a)({},r);n.widgets.widgets[e]=Object(j.a)({},t),c(n)}(t,e)},onDelete:function(e){return function(e,t){if(e.stopPropagation(),window.confirm("would you delete this widget?")){var n=Object(j.a)({},r);n.widgets.widgets.splice(t,1),c(n)}}(e,t)}},t)}))}):"no widgets added"})]})]})},at=[{id:0,name:"Screen normal"},{id:1,name:"AOD"},{id:2,name:"Widgets"},{id:3,name:"Preview State"}],it=function(){var e=Object(a.useContext)(g).setPreviewScreenNormal,t=Object(a.useState)(0),n=Object(s.a)(t,2),i=n[0],o=n[1];return Object(de.jsxs)("div",{children:[Object(de.jsx)("ul",{className:"nav nav-tabs",children:at.map((function(t){return Object(de.jsx)("li",{className:"nav-item",children:Object(de.jsx)("button",{className:"nav-link ".concat(i===t.id?"active":""," "),onClick:function(){return n=t.id,o(n),1===n&&e(!1),void(0===n&&e(!0));var n},children:t.name})},t.id)}))}),0===i?Object(de.jsx)("div",{className:"mt-3 blocks",children:Object(de.jsx)(Je,{})}):1===i?Object(de.jsx)("div",{className:"mt-3 blocks",children:Object(de.jsx)(qe,{})}):2===i?Object(de.jsx)("div",{className:"mt-3 blocks",children:Object(de.jsx)(nt,{})}):3===i?Object(de.jsx)("div",{className:"mt-3",children:Object(de.jsx)(ze,{})}):""]})},ot=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.setWatchface;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h2",{children:"order of date elements"}),Object(de.jsx)(me,{_list:t.orderElements.orderElementsDate.map((function(e){return{item:e,reactItem:e.title}})),updateOrder:function(e){n(Object(j.a)(Object(j.a)({},t),{},{orderElements:Object(j.a)(Object(j.a)({},t.orderElements),{},{orderElementsDate:e.map((function(e){return e.item}))})}))}})]})},lt=n(17),st=n.n(lt),rt=function(){var e=Object(a.useContext)(g),t=e.watchface,n=e.jsonName,i=Object(a.useState)(""),o=Object(s.a)(i,2),l=o[0],r=o[1];return Object(a.useEffect)((function(){var e=function(e){var n=e.dialFace.hoursDigital.enabled||e.dialFace.minutesDigital.enabled||e.dialFace.secondsDigital.enabled||e.dialFace.am.enabled||e.dialFace.pm.enabled,a=e.aod.dialFace.hoursDigital.enabled||e.aod.dialFace.minutesDigital.enabled||e.aod.dialFace.am.enabled||e.aod.dialFace.pm.enabled,i=e.dialFace.hoursClockhand.enabled||e.dialFace.minutesClockhand.enabled||e.dialFace.secondsClockhand.enabled,o=e.aod.dialFace.hoursClockhand.enabled||e.aod.dialFace.minutesClockhand.enabled,l=e.date.day.enabled||e.date.month.enabled||e.date.monthAsWord.enabled||e.date.weekDay.enabled||e.date.year.enabled,s=e.aod.date.day.enabled||e.aod.date.month.enabled||e.aod.date.monthAsWord.enabled||e.aod.date.weekDay.enabled||e.aod.date.year.enabled,r=e.status.alarm.enabled||e.status.bluetooth.enabled||e.status.lock.enabled||e.status.dnd.enabled,c=n||i,d=a||o,u=dt(t),g=dt(t.aod),j=ut(t),h=ut(t.aod),m=ct(t.activity),v=ct(t.aod.activitylist),p={Info:{DeviceId:xe.deviceId},Background:e.background.imageIndex||e.background.color||e.background.previewIndex?{Preview:e.background.previewIndex?[{LangCode:O.All.json,ImageSet:{ImageIndex:e.background.previewIndex,ImagesCount:1}}]:null,BackgroundImageIndex:e.background.imageIndex,Color:e.background.color?b.colorBackgroundWrite(e.background.color):null}:null,DialFace:c?{DigitalDialFace:n?{Digits:u.length>0?u:null,AM:e.dialFace.am.enabled?e.dialFace.am.json:null,PM:e.dialFace.pm.enabled?e.dialFace.pm.json:null}:null,AnalogDialFace:i?{Hours:e.dialFace.hoursClockhand.enabled?e.dialFace.hoursClockhand.json:null,Minutes:e.dialFace.minutesClockhand.enabled?e.dialFace.minutesClockhand.json:null,Seconds:e.dialFace.secondsClockhand.enabled?e.dialFace.secondsClockhand.json:null}:null,ProgressDialFace:null}:null,System:l||m.length>0||r?{Status:r?{Bluetooth:e.status.bluetooth.enabled?e.status.bluetooth.json:null,DoNotDisturb:e.status.dnd.enabled?e.status.dnd.json:null,Lock:e.status.lock.enabled?e.status.lock.json:null,Alarm:e.status.alarm.enabled?e.status.alarm.json:null}:null,Date:l?{DateDigits:j.length>0?j:null,WeeksDigits:e.date.weekDay.enabled?e.date.weekDay.json:null,DateProgressBar:null,DateClockHand:null}:null,Activity:m.length>0?m:null}:null,Widgets:e.widgets.enabled?gt(e.widgets):null,ScreenIdle:e.aod.backgroundImageIndex||d||s||v.length>0?{BackgroundImageIndex:e.aod.backgroundImageIndex?e.aod.backgroundImageIndex:null,DialFace:d?{DigitalDialFace:a?{Digits:g.length>0?g:null,AM:e.aod.dialFace.am.enabled?e.aod.dialFace.am.json:null,PM:e.aod.dialFace.pm.enabled?e.aod.dialFace.pm.json:null}:null,AnalogDialFace:o?{Hours:e.aod.dialFace.hoursClockhand.enabled?e.aod.dialFace.hoursClockhand.json:null,Minutes:e.aod.dialFace.minutesClockhand.enabled?e.aod.dialFace.minutesClockhand.json:null,Seconds:null}:null,ProgressDialFace:null}:null,Date:s?{DateDigits:h.length>0?h:null,WeeksDigits:e.aod.date.weekDay.enabled?e.aod.date.weekDay.json:null,DateProgressBar:null,DateClockHand:null}:null,Activity:v.length>0?v:null}:null};return JSON.stringify(p,(function(e,t){if(null!==t&&void 0!==t)return t}),"  ")}(t);r(e),function(e){if(e.length>0){var t=document.getElementById("saveJson");if(t){var a=new Blob([e],{type:"text/plain"}),i=n||"watchface.json";t.href=URL.createObjectURL(a),t.download=i}}}(e)}),[t]),Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)(je.a,{className:st.a.json,children:Object(de.jsx)("pre",{children:l})}),Object(de.jsx)("br",{}),Object(de.jsx)("a",{href:"a",id:"saveJson",children:"download json file"})]})};function ct(e){var t=[];return e?(e.forEach((function(e){var n,a,i=[],o=!1,l=null,s=null,r=null,c=null,d=null;(e&&(e.digit.enabled&&(o=!0,i.push(e.digit)),e.digitMin.enabled&&(o=!0,i.push(e.digitMin)),e.digitMax.enabled&&(o=!0,i.push(e.digitMax)),e.imageProgress.enabled&&(o=!0,l=e.imageProgress),e.pointerProgress.enabled&&(o=!0,s=e.pointerProgress),(e.progressBar.enabledLinear||e.progressBar.enabledCircle)&&(o=!0,c=e.progressBar),e.icon.enabled&&(o=!0,r=e.icon),e.shortcut&&(o=!0,d=e.shortcut)),o)&&t.push({Type:e.type.json,PointerProgress:s?s.json:null,ProgressBar:c?c.jsonObj:null,ImageProgress:(null===(n=l)||void 0===n?void 0:n.enabled)?l.json:null,Digits:i.length>0?i.map((function(e){return e.json})):null,Shortcut:d||null,Icon:(null===(a=r)||void 0===a?void 0:a.enabled)?r.json:null})})),t):t}function dt(e){var t,n,a,i=[];return(null===(t=e.dialFace.hoursDigital)||void 0===t?void 0:t.enabled)&&i.push(e.dialFace.hoursDigital.json),(null===(n=e.dialFace.minutesDigital)||void 0===n?void 0:n.enabled)&&i.push(e.dialFace.minutesDigital.json),(null===(a=e.dialFace.secondsDigital)||void 0===a?void 0:a.enabled)&&i.push(e.dialFace.secondsDigital.json),i}function ut(e){var t=[];return e.orderElements.orderElementsDate.forEach((function(n){var a=null,i=!1;n.type===C.Year.index?(e.date.year.enabled&&(i=!0),a=e.date.year):n.type===C.Month.index?e.date.month.enabled?(i=!0,a=e.date.month):e.date.monthAsWord.enabled&&(i=!0,a=e.date.monthAsWord):n.type===C.Day.index&&(e.date.day.enabled&&(i=!0),a=e.date.day),i&&t.push(a.json)})),t}function gt(e){var t,n=null;e&&(n={TopMaskImageIndex:e.topMaskImageIndex,UnderMaskImageIndex:e.underMaskImageIndex,Unknown4:e.showTimeOnEditScreen,Widget:(null===(t=e.widgets)||void 0===t?void 0:t.length)>0?e.widgets.map((function(e){return function(e){var t;return{X:e.x,Y:e.y,Width:e.width,Height:e.height,BorderActivImageIndex:e.borderActivImageIndex,BorderInactivImageIndex:e.borderInactivImageIndex,DescriptionImageBackground:e.descriptionImageBackground.json,DescriptionWidthCheck:e.descriptionWidthCheck,WidgetElement:(null===(t=e.widgetElements)||void 0===t?void 0:t.length)?e.widgetElements.map((function(e){return function(e){var t=ct(e.activitys);return{Preview:[{LangCode:O.All.json,ImageSet:{ImageIndex:e.previewImageIndex,ImagesCount:1}}],Date:null,Activity:(null===t||void 0===t?void 0:t.length)>0?t:null}}(e)})):null}}(e)})):null});return n}var jt=n(18),ht=function(e){var t=e.draw,n=e.className,i=Object(jt.a)(e,["draw","className"]),o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=o.current,n=e.getContext("2d");t(e,n)}),[t]),Object(de.jsx)("canvas",Object(j.a)({className:n,ref:o},i))};function mt(e,t){if(null===e||void 0===e)return null;var n=t.find((function(t){return t.id===e}));return n?n.image:(console.error("Image with Index  "+e+" not found"),null)}function vt(e,t,n){if(n.ImageIndex){var a,i,o=(null===(a=n.Coordinates)||void 0===a?void 0:a.X)?n.Coordinates.X:0,l=(null===(i=n.Coordinates)||void 0===i?void 0:i.Y)?n.Coordinates.Y:0,s=mt(n.ImageIndex,t);s&&e.drawImage(s,o,l,s.width,s.height)}}function bt(e,t,n,a,i,o,l){var s,r,c,d,u,g,j,h,m,v,b,p,O,x,y,I,C,w,S,D,k=i?i[0]:(null===(s=n.json)||void 0===s||null===(r=s.Digit)||void 0===r||null===(c=r.Image)||void 0===c?void 0:c.X)?null===(d=n.json)||void 0===d||null===(u=d.Digit)||void 0===u||null===(g=u.Image)||void 0===g?void 0:g.X:0,M=i?i[1]:(null===(j=n.json)||void 0===j||null===(h=j.Digit)||void 0===h||null===(m=h.Image)||void 0===m?void 0:m.Y)?null===(v=n.json)||void 0===v||null===(b=v.Digit)||void 0===b||null===(p=b.Image)||void 0===p?void 0:p.Y:0,F=pt(null===(O=n.json.Digit)||void 0===O||null===(x=O.Image)||void 0===x?void 0:x.MultilangImage),N=pt(null===(y=n.json.Digit)||void 0===y||null===(I=y.Image)||void 0===I?void 0:I.MultilangImageUnit);if((null===(C=n.json.Digit)||void 0===C||null===(w=C.Image)||void 0===w?void 0:w.MultilangImage)&&(null===(S=n.json.Digit.Image.MultilangImage[F])||void 0===S||null===(D=S.ImageSet)||void 0===D?void 0:D.ImageIndex)){var P=a.toString();a<0&&(P=(-a).toString()),n.json.Digit.DisplayFormAnalog||!n.json.Digit.PaddingZero&&!l||(P=P.padStart(n.con.numberLenght,"0"));var A=[];if(n.json.Digit.Image.DelimiterImageIndex&&a<0){var E=mt(n.json.Digit.Image.DelimiterImageIndex,t);E&&A.push(E)}if(n.json.Digit.DisplayFormAnalog){var U=mt(n.json.Digit.Image.MultilangImage[F].ImageSet.ImageIndex+a,t);U&&A.push(U)}else A=A.concat(function(e,t,n,a,i){for(var o=[],l=0;l<t.length;l++){if(i&&l===t.length-2){var s=mt(i,e);s&&o.push(s)}var r=t.charAt(l),c=parseInt(r);if(!isNaN(c)&&c<a){var d=mt(n+c,e);d&&o.push(d)}else alert("cant parse number string: "+t+" at index "+l)}return o}(t,P,n.json.Digit.Image.MultilangImage[F].ImageSet.ImageIndex,n.json.Digit.Image.MultilangImage[F].ImageSet.ImagesCount,n.json.Digit.Image.DecimalPointImageIndex));if(n.json.Digit.Image.MultilangImageUnit&&n.json.Digit.Image.MultilangImageUnit[N]){var T=mt(n.json.Digit.Image.MultilangImageUnit[N].ImageSet.ImageIndex,t);T&&A.push(T)}var B=function(e,t,n,a,i,o,l,s){if(0===t.length)return;var r=0;i||(i=0);t.forEach((function(e){r&&i&&(r+=i),r+=e.width}));var c=r;l&&(c=r+(i+t[0].width)*l);var d=n,u=a;o===f.Right.json?d=d+c-r:o===f.Center.json&&(d+=(c-r)/2);var g=0;t.forEach((function(t){e.drawImage(t,d,u),g=Math.max(t.height,g),d+=t.width,i&&(d+=i)})),s&&(e.beginPath(),e.strokeStyle="gray",e.rect(n,a,c,g),e.stroke());return[d,u]}(e,A,k,M,n.json.Digit.Spacing,n.json.Digit.Alignment,n.con.numberLenght-P.length,o);return n.json.Separator&&vt(e,t,n.json.Separator),B}return i}function pt(e){if(!e)return null;var t=0;return e.forEach((function(e,n){e.LangCode===O.All.json&&(t=n)})),t}function Ot(e,t){var n,a=null===(n=t.json.Digit)||void 0===n?void 0:n.SystemFont,i=e;return a?(-1===a.ShowUnitCheck?i+=t.con.unit[0]:1===a.ShowUnitCheck?i+=t.con.unit[1]:2===a.ShowUnitCheck&&(i+=t.con.unit[2]),t.json.Separator&&(i+=t.con.separator),i):i}function ft(e,t){var n=t.toString();return e.json.Digit.PaddingZero&&(n=n.padStart(e.con.numberLenght,"0")),e.con.decimalDelimiter&&(n.length>3?n=n.substring(0,n.length-2)+"."+n.substring(n.length-2,n.length):n.length>1&&(n=n.substring(0,n.length-1)+"."+n.substring(n.length-1,n.length))),e.con.timeDelimiter&&n.length>2&&(n=n.substring(0,n.length-2)+":"+n.substring(n.length-2,n.length)),n=Ot(n,e)}function xt(e,t,n,a,i,o,l,s){if(n)return n.enabledImage?bt(e,t,n,a,i,o,l):(n.enabledSystemFont||n.enabledSystemFontCircle)&&s?n.enabledSystemFontCircle?function(e,t,n){var a,i,o,l;if(!(null===(a=t.json)||void 0===a||null===(i=a.Digit)||void 0===i?void 0:i.SystemFont))return null;var s=t.json.Digit.SystemFont,r=s.Size?.8*s.Size:0,c=s.FontRotate.Radius,d=t.json.Digit.Spacing;e.font="".concat(r,"px Verdana");var u=(null===(o=s.FontRotate)||void 0===o?void 0:o.X)?s.FontRotate.X:0,g=(null===(l=s.FontRotate)||void 0===l?void 0:l.Y)?s.FontRotate.Y:0;if(e.fillStyle=b.colorRead(s.Color),e.save(),e.translate(u,g),1!==s.FontRotate.RotateDirection){e.rotate(Math.PI/180*s.Angle);for(var j=0;j<n.length;j++){var h=e.measureText(n[j]).width;e.fillText(n[j],0,-s.FontRotate.Radius);var m=180*(h+d)/(c*Math.PI);e.rotate(Math.PI/180*m)}}else{e.rotate(Math.PI/180*(180-s.Angle));for(var v=0;v<n.length;v++){var p=e.measureText(n[v]).width;e.fillText(n[v],0,+s.FontRotate.Radius);var O=180*(p+d)/(c*Math.PI);e.rotate(Math.PI/180*-O)}}return e.restore(),null}(e,n,s):function(e,t,n){var a,i,o,l;if(!(null===(a=t.json)||void 0===a||null===(i=a.Digit)||void 0===i?void 0:i.SystemFont))return null;var s=t.json.Digit.SystemFont,r=s.Size?.8*s.Size:0,c=t.json.Digit.Spacing;e.font="".concat(r,"px Verdana"),e.save();var d=(null===(o=s.Coordinates)||void 0===o?void 0:o.X)?s.Coordinates.X:0,u=(null===(l=s.Coordinates)||void 0===l?void 0:l.Y)?s.Coordinates.Y:0,g=Math.PI/180*s.Angle;e.translate(d,u),e.rotate(g),e.fillStyle=b.colorRead(s.Color);for(var j=0,h=0;h<n.length;h++)e.fillText(n[h],j,0),j=j+e.measureText(n[h]).width+c;return e.restore(),null}(e,n,s):i}function yt(e,t,n,a,i,o){var l,s;if(null!==i){if(n.json.Scale){var r,c=function(e){var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t||0}(null===(r=n.json.Scale)||void 0===r?void 0:r.ImageSet);if(n.json.Scale.ImageSet[c].ImageSet.ImageIndex>=0){var d,u,g,j,h=(null===(d=n.json.Scale.Coordinates)||void 0===d?void 0:d.X)?null===(u=n.json.Scale.Coordinates)||void 0===u?void 0:u.X:0,m=(null===(g=n.json.Scale.Coordinates)||void 0===g?void 0:g.Y)?null===(j=n.json.Scale.Coordinates)||void 0===j?void 0:j.Y:0,v=mt(n.json.Scale.ImageSet[c].ImageSet.ImageIndex,t);v&&e.drawImage(v,h,m,v.width,v.height)}}if((null===(l=n.json.Pointer)||void 0===l?void 0:l.ImageIndex)>=0){var b,p=n.json.X?n.json.X:0,f=n.json.Y?n.json.Y:0;n.json.X||n.json.Y||(p=n.json.X?n.json.X:xe.width/2,f=n.json.Y?n.json.Y:xe.height/2);var x=mt(null===(b=n.json.Pointer)||void 0===b?void 0:b.ImageIndex,t);if(x){var y,I,C,w,S=(null===(y=n.json.Pointer.Coordinates)||void 0===y?void 0:y.X)?null===(I=n.json.Pointer.Coordinates)||void 0===I?void 0:I.X:x.width/2,D=(null===(C=n.json.Pointer.Coordinates)||void 0===C?void 0:C.Y)?null===(w=n.json.Pointer.Coordinates)||void 0===w?void 0:w.Y:x.height/2,k=n.json.StartAngle?n.json.StartAngle:0,M=n.json.EndAngle?n.json.EndAngle:360,F=o?180*S/(D*Math.PI):0,N=k+Math.round(a*(M-k)/i)+F;N=Math.min(N,M+F),N=Math.max(N,k);var P=Math.PI/180*N;e.save(),e.translate(p,f),e.rotate(P),e.drawImage(x,-S,-D,x.width,x.height),e.restore()}}if((null===(s=n.json.Cover)||void 0===s?void 0:s.ImageIndex)>=0){var A,E,U,T,B,Y=(null===(A=n.json.Cover)||void 0===A||null===(E=A.Coordinates)||void 0===E?void 0:E.X)?n.json.Cover.Coordinates.X:0,X=(null===(U=n.json.Cover)||void 0===U||null===(T=U.Coordinates)||void 0===T?void 0:T.Y)?null===(B=n.json.Cover.Coordinates)||void 0===B?void 0:B.Y:0,L=mt(n.json.Cover.ImageIndex,t);L&&e.drawImage(L,Y,X,L.width,L.height)}}}function It(e,t,n,a,i){var o;if(null!==i&&(null===(o=n.jsonObj)||void 0===o?void 0:o.AngleSettings)){var l,s,r,c=n.jsonObj.Width?n.jsonObj.Width:0,d=n.jsonObj.AngleSettings,u=d.X?d.X:0,g=d.Y?d.Y:0;a>i&&(a=i);var j=d.StartAngle?d.StartAngle:0,h=d.EndAngle?d.EndAngle:360,m=j+Math.round(a*(h-j)/i),v=d.Radius;if(null===(l=n.jsonObj)||void 0===l?void 0:l.ForegroundImageIndex){var p=mt(n.jsonObj.ForegroundImageIndex,t);if(p){var O,f=u-v-c/2,x=g-v-c/2;if(null===(O=n.jsonObj)||void 0===O?void 0:O.BackgroundImageIndex){var y=mt(n.jsonObj.BackgroundImageIndex,t);y&&e.drawImage(y,f,x,y.width,y.height)}e.save(),e.beginPath(),function(e,t,n,a,i,o,l,s){if(s<3)return;if(0!==t&&t)if(90===t){var r=Math.PI/180*(i-90),c=Math.PI/180*(o-90),d=r<c,u=n+(l-s/2)*Math.cos(Math.PI*(i-90)/180),g=a+(l-s/2)*Math.sin(Math.PI*(i-90)/180),j=n+l*Math.cos(Math.PI*(i-(d?1:-1)*(s/2*360/(2*Math.PI*(l-s/2)))-90)/180),h=a+l*Math.sin(Math.PI*(i-(d?1:-1)*(s/2*360/(2*Math.PI*(l-s/2)))-90)/180),m=n+(l+s/2)*Math.cos(Math.PI*(i-90)/180),v=a+(l+s/2)*Math.sin(Math.PI*(i-90)/180),b=n+l*Math.cos(Math.PI*(o+(d?1:-1)*s/2*360/(2*Math.PI*(l-s/2))-90)/180),p=a+l*Math.sin(Math.PI*(o+(d?1:-1)*s/2*360/(2*Math.PI*(l-s/2))-90)/180),O=n+(l-s/2)*Math.cos(Math.PI*(o-90)/180),f=a+(l-s/2)*Math.sin(Math.PI*(o-90)/180);e.arc(n,a,l-s/2,r,c,!d),e.moveTo(u,g),e.lineTo(j,h),e.lineTo(m,v),e.arc(n,a,l+s/2,r,c,!d),e.lineTo(b,p),e.lineTo(O,f)}else{var x=n+(l-s/2)*Math.cos(Math.PI*(i-90)/180),y=a+(l-s/2)*Math.sin(Math.PI*(i-90)/180),I=n+(l+s/2)*Math.cos(Math.PI*(i-90)/180),C=a+(l+s/2)*Math.sin(Math.PI*(i-90)/180),w=n+(l-s/2)*Math.cos(Math.PI*(o-90)/180),S=a+(l-s/2)*Math.sin(Math.PI*(o-90)/180),D=Math.PI/180*(i-90),k=Math.PI/180*(o-90),M=D<k;e.arc(n,a,l-s/2,D,k,!M),e.moveTo(x,y),e.lineTo(I,C),e.arc(n,a,l+s/2,D,k,!M),e.lineTo(w,S)}else{var F=n+l*Math.cos(Math.PI*(i-90)/180),N=a+l*Math.sin(Math.PI*(i-90)/180),P=n+l*Math.cos(Math.PI*(o-90)/180),A=a+l*Math.sin(Math.PI*(o-90)/180),E=Math.PI/180*(i-90),U=Math.PI/180*(o-90),T=E<U;e.arc(n,a,l-s/2,E,U,!T),e.arc(F,N,s/2,E-Math.PI,E,!T),e.arc(n,a,l+s/2,E,U,!T),e.arc(P,A,s/2,U,U+Math.PI,!T)}}(e,n.jsonObj.Flatness,u,g,j,m,v,c),e.clip(),e.drawImage(p,u-p.width/2,g-p.height/2),e.restore()}}else if(null===(s=n.jsonObj)||void 0===s?void 0:s.Color){var I=b.colorRead(n.jsonObj.Color);if(b.GFG_Fun(I)){var C,w=u-v-c/2,S=g-v-c/2;if(null===(C=n.jsonObj)||void 0===C?void 0:C.BackgroundImageIndex){var D=mt(n.jsonObj.BackgroundImageIndex,t);D&&e.drawImage(D,w,S,D.width,D.height)}e.beginPath();var k=Math.PI/180*(j-90),M=Math.PI/180*(m-90),F=k<M;e.arc(u,g,v,k,M,!F),e.strokeStyle=I,e.lineWidth=c,e.stroke(),function(e,t,n,a,i,o,l,s,r){if(r<3)return;if(0!==n&&n){if(90===n){var c=a+(s+r/2)*Math.cos(Math.PI*(o-90)/180),d=i+(s+r/2)*Math.sin(Math.PI*(o-90)/180),u=a+(s-r/2)*Math.cos(Math.PI*(o-90)/180),g=i+(s-r/2)*Math.sin(Math.PI*(o-90)/180),j=a+s*Math.cos(Math.PI*(o-r/2*360/(2*Math.PI*(s-r/2))-90)/180),h=i+s*Math.sin(Math.PI*(o-r/2*360/(2*Math.PI*(s-r/2))-90)/180);e.fillStyle=t,e.beginPath(),e.lineWidth=1,e.moveTo(c,d),e.lineTo(u,g),e.lineTo(j,h),e.closePath(),e.fill(),c=a+(s+r/2)*Math.cos(Math.PI*(l-90)/180),d=i+(s+r/2)*Math.sin(Math.PI*(l-90)/180),u=a+(s-r/2)*Math.cos(Math.PI*(l-90)/180),g=i+(s-r/2)*Math.sin(Math.PI*(l-90)/180),j=a+s*Math.cos(Math.PI*(l+r/2*360/(2*Math.PI*(s-r/2))-90)/180),h=i+s*Math.sin(Math.PI*(l+r/2*360/(2*Math.PI*(s-r/2))-90)/180),e.fillStyle=t,e.beginPath(),e.lineWidth=1,e.moveTo(c,d),e.lineTo(u,g),e.lineTo(j,h),e.closePath(),e.fill()}}else{var m=a+s*Math.cos(Math.PI*(o-90)/180),v=i+s*Math.sin(Math.PI*(o-90)/180);e.beginPath(),e.lineWidth=1,e.arc(m,v,r/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill(),m=a+s*Math.cos(Math.PI*(l-90)/180),v=i+s*Math.sin(Math.PI*(l-90)/180),e.beginPath(),e.lineWidth=1,e.arc(m,v,r/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill()}}(e,I,n.jsonObj.Flatness,u,g,j,m,v,c),e.lineWidth=1}}if(null===(r=n.jsonObj)||void 0===r?void 0:r.PointerImageIndex){var N=mt(n.jsonObj.PointerImageIndex,t);if(N){var P=u+v*Math.cos(Math.PI*(m-90)/180),A=g+v*Math.sin(Math.PI*(m-90)/180);e.drawImage(N,P,A,N.width,N.height)}}}}function Ct(e,t,n,a,i){var o;if(null!==i&&(a>i&&(a=i),null===(o=n.jsonObj)||void 0===o?void 0:o.LinearSettings)){var l,s,r,c,d=n.jsonObj.LinearSettings;if(null===(l=n.jsonObj)||void 0===l?void 0:l.BackgroundImageIndex){var u=mt(n.jsonObj.BackgroundImageIndex,t);if(u){var g=d.StartX?d.StartX:0,j=d.StartY?d.StartY:0,h=d.EndX?d.EndX:g+u.width,m=d.EndY?d.EndY:j+u.height,v=Math.min(h-g,u.width),p=Math.min(m-j,u.height);e.drawImage(u,g,j,v,p)}}if(null===(s=n.jsonObj)||void 0===s?void 0:s.ForegroundImageIndex){var O=mt(n.jsonObj.ForegroundImageIndex,t);if(O){var f=d.StartX?d.StartX:0,x=d.StartY?d.StartY:0,y=a*((d.EndX?d.EndX:f+O.width)-f)/i;y=Math.min(y,O.width);var I=n.jsonObj.Width;I=Math.min(I,O.height),e.save(),e.beginPath(),function(e,t,n,a,i,o){if(0!==t&&t)e.rect(n,a,i,o);else{var l=n,s=a,r=n+i-o/2,c=a+o;e.arc(l,a+o/2,o/2,.5*Math.PI,1.5*Math.PI),e.lineTo(r,s),e.arc(r,a+o/2,o/2,1.5*Math.PI,.5*Math.PI),e.lineTo(l,c)}}(e,n.jsonObj.Flatness,f,x,y,I),e.clip(),e.drawImage(O,f,x),e.restore()}}else if(null===(r=n.jsonObj)||void 0===r?void 0:r.Color){var C=b.colorRead(n.jsonObj.Color);if(b.GFG_Fun(C)){e.fillStyle=C;var w=d.StartX?d.StartX:0,S=d.StartY?d.StartY:0,D=d.EndX?d.EndX:w,k=n.jsonObj.Width,M=a*(D-w)/i;e.fillRect(w,S,M,k),function(e,t,n,a,i,o,l){if(o<3)return;if(0===n||!n){e.beginPath(),e.lineWidth=1,e.arc(a,i+l/2,l/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill();var s=a+o;e.beginPath(),e.lineWidth=1,e.arc(s,i+l/2,l/2-1,0,2*Math.PI),e.strokeStyle=t,e.fillStyle=t,e.stroke(),e.fill()}}(e,C,n.jsonObj.Flatness,w,S,M,k)}}if(null===(c=n.jsonObj)||void 0===c?void 0:c.PointerImageIndex){var F=mt(n.jsonObj.PointerImageIndex,t);if(F){var N=d.StartX?d.StartX:0,P=d.StartY?d.StartY:0,A=a*((d.EndX?d.EndX:N)-N)/i-F.width;A>=0&&e.drawImage(F,N+A,P)}}}}function wt(e,t,n,a,i){var o=0,l=0;n&&n.forEach((function(n){switch(n.type){case S.Battery:o=a.battery,l=a.batteryGoal,St(e,t,n,{cur:{value:o,total:l},min:null,max:null,imageProgress:{value:o,total:l}},i);break;case S.Steps:o=a.steps,l=a.stepsGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.Calories:o=a.calories,l=a.caloriesGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.HeartRate:o=a.hearthrate,l=a.hearthrateGoal,St(e,t,n,{cur:{value:o,total:l},min:null,max:null,imageProgress:{value:o,total:l}},i);break;case S.Pai:o=a.pai,l=a.paiGoal,St(e,t,n,{cur:{value:o,total:l},min:null,max:null,imageProgress:{value:o,total:l}},i);break;case S.Distance:o=a.distance,St(e,t,n,{cur:{value:o,total:null},min:null,max:null,imageProgress:null},i);break;case S.StandUp:o=a.standup,l=a.standupGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.Weather:St(e,t,n,{cur:{value:a.temperature,total:null},min:{value:a.temperatureMin,total:null},max:{value:a.temperatureMax,total:null},imageProgress:{value:a.weatherIcon,total:29}},i);break;case S.UVindex:o=a.uvIndex,l=a.uvIndexGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.AirQuality:o=a.airQuality,l=a.airQualityGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.Humidity:o=a.humidity,l=a.humidityGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.Sunrise:St(e,t,n,{cur:{value:a.sunrise,total:null},min:{value:a.sunrise,total:null},max:{value:a.sunset,total:null},imageProgress:{value:1,total:2}},i);break;case S.WindForce:o=a.windForce,St(e,t,n,{cur:{value:o,total:null},min:null,max:null,imageProgress:{value:o,total:null}},i);break;case S.AirPressure:o=a.airPressure,l=a.airPressureGoal,St(e,t,n,{cur:{value:o,total:l},min:null,max:null,imageProgress:{value:o,total:l}},i);break;case S.Stress:o=a.stress,l=a.stressGoal,St(e,t,n,{cur:{value:o,total:l},min:null,max:null,imageProgress:{value:o,total:l}},i);break;case S.ActivityGoal:o=a.steps,l=a.stepsGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i);break;case S.FatBurning:o=a.fatBurning,l=a.fatBurningGoal,St(e,t,n,{cur:{value:o,total:l},min:{value:l,total:null},max:null,imageProgress:{value:o,total:l}},i)}}))}function St(e,t,n,a,i){var o,l,s,r=null;n.imageProgress.enabled&&function(e,t,n,a,i){var o;if(null!==i&&n.enabled&&(null===(o=n.json.ImageSet)||void 0===o?void 0:o.ImageIndex)&&n.json.Coordinates){var l=n.json.ImageSet.ImagesCount-1,s=n.json.Coordinates,r=Math.ceil(a/(i/l));r>l&&(r=l),a>i&&(a=i);var c=0;n.json.DisplayType||(c=r);for(var d=c;d<=r;d++){var u=d<s.length?s[d].X?s[d].X:0:s[s.length-1].X?s[s.length-1].X:0,g=d<s.length?s[d].Y?s[d].Y:0:s[s.length-1].Y?s[s.length-1].Y:0,j=mt(n.json.ImageSet.ImageIndex+d,t);j&&e.drawImage(j,u,g,j.width,j.height)}}}(e,t,n.imageProgress,a.imageProgress.value,a.imageProgress.total),n.progressBar.enabledLinear&&Ct(e,t,n.progressBar,a.cur.value,a.cur.total),n.progressBar.enabledCircle&&It(e,t,n.progressBar,a.cur.value,a.cur.total),n.pointerProgress.enabled&&yt(e,t,n.pointerProgress,a.cur.value,a.cur.total,n.progressBar.enabledLinear||n.progressBar.enabledCircle),n.icon.enabled&&vt(e,t,n.icon.json),(null===(o=n.digit)||void 0===o?void 0:o.enabled)&&(r=xt(e,t,n.digit,a.cur.value,r,i,!1,ft(n.digit,a.cur.value))),(null===(l=n.digitMin)||void 0===l?void 0:l.enabled)&&a.min&&(r=xt(e,t,n.digitMin,a.min.value,n.digitMin.json.CombingMode===x.Single.json?null:r,i,!1,ft(n.digitMin,a.min.value))),(null===(s=n.digitMax)||void 0===s?void 0:s.enabled)&&a.max&&xt(e,t,n.digitMax,a.max.value,n.digitMax.json.CombingMode===x.Single.json?null:r,i,!1,ft(n.digitMax,a.max.value))}function Dt(e,t,n,a,i,o){for(var l=null,s=[],r=0;r<a.length;r++)s[r]="";for(var c=0;c<a.length;c++){var d=null,u=!1;switch(a[c].type){case 0:n.year.enabled&&(u=n.year.json.CombingMode===x.Follow.json,d=Ot(d=i.year.toString().padStart(n.year.con.numberLenght,"0"),n.year));break;case 1:n.month.enabled&&(u=n.month.json.CombingMode===x.Follow.json,d=Ot(d=i.month.toString().padStart(n.month.con.numberLenght,"0"),n.month));break;case 2:n.day.enabled&&(u=n.day.json.CombingMode===x.Follow.json,d=Ot(d=i.day.toString().padStart(n.day.con.numberLenght,"0"),n.day))}if(d){for(var g=c+1;g<a.length;g++)s[g]=s[g]+d;u?(""!==s[c-1]?s[c-1]=s[c-1]+d:s[c-2]=s[c-2]+d,s[c]=""):s[c]=s[c]+d}}for(var j=0;j<a.length;j++){switch(a[j].type){case 0:n.year.enabled&&(l=xt(e,t,n.year,i.year,n.year.json.CombingMode===x.Single.json?null:l,o,!1,s[j]));break;case 1:n.month.enabled?l=xt(e,t,n.month,i.month,n.month.json.CombingMode===x.Single.json?null:l,o,!1,s[j]):n.monthAsWord.enabled&&xt(e,t,n.monthAsWord,i.monthasword);break;case 2:n.day.enabled&&(l=xt(e,t,n.day,i.day,n.day.json.CombingMode===x.Single.json?null:l,o,!1,s[j]))}}n.weekDay.enabled&&xt(e,t,n.weekDay,i.weekday)}function kt(e,t,n,a,i){var o,l;if(null!==i){if(n.json.Scale){var s,r=function(e){var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t||0}(null===(s=n.json.Scale)||void 0===s?void 0:s.ImageSet);if(n.json.Scale.ImageSet[r].ImageSet.ImageIndex>=0){var c,d,u,g,j=(null===(c=n.json.Scale.Coordinates)||void 0===c?void 0:c.X)?null===(d=n.json.Scale.Coordinates)||void 0===d?void 0:d.X:0,h=(null===(u=n.json.Scale.Coordinates)||void 0===u?void 0:u.Y)?null===(g=n.json.Scale.Coordinates)||void 0===g?void 0:g.Y:0,m=mt(n.json.Scale.ImageSet[r].ImageSet.ImageIndex,t);m&&e.drawImage(m,j,h,m.width,m.height)}}if((null===(o=n.json.Pointer)||void 0===o?void 0:o.ImageIndex)>=0){var v,b=n.json.X?n.json.X:0,p=n.json.Y?n.json.Y:0;n.json.X>0||n.json.Y>0||(b=n.json.X?n.json.X:xe.width/2,p=n.json.Y?n.json.Y:xe.height/2);var f=mt(null===(v=n.json.Pointer)||void 0===v?void 0:v.ImageIndex,t);if(f){var x,y,I,C,w=(null===(x=n.json.Pointer.Coordinates)||void 0===x?void 0:x.X)?null===(y=n.json.Pointer.Coordinates)||void 0===y?void 0:y.X:f.width/2,S=(null===(I=n.json.Pointer.Coordinates)||void 0===I?void 0:I.Y)?null===(C=n.json.Pointer.Coordinates)||void 0===C?void 0:C.Y:f.height/2,D=n.json.StartAngle?n.json.StartAngle:0,k=n.json.EndAngle?n.json.EndAngle:360,M=D+Math.round(a*(k-D)/i);M=Math.min(M,k),M=Math.max(M,D);var F=Math.PI/180*M;e.save(),e.translate(b,p),e.rotate(F),e.drawImage(f,-w,-S,f.width,f.height),e.restore()}}if((null===(l=n.json.Cover)||void 0===l?void 0:l.ImageIndex)>=0){var N,P,A,E,U,T=(null===(N=n.json.Cover)||void 0===N||null===(P=N.Coordinates)||void 0===P?void 0:P.X)?n.json.Cover.Coordinates.X:0,B=(null===(A=n.json.Cover)||void 0===A||null===(E=A.Coordinates)||void 0===E?void 0:E.Y)?null===(U=n.json.Cover.Coordinates)||void 0===U?void 0:U.Y:0,Y=mt(n.json.Cover.ImageIndex,t);Y&&e.drawImage(Y,T,B,Y.width,Y.height)}}}function Mt(e,t,n,a){var i,o,l;(null===(i=n.hoursClockhand)||void 0===i?void 0:i.enabled)&&(a.hours<12?kt(e,t,n.hoursClockhand,a.hours,12):kt(e,t,n.hoursClockhand,a.hours-12,12)),(null===(o=n.minutesClockhand)||void 0===o?void 0:o.enabled)&&kt(e,t,n.minutesClockhand,a.minutes,60),(null===(l=n.secondsClockhand)||void 0===l?void 0:l.enabled)&&kt(e,t,n.secondsClockhand,a.seconds,60)}function Ft(e,t,n){var a,i,o,l=function(e){if(!e)return null;var t=e.findIndex((function(e){return e.LangCode===O.All.json}));return t>=0?t:0}(null===(a=n.json)||void 0===a?void 0:a.ImageSet);if(n.json.ImageSet&&(null===(i=n.json.ImageSet[l])||void 0===i||null===(o=i.ImageSet)||void 0===o?void 0:o.ImageIndex)){var s,r,c=(null===(s=n.json.Coordinates)||void 0===s?void 0:s.X)?n.json.Coordinates.X:0,d=(null===(r=n.json.Coordinates)||void 0===r?void 0:r.Y)?n.json.Coordinates.Y:0,u=mt(n.json.ImageSet[l].ImageSet.ImageIndex,t);u&&e.drawImage(u,c,d,u.width,u.height)}}function Nt(e,t,n,a,i){var o,l,s,r,c,d,u,g,j,h=null,m="",v="",b="";((null===(o=n.secondsDigital)||void 0===o?void 0:o.enabled)&&(b=Ot(b=a.seconds.toString().padStart(n.secondsDigital.con.numberLenght,"0"),n.secondsDigital)),null===(l=n.minutesDigital)||void 0===l?void 0:l.enabled)&&(v=Ot(v=a.minutes.toString().padStart(n.minutesDigital.con.numberLenght,"0"),n.minutesDigital),(null===(u=n.secondsDigital)||void 0===u?void 0:u.enabled)&&(n.secondsDigital.json.CombingMode===x.Follow.json?(v+=b,b=""):b=v+b));(null===(s=n.hoursDigital)||void 0===s?void 0:s.enabled)&&(m=a.hours.toString(),n.hoursDigital.json.Digit.PaddingZero&&(m=m.padStart(n.hoursDigital.con.numberLenght,"0")),m=Ot(m,n.hoursDigital),n.minutesDigital.json.CombingMode===x.Follow.json?((null===(g=n.secondsDigital)||void 0===g?void 0:g.enabled)&&n.secondsDigital.json.CombingMode!==x.Follow.json&&(b=m+b),m+=v,v=""):(v=m+v,(null===(j=n.secondsDigital)||void 0===j?void 0:j.enabled)&&n.secondsDigital.json.CombingMode!==x.Follow.json&&(b=m+b)));(null===(r=n.hoursDigital)||void 0===r?void 0:r.enabled)&&(h=xt(e,t,n.hoursDigital,a.hours,n.hoursDigital.json.CombingMode===x.Single.json?null:h,i,!1,m)),(null===(c=n.minutesDigital)||void 0===c?void 0:c.enabled)&&(h=xt(e,t,n.minutesDigital,a.minutes,n.minutesDigital.json.CombingMode===x.Single.json?null:h,i,!0,v)),(null===(d=n.secondsDigital)||void 0===d?void 0:d.enabled)&&xt(e,t,n.secondsDigital,a.seconds,n.secondsDigital.json.CombingMode===x.Single.json?null:h,i,!0,b),n.am&&n.am.enabled&&a.hours<12&&Ft(e,t,n.am),n.pm&&n.pm.enabled&&a.hours>=12&&Ft(e,t,n.pm)}function Pt(e,t,n,a,i,o,l){n&&n.widgets.forEach((function(s,r){!function(e,t,n,a,i,o,l,s,r,c){if(a){if(a.widgetElements&&a.widgetElements.length>0){var d=i.widgets&&n<i.widgets.length?i.widgets[n]:0;if(s&&a.widgetElements[d].previewImageIndex){var u=mt(c,t);u&&e.drawImage(u,0,0);var g=a.widgetElements[d].previewImageIndex,j=mt(g[g].ImageSet.ImageIndex,t);j&&e.drawImage(j,a.x,a.y);var h=mt(r,t);h&&e.drawImage(h,0,0)}else{wt(e,t,a.widgetElements[d].activitys,i,o)}}l&&(e.strokeStyle="white",e.strokeRect(a.x,a.y,a.width,a.height))}}(e,t,r,s,a,i,o,l,n.topMaskImageIndex,n.underMaskImageIndex)}))}var At=n(15),Et=n.n(At),Ut="preview_white_grid",Tt="preview_black_grid",Bt="preview_digit_border",Yt=function(e){var t=e.width,n=e.height,i=Object(a.useContext)(g),o=i.images,l=i.watchface,r=i.watchState,c=i.previewScreenNormal,d=Object(a.useState)(!1),u=Object(s.a)(d,2),j=u[0],h=u[1],m=Object(a.useState)(!1),v=Object(s.a)(m,2),p=v[0],O=v[1],f=Object(a.useState)(0),x=Object(s.a)(f,2),y=x[0],I=x[1],C=Object(a.useState)(0),w=Object(s.a)(C,2),S=w[0],D=w[1],k=Object(a.useState)(!!localStorage.getItem(Ut)&&JSON.parse(localStorage.getItem(Ut))),M=Object(s.a)(k,2),F=M[0],N=M[1],P=Object(a.useState)(!!localStorage.getItem(Tt)&&JSON.parse(localStorage.getItem(Tt))),A=Object(s.a)(P,2),E=A[0],U=A[1],T=Object(a.useState)(!!localStorage.getItem(Bt)&&JSON.parse(localStorage.getItem(Bt))),B=Object(s.a)(T,2),Y=B[0],X=B[1];function L(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"black",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;a&&(e.strokeStyle=a),i&&(e.lineWidth=i),e.beginPath(),e.moveTo(t[0],t[1]),e.lineTo(n[0],n[1]),e.stroke()}return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)("div",{className:Et.a.canvasCcontainer,children:[c?"Screen Normal":"AOD",Object(de.jsxs)("div",{children:["x: ",y,", y: ",S]}),Object(de.jsx)(ht,{id:"canvasPreview",draw:function(e,a){o&&l&&(e?(a.clearRect(0,0,e.width,e.height),c?function(e,t,n){l.background&&function(e,t,n,a){if(void 0!==(null===a||void 0===a?void 0:a.imageIndex)&&null!==(null===a||void 0===a?void 0:a.imageIndex)){var i=mt(a.imageIndex,n);if(i){var o=i;t.drawImage(o,0,0,o.width,o.height)}}else a.color&&b.GFG_Fun(a.color)&&(t.fillStyle=a.color,t.fillRect(0,0,e.width,e.height))}(e,t,n,l.background);l.date&&Dt(t,n,l.date,l.orderElements.orderElementsDate,r,Y);l.activity&&wt(t,n,l.activity,r,Y);l.status&&function(e,t,n,a){n.bluetooth.enabled&&!a.bluetooth&&vt(e,t,n.bluetooth.json),n.dnd.enabled&&a.dnd&&vt(e,t,n.dnd.json),n.alarm.enabled&&a.alarm&&vt(e,t,n.alarm.json),n.lock.enabled&&a.lock&&vt(e,t,n.lock.json)}(t,n,l.status,r);l.widgets.enabled&&Pt(t,n,l.widgets,r,Y,j,p);var a;l.dialFace&&(p&&1!==(null===(a=l.widgets)||void 0===a?void 0:a.showTimeOnEditScreen)||(Nt(t,n,l.dialFace,r,Y),Mt(t,n,l.dialFace,r)))}(e,a,o):function(e,t,n){l.aod&&function(e,t,n,a){if(void 0!==a&&null!==a){var i=mt(a,n);i&&t.drawImage(i,0,0,i.width,i.height)}else t.fillStyle="black",t.fillRect(0,0,e.width,e.height)}(e,t,n,l.aod.backgroundImageIndex);l.aod.date&&Dt(t,n,l.aod.date,l.orderElements.orderElementsDate,r,Y);l.aod.activitylist&&wt(t,n,l.aod.activitylist,r,Y);l.aod.dialFace&&(Nt(t,n,l.aod.dialFace,r,Y),Mt(t,n,l.aod.dialFace,r))}(e,a,o),function(e){if(!F&&!E)return;for(var a=F?"white":"black",i=20,o=t/2;o>0;o-=i)L(e,[o,0],[o,n],a,1);for(var l=t/2;l<t;l+=i)L(e,[l,0],[l,n],a,1);for(var s=n/2;s>0;s-=i)L(e,[0,s],[t,s],a,1);for(var r=n/2;r<n;r+=i)L(e,[0,r],[t,r],a,1);L(e,[t/2-1,0],[t/2-1,n],a,2),L(e,[0,n/2-1],[t,n/2-1],a,2)}(a)):console.error("don't find canvas with id canvasPreview"))},className:Et.a.canvasPreview,width:t,height:n,onClick:function(e){var a=document.getElementById("canvasPreview").getBoundingClientRect(),i=e.clientX-a.left,o=e.clientY-a.top;i=Math.min(t,Math.max(0,Math.round(i))),o=Math.min(n,Math.max(0,Math.round(o))),I(i),D(o)}})]}),Object(de.jsx)("div",{className:"container d-flex justify-content-center",children:Object(de.jsxs)("div",{children:[Object(de.jsxs)("div",{className:"input-group input-group-sm",style:{width:"max-content"},children:[Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"White grid"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:F,onChange:function(){var e=!F;N(e),localStorage.setItem(Ut,JSON.stringify(e))}})}),Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"Black grid"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:E,onChange:function(){var e=!E;U(e),localStorage.setItem(Ut,JSON.stringify(e))}})}),Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"border on digit"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:Y,onChange:function(){var e=!Y;X(e),localStorage.setItem(Bt,JSON.stringify(e))}})})]}),Object(de.jsxs)("div",{className:"input-group input-group-sm",style:{width:"max-content"},children:[Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"border on widgets"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:j,onChange:function(){return h(!j)}})}),Object(de.jsx)("span",{className:"input-group-text",id:"addon-wrapping",children:"show preview of widgets"}),Object(de.jsx)("div",{className:"input-group-text",children:Object(de.jsx)("input",{className:"form-check-input mt-0",type:"checkbox",checked:p,onChange:function(){return O(!p)}})})]})]})})]})},Xt=function(){var e=Object(a.useContext)(g).images;return Object(de.jsx)("div",{className:"container d-flex justify-content-center",children:e.length>0?Object(de.jsxs)("div",{children:[Object(de.jsxs)("h2",{children:["number of images: ",e.length," "]}),Object(de.jsx)("ul",{className:"list-group blocks",style:{width:"100%"},children:e.map((function(e){return Object(de.jsxs)("li",{value:e.id,className:"list-group-item fileitem",children:[Object(de.jsx)("img",{src:e.image.src,alt:e.name,width:30}),e.name]},e.id)}))})]}):Object(de.jsx)("div",{children:"no uploaded images"})})},Lt=[{id:0,name:"Preview"},{id:1,name:"Element Order"},{id:2,name:"Uploaded Images"},{id:3,name:"Json"}],Wt=function(){var e=Object(a.useState)(0),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(de.jsxs)("div",{children:[Object(de.jsx)("ul",{className:"nav nav-tabs",children:Lt.map((function(e){return Object(de.jsx)("li",{className:"nav-item",children:Object(de.jsx)("button",{className:"nav-link ".concat(n===e.id?"active":""," "),onClick:function(){return i(e.id)},children:e.name})},e.id)}))}),0===n?Object(de.jsx)(Yt,{width:xe.width,height:xe.height}):1===n?Object(de.jsx)(ot,{}):2===n?Object(de.jsx)(Xt,{}):Object(de.jsx)(rt,{})]})},Rt=function e(){Object(h.a)(this,e),this._date=new Date,this.year=this._date.getFullYear(),this.month=this._date.getMonth()+1,this.monthasword=this._date.getMonth(),this.day=this._date.getDate(),this.hours=this._date.getHours(),this.minutes=this._date.getMinutes(),this.seconds=this._date.getSeconds(),this.weekday=this._date.getDay()>0?this._date.getDay()-1:6,this.batteryGoal=100,this.battery=Math.round(Math.random()*this.batteryGoal),this.stepsGoal=1e3*(Math.round(5*Math.random())+5),this.steps=Math.round(Math.random()*this.stepsGoal),this.caloriesGoal=200,this.calories=Math.round(Math.random()*this.caloriesGoal),this.hearthrateGoal=220,this.hearthrate=Math.round(200*Math.random()),this.distance=Math.round(1e3*Math.random())+1e3,this.paiGoal=100,this.pai=Math.round(Math.random()*this.paiGoal),this.standupGoal=12,this.standup=Math.round(Math.random()*this.standupGoal),this.bluetooth=!0,this.dnd=!0,this.lock=!1,this.alarm=!0,this.temperature=Math.round(10*Math.random()),this.temperatureMin=this.temperature-Math.round(10*Math.random()),this.temperatureMax=this.temperature+Math.round(10*Math.random()),this.weatherIcon=Math.round(29*Math.random()),this.uvIndexGoal=11,this.uvIndex=Math.round(Math.random()*this.uvIndexGoal),this.airQualityGoal=500,this.airQuality=Math.round(Math.random()*this.airQualityGoal),this.humidityGoal=100,this.humidity=Math.round(Math.random()*this.humidityGoal),this.sunrise=536,this.sunset=1742,this.windForce=Math.round(12*Math.random()),this.airPressureGoal=100,this.airPressure=Math.round(Math.random()*this.airPressureGoal),this.stressGoal=100,this.stress=Math.round(Math.random()*this.stressGoal),this.fatBurningGoal=30,this.fatBurning=Math.round(Math.random()*this.fatBurningGoal),this.widgets=[]},Ht=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(new ce),l=Object(s.a)(o,2),u=l[0],j=l[1],h=Object(a.useState)(new Rt),m=Object(s.a)(h,2),v=m[0],b=m[1],p=Object(a.useState)(null),O=Object(s.a)(p,2),f=O[0],x=O[1],y=Object(a.useState)(!0),I=Object(s.a)(y,2),C=I[0],w=I[1];return Object(de.jsx)(g.Provider,{value:{images:n,setImages:i,watchface:u,setWatchface:j,watchState:v,setWatchState:b,jsonName:f,setJsonName:x,previewScreenNormal:C,setPreviewScreenNormal:w},children:Object(de.jsxs)(r.a,{className:"App d-flex flex-column min-vh-100 vh-100",children:[Object(de.jsx)(c.a,{className:"header",children:Object(de.jsx)(ue,{})}),Object(de.jsxs)(c.a,{className:"main",children:[Object(de.jsx)(d.a,{xs:6,className:"leftcol",children:Object(de.jsx)(it,{})}),Object(de.jsx)(d.a,{xs:6,className:"rightcol",children:Object(de.jsx)(Wt,{})})]})]})})},Gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),a(e),i(e),o(e),l(e)}))};l.a.render(Object(de.jsx)(i.a.StrictMode,{children:Object(de.jsx)(Ht,{})}),document.getElementById("root")),Gt()}},[[29,1,2]]]);
//# sourceMappingURL=main.3009928f.chunk.js.map